import{A as vr,a as M,b as te,c as gn,d as zm,e as b,f as rC,g as Pd,h as iC,i as sC,j as oC,k as qm,l as aC,m as ol,n as Hm,o as Od,p as cC,q as lC,r as Gm,s as rt,t as Ss,u as yr,v as Fd,w as al,x as uC,y as dC,z as Ci}from"./chunk-AGPXAQQT.js";function hC(n,e){return Object.is(n,e)}var St=null,Vd=!1,Ld=1,$r=Symbol("SIGNAL");function Ne(n){let e=St;return St=n,e}function fC(){return St}var ll={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qm(n){if(Vd)throw new Error("");if(St===null)return;St.consumerOnSignalRead(n);let e=St.nextProducerIndex++;if($d(St),e<St.producerNode.length&&St.producerNode[e]!==n&&cl(St)){let t=St.producerNode[e];Bd(t,St.producerIndexOfThis[e])}St.producerNode[e]!==n&&(St.producerNode[e]=n,St.producerIndexOfThis[e]=cl(St)?yC(n,St,e):0),St.producerLastReadVersion[e]=n.version}function FF(){Ld++}function pC(n){if(!(cl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ld)){if(!n.producerMustRecompute(n)&&!Zm(n)){n.dirty=!1,n.lastCleanEpoch=Ld;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ld}}function gC(n){if(n.liveConsumerNode===void 0)return;let e=Vd;Vd=!0;try{for(let t of n.liveConsumerNode)t.dirty||VF(t)}finally{Vd=e}}function mC(){return St?.consumerAllowSignalWrites!==!1}function VF(n){n.dirty=!0,gC(n),n.consumerMarkedDirty?.(n)}function Ud(n){return n&&(n.nextProducerIndex=0),Ne(n)}function Ym(n,e){if(Ne(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(cl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Zm(n){$d(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(pC(t),r!==t.version))return!0}return!1}function Jm(n){if($d(n),cl(n))for(let e=0;e<n.producerNode.length;e++)Bd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function yC(n,e,t){if(vC(n),n.liveConsumerNode.length===0&&wC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=yC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Bd(n,e){if(vC(n),n.liveConsumerNode.length===1&&wC(n))for(let r=0;r<n.producerNode.length;r++)Bd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$d(i),i.producerIndexOfThis[r]=e}}function cl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $d(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function vC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wC(n){return n.producerNode!==void 0}function _C(n){let e=Object.create(LF);e.computation=n;let t=()=>{if(pC(e),Qm(e),e.value===jd)throw e.error;return e.value};return t[$r]=e,t}var Wm=Symbol("UNSET"),Km=Symbol("COMPUTING"),jd=Symbol("ERRORED"),LF=te(M({},ll),{value:Wm,dirty:!0,error:null,equal:hC,producerMustRecompute(n){return n.value===Wm||n.value===Km},producerRecomputeValue(n){if(n.value===Km)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Km;let t=Ud(n),r;try{r=n.computation()}catch(i){r=jd,n.error=i}finally{Ym(n,t)}if(e!==Wm&&e!==jd&&r!==jd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function jF(){throw new Error}var EC=jF;function IC(){EC()}function bC(n){EC=n}var UF=null;function DC(n){let e=Object.create(TC);e.value=n;let t=()=>(Qm(e),e.value);return t[$r]=e,t}function Xm(n,e){mC()||IC(),n.equal(n.value,e)||(n.value=e,BF(n))}function CC(n,e){mC()||IC(),Xm(n,e(n.value))}var TC=te(M({},ll),{equal:hC,value:void 0});function BF(n){n.version++,FF(),gC(n),UF?.()}function fe(n){return typeof n=="function"}function Oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zd=Oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function As(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ct=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(s){e=s instanceof zd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{SC(s)}catch(o){e=e??[],o instanceof zd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new zd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)SC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&As(t,e)}remove(e){let{_finalizers:t}=this;t&&As(t,e),e instanceof n&&e._removeParent(this)}};ct.EMPTY=(()=>{let n=new ct;return n.closed=!0,n})();var ey=ct.EMPTY;function qd(n){return n instanceof ct||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function SC(n){fe(n)?n():n.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hd(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=tr;if(e)e(n);else throw n})}function ul(){}var AC=ty("C",void 0,void 0);function xC(n){return ty("E",void 0,n)}function MC(n){return ty("N",n,void 0)}function ty(n,e,t){return{kind:n,value:e,error:t}}var xs=null;function Vo(n){if(tr.useDeprecatedSynchronousErrorHandling){let e=!xs;if(e&&(xs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xs;if(xs=null,t)throw r}}else n()}function RC(n){tr.useDeprecatedSynchronousErrorHandling&&xs&&(xs.errorThrown=!0,xs.error=n)}var Ms=class extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qd(e)&&e.add(this)):this.destination=qF}static create(e,t,r){return new zr(e,t,r)}next(e){this.isStopped?ry(MC(e),this):this._next(e)}error(e){this.isStopped?ry(xC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ry(AC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$F=Function.prototype.bind;function ny(n,e){return $F.call(n,e)}var iy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gd(r)}else Gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gd(t)}}},zr=class extends Ms{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&tr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ny(e.next,s),error:e.error&&ny(e.error,s),complete:e.complete&&ny(e.complete,s)}):i=e}this.destination=new iy(i)}};function Gd(n){tr.useDeprecatedSynchronousErrorHandling?RC(n):Hd(n)}function zF(n){throw n}function ry(n,e){let{onStoppedNotification:t}=tr;t&&Fo.setTimeout(()=>t(n,e))}var qF={closed:!0,next:ul,error:zF,complete:ul};var Lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(n){return n}function sy(...n){return oy(n)}function oy(n){return n.length===0?sn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ge=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=GF(t)?t:new zr(t,r,i);return Vo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kC(r),new r((i,s)=>{let o=new zr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Lo](){return this}pipe(...t){return oy(t)(this)}toPromise(t){return t=kC(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function kC(n){var e;return(e=n??tr.Promise)!==null&&e!==void 0?e:Promise}function HF(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function GF(n){return n&&n instanceof Ms||HF(n)&&qd(n)}function ay(n){return fe(n?.lift)}function we(n){return e=>{if(ay(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,i){return new cy(n,e,t,r,i)}var cy=class extends Ms{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function jo(){return we((n,e)=>{let t=null;n._refCount++;let r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Uo=class extends ge{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ay(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;let t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return jo()(this)}};var NC=Oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NC}next(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ey:(this.currentObservers=null,s.push(t),new ct(()=>{this.currentObservers=null,As(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ge;return t.source=this,t}}return n.create=(e,t)=>new Wd(e,t),n})(),Wd=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ey}};var Lt=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dl={now(){return(dl.delegate||Date).now()},delegate:void 0};var Kd=class extends Ue{constructor(e=1/0,t=1/0,r=dl){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Qd=class extends ct{constructor(e,t){super()}schedule(e,t=0){return this}};var hl={setInterval(n,e,...t){let{delegate:r}=hl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=hl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bo=class extends Qd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return hl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&hl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,As(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};$o.now=dl.now;var zo=class extends $o{constructor(e,t=$o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var qo=new zo(Bo),ly=qo;var Yd=class extends Bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Zd=class extends zo{};var uy=new Zd(Yd);var on=new ge(n=>n.complete());function Jd(n){return n&&fe(n.schedule)}function dy(n){return n[n.length-1]}function Xd(n){return fe(dy(n))?n.pop():void 0}function wr(n){return Jd(dy(n))?n.pop():void 0}function PC(n,e){return typeof dy(n)=="number"?n.pop():e}var eh=n=>n&&typeof n.length=="number"&&typeof n!="function";function th(n){return fe(n?.then)}function nh(n){return fe(n[Lo])}function rh(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function ih(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sh=WF();function oh(n){return fe(n?.[sh])}function ah(n){return iC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Pd(t.read());if(i)return yield Pd(void 0);yield yield Pd(r)}}finally{t.releaseLock()}})}function ch(n){return fe(n?.getReader)}function Xe(n){if(n instanceof ge)return n;if(n!=null){if(nh(n))return KF(n);if(eh(n))return QF(n);if(th(n))return YF(n);if(rh(n))return OC(n);if(oh(n))return ZF(n);if(ch(n))return JF(n)}throw ih(n)}function KF(n){return new ge(e=>{let t=n[Lo]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QF(n){return new ge(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YF(n){return new ge(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Hd)})}function ZF(n){return new ge(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function OC(n){return new ge(e=>{XF(n,e).catch(t=>e.error(t))})}function JF(n){return OC(ah(n))}function XF(n,e){var t,r,i,s;return rC(this,void 0,void 0,function*(){try{for(t=sC(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function mn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function $n(n,e=0){return we((t,r)=>{t.subscribe(_e(r,i=>mn(r,n,()=>r.next(i),e),()=>mn(r,n,()=>r.complete(),e),i=>mn(r,n,()=>r.error(i),e)))})}function nr(n,e=0){return we((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function FC(n,e){return Xe(n).pipe(nr(e),$n(e))}function VC(n,e){return Xe(n).pipe(nr(e),$n(e))}function LC(n,e){return new ge(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function jC(n,e){return new ge(t=>{let r;return mn(t,e,()=>{r=n[sh](),mn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function lh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ge(t=>{mn(t,e,()=>{let r=n[Symbol.asyncIterator]();mn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function UC(n,e){return lh(ah(n),e)}function BC(n,e){if(n!=null){if(nh(n))return FC(n,e);if(eh(n))return LC(n,e);if(th(n))return VC(n,e);if(rh(n))return lh(n,e);if(oh(n))return jC(n,e);if(ch(n))return UC(n,e)}throw ih(n)}function Se(n,e){return e?BC(n,e):Xe(n)}function ae(...n){let e=wr(n);return Se(n,e)}function Ho(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new ge(e?i=>e.schedule(r,0,i):r)}function hy(n){return!!n&&(n instanceof ge||fe(n.lift)&&fe(n.subscribe))}var qr=Oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $C(n){return n instanceof Date&&!isNaN(n)}function oe(n,e){return we((t,r)=>{let i=0;t.subscribe(_e(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:eV}=Array;function tV(n,e){return eV(e)?n(...e):n(e)}function uh(n){return oe(e=>tV(n,e))}var{isArray:nV}=Array,{getPrototypeOf:rV,prototype:iV,keys:sV}=Object;function dh(n){if(n.length===1){let e=n[0];if(nV(e))return{args:e,keys:null};if(oV(e)){let t=sV(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oV(n){return n&&typeof n=="object"&&rV(n)===iV}function hh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function fl(...n){let e=wr(n),t=Xd(n),{args:r,keys:i}=dh(n);if(r.length===0)return Se([],e);let s=new ge(aV(r,e,i?o=>hh(i,o):sn));return t?s.pipe(uh(t)):s}function aV(n,e,t=sn){return r=>{zC(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)zC(e,()=>{let u=Se(n[c],e),d=!1;u.subscribe(_e(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function zC(n,e,t){n?mn(t,n,e):e()}function qC(n,e,t,r,i,s,o,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},m=D=>u<r?w(D):c.push(D),w=D=>{s&&e.next(D),u++;let C=!1;Xe(t(D,d++)).subscribe(_e(e,F=>{i?.(F),s?m(F):e.next(F)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;c.length&&u<r;){let F=c.shift();o?mn(e,o,()=>w(F)):w(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(_e(e,m,()=>{f=!0,g()})),()=>{a?.()}}function vt(n,e,t=1/0){return fe(e)?vt((r,i)=>oe((s,o)=>e(r,s,i,o))(Xe(n(r,i))),t):(typeof e=="number"&&(t=e),we((r,i)=>qC(r,i,n,t)))}function Ti(n=1/0){return vt(sn,n)}function HC(){return Ti(1)}function Go(...n){return HC()(Se(n,wr(n)))}function fh(n){return new ge(e=>{Xe(n()).subscribe(e)})}function fy(...n){let e=Xd(n),{args:t,keys:r}=dh(n),i=new ge(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;Xe(t[d]).subscribe(_e(s,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?hh(r,a):a),s.complete())}))}});return e?i.pipe(uh(e)):i}function py(n=0,e,t=ly){let r=-1;return e!=null&&(Jd(e)?t=e:r=e),new ge(i=>{let s=$C(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function pl(...n){let e=wr(n),t=PC(n,1/0),r=n;return r.length?r.length===1?Xe(r[0]):Ti(t)(Se(r,e)):on}function At(n,e){return we((t,r)=>{let i=0;t.subscribe(_e(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Si(n){return we((e,t)=>{let r=null,i=!1,s;r=e.subscribe(_e(t,void 0,void 0,o=>{s=Xe(n(o,Si(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function GC(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(_e(o,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Hr(n,e){return fe(e)?vt(n,e,1):vt(n,1)}function Ai(n){return we((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Gr(n){return n<=0?()=>on:we((e,t)=>{let r=0;e.subscribe(_e(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function gl(n){return oe(()=>n)}function ml(n,e=sn){return n=n??cV,we((t,r)=>{let i,s=!0;t.subscribe(_e(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function cV(n,e){return n===e}function ph(n=lV){return we((e,t)=>{let r=!1;e.subscribe(_e(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lV(){return new qr}function Rs(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,s)=>n(i,s,r)):sn,Gr(1),t?Ai(e):ph(()=>new qr))}function Wo(n){return n<=0?()=>on:we((e,t)=>{let r=[];e.subscribe(_e(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,s)=>n(i,s,r)):sn,Wo(1),t?Ai(e):ph(()=>new qr))}function yl(){return we((n,e)=>{let t,r=!1;n.subscribe(_e(e,i=>{let s=t;t=i,r&&e.next([s,i]),r=!0}))})}function ks(n,e){return we(GC(n,e,arguments.length>=2,!0))}function WC(n={}){let{connector:e=()=>new Ue,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,d=!1,f=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),o=c=void 0,d=f=!1},w=()=>{let D=o;m(),D?.unsubscribe()};return we((D,C)=>{u++,!f&&!d&&g();let F=c=c??e();C.add(()=>{u--,u===0&&!f&&!d&&(a=my(w,i))}),F.subscribe(C),!o&&u>0&&(o=new zr({next:L=>F.next(L),error:L=>{f=!0,g(),a=my(m,t,L),F.error(L)},complete:()=>{d=!0,g(),a=my(m,r),F.complete()}}),Xe(D).subscribe(o))})(s)}}function my(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new zr({next:()=>{r.unsubscribe(),n()}});return Xe(e(...t)).subscribe(r)}function Ko(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,WC({connector:()=>new Kd(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Wr(...n){let e=wr(n);return we((t,r)=>{(e?Go(n,t,e):Go(n,t)).subscribe(r)})}function Ye(n,e){return we((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(_e(r,c=>{i?.unsubscribe();let u=0,d=s++;Xe(n(c,d)).subscribe(i=_e(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function gh(n,e){return fe(e)?Ye(()=>n,e):Ye(()=>n)}function vl(n){return we((e,t)=>{Xe(n).subscribe(_e(t,()=>t.complete(),ul)),!t.closed&&e.subscribe(t)})}function wt(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?we((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(_e(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sn}var OT="https://g.co/ng/security#xss",ie=class extends Error{constructor(e,t){super(tf(e,t)),this.code=e}};function tf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ml(n){return{toString:n}.toString()}var mh="__parameters__";function uV(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FT(n,e,t){return Ml(()=>{let r=uV(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(mh)?c[mh]:Object.defineProperty(c,mh,{value:[]})[mh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var kn=globalThis;function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function dV(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function cn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(cn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function My(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var hV=Ge({__forward_ref__:Ge});function Vi(n){return n.__forward_ref__=Vi,n.toString=function(){return cn(this())},n}function an(n){return VT(n)?n():n}function VT(n){return typeof n=="function"&&n.hasOwnProperty(hV)&&n.__forward_ref__===Vi}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function nf(n){return KC(n,jT)||KC(n,UT)}function LT(n){return nf(n)!==null}function KC(n,e){return n.hasOwnProperty(e)?n[e]:null}function fV(n){let e=n&&(n[jT]||n[UT]);return e||null}function QC(n){return n&&(n.hasOwnProperty(YC)||n.hasOwnProperty(pV))?n[YC]:null}var jT=Ge({\u0275prov:Ge}),YC=Ge({\u0275inj:Ge}),UT=Ge({ngInjectableDef:Ge}),pV=Ge({ngInjectorDef:Ge}),W=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function BT(n){return n&&!!n.\u0275providers}var gV=Ge({\u0275cmp:Ge}),mV=Ge({\u0275dir:Ge}),yV=Ge({\u0275pipe:Ge}),vV=Ge({\u0275mod:Ge}),xh=Ge({\u0275fac:Ge}),_l=Ge({__NG_ELEMENT_ID__:Ge}),ZC=Ge({__NG_ENV_ID__:Ge});function Il(n){return typeof n=="string"?n:n==null?"":String(n)}function wV(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Il(n)}function _V(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ie(-200,n)}function Lv(n,e){throw new ie(-201,!1)}var be=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(be||{}),Ry;function $T(){return Ry}function yn(n){let e=Ry;return Ry=n,e}function zT(n,e,t){let r=nf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&be.Optional)return null;if(e!==void 0)return e;Lv(n,"Injector")}var EV={},bl=EV,ky="__NG_DI_FLAG__",Mh="ngTempTokenPath",IV="ngTokenPath",bV=/\n/gm,DV="\u0275",JC="__source",Xo;function CV(){return Xo}function xi(n){let e=Xo;return Xo=n,e}function TV(n,e=be.Default){if(Xo===void 0)throw new ie(-203,!1);return Xo===null?zT(n,void 0,e):Xo.get(n,e&be.Optional?null:void 0,e)}function B(n,e=be.Default){return($T()||TV)(an(n),e)}function G(n,e=be.Default){return B(n,rf(e))}function rf(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ny(n){let e=[];for(let t=0;t<n.length;t++){let r=an(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ie(900,!1);let i,s=be.Default;for(let o=0;o<r.length;o++){let a=r[o],c=SV(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function qT(n,e){return n[ky]=e,n.prototype[ky]=e,n}function SV(n){return n[ky]}function AV(n,e,t,r){let i=n[Mh];throw e[JC]&&i.unshift(e[JC]),n.message=xV(`
`+n.message,i,t,r),n[IV]=i,n[Mh]=null,n}function xV(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DV?n.slice(2):n;let i=cn(e);if(Array.isArray(e))i=e.map(cn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):cn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(bV,`
  `)}`}var fa=qT(FT("Optional"),8);var sf=qT(FT("SkipSelf"),4);function Fs(n,e){let t=n.hasOwnProperty(xh);return t?n[xh]:null}function MV(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function RV(n){return n.flat(Number.POSITIVE_INFINITY)}function jv(n,e){n.forEach(t=>Array.isArray(t)?jv(t,e):e(t))}function HT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Rh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kV(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function NV(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function of(n,e,t){let r=Rl(n,e);return r>=0?n[r|1]=t:(r=~r,NV(n,r,e,t)),r}function yy(n,e){let t=Rl(n,e);if(t>=0)return n[t|1]}function Rl(n,e){return PV(n,e,1)}function PV(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ta={},vn=[],na=new W(""),GT=new W("",-1),WT=new W(""),kh=class{get(e,t=bl){if(t===bl){let r=new Error(`NullInjectorError: No provider for ${cn(e)}!`);throw r.name="NullInjectorError",r}return t}},KT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(KT||{}),Ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ir||{}),ki=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ki||{});function OV(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Py(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];VV(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function FV(n){return n===3||n===4||n===6}function VV(n){return n.charCodeAt(0)===64}function Dl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?XC(n,t,i,null,e[++r]):XC(n,t,i,null,null))}}return n}function XC(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var QT="ng-template";function LV(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OV(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Uv(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Uv(n){return n.type===4&&n.value!==QT}function jV(n,e,t){let r=n.type===4&&!t?QT:n.value;return e===r}function UV(n,e,t){let r=4,i=n.attrs,s=i!==null?zV(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!rr(r)&&!rr(c))return!1;if(o&&rr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!jV(n,c,t)||c===""&&e.length===1){if(rr(r))return!1;o=!0}}else if(r&8){if(i===null||!LV(n,i,c,t)){if(rr(r))return!1;o=!0}}else{let u=e[++a],d=BV(c,i,Uv(n),t);if(d===-1){if(rr(r))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(rr(r))return!1;o=!0}}}}return rr(r)||o}function rr(n){return(n&1)===0}function BV(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return qV(e,n)}function YT(n,e,t=!1){for(let r=0;r<e.length;r++)if(UV(n,e[r],t))return!0;return!1}function $V(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function zV(n){for(let e=0;e<n.length;e++){let t=n[e];if(FV(t))return e}return n.length}function qV(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function HV(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function eT(n,e){return n?":not("+e.trim()+")":e}function GV(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!rr(o)&&(e+=eT(s,i),i=""),r=o,s=s||!rr(r);t++}return i!==""&&(e+=eT(s,i)),e}function WV(n){return n.map(GV).join(",")}function KV(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!rr(i))break;i=s}r++}return{attrs:e,classes:t}}function Ae(n){return Ml(()=>{let e=tS(n),t=te(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===KT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ir.Emulated,styles:n.styles||vn,_:null,schemas:n.schemas||null,tView:null,id:""});nS(t);let r=n.dependencies;return t.directiveDefs=Nh(r,!1),t.pipeDefs=Nh(r,!0),t.id=ZV(t),t})}function QV(n){return Ni(n)||ZT(n)}function YV(n){return n!==null}function Rt(n){return Ml(()=>({type:n.type,bootstrap:n.bootstrap||vn,declarations:n.declarations||vn,imports:n.imports||vn,exports:n.exports||vn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tT(n,e){if(n==null)return ta;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=ki.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==ki.None?[r,a]:r,e[s]=o):t[s]=r}return t}function _t(n){return Ml(()=>{let e=tS(n);return nS(e),e})}function Gs(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ni(n){return n[gV]||null}function ZT(n){return n[mV]||null}function JT(n){return n[yV]||null}function XT(n){let e=Ni(n)||ZT(n)||JT(n);return e!==null?e.standalone:!1}function eS(n,e){let t=n[vV]||null;if(!t&&e===!0)throw new Error(`Type ${cn(n)} does not have '\u0275mod' property.`);return t}function tS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ta,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||vn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tT(n.inputs,e),outputs:tT(n.outputs),debugInfo:null}}function nS(n){n.features?.forEach(e=>e(n))}function Nh(n,e){if(!n)return null;let t=e?JT:QV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(YV)}function ZV(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function af(n){return{\u0275providers:n}}function JV(...n){return{\u0275providers:rS(!0,n),\u0275fromNgModule:!0}}function rS(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return jv(e,o=>{let a=o;Oy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&iS(i,s),t}function iS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Bv(i,s=>{e(s,r)})}}function Oy(n,e,t,r){if(n=an(n),!n)return!1;let i=null,s=QC(n),o=!s&&Ni(n);if(!s&&!o){let c=n.ngModule;if(s=QC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Oy(u,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{jv(s.imports,d=>{Oy(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&iS(u,e)}if(!a){let u=Fs(i)||(()=>new i);e({provide:i,useFactory:u,deps:vn},i),e({provide:WT,useValue:i,multi:!0},i),e({provide:na,useValue:()=>B(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=n;Bv(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Bv(n,e){for(let t of n)BT(t)&&(t=t.\u0275providers),Array.isArray(t)?Bv(t,e):e(t)}var XV=Ge({provide:String,useValue:Ge});function sS(n){return n!==null&&typeof n=="object"&&XV in n}function eL(n){return!!(n&&n.useExisting)}function tL(n){return!!(n&&n.useFactory)}function ra(n){return typeof n=="function"}function nL(n){return!!n.useClass}var cf=new W(""),Dh={},rL={},vy;function $v(){return vy===void 0&&(vy=new kh),vy}var ln=class{},Cl=class extends ln{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vy(e,o=>this.processProvider(o)),this.records.set(GT,Qo(void 0,this)),i.has("environment")&&this.records.set(ln,Qo(void 0,this));let s=this.records.get(cf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(WT,vn,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=xi(this),r=yn(void 0),i;try{return e()}finally{xi(t),yn(r)}}get(e,t=bl,r=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZC))return e[ZC](this);r=rf(r);let i,s=xi(this),o=yn(void 0);try{if(!(r&be.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=cL(e)&&nf(e);u&&this.injectableDefInScope(u)?c=Qo(Fy(e),Dh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&be.Self?$v():this.parent;return t=r&be.Optional&&t===bl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Mh]=a[Mh]||[]).unshift(cn(e)),s)throw a;return AV(a,e,"R3InjectorError",this.source)}else throw a}finally{yn(o),xi(s)}}resolveInjectorInitializers(){let e=Ne(null),t=xi(this),r=yn(void 0),i;try{let s=this.get(na,vn,be.Self);for(let o of s)o()}finally{xi(t),yn(r),Ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(cn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=an(e);let t=ra(e)?e:an(e&&e.provide),r=sL(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qo(void 0,Dh,!0),i.factory=()=>Ny(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ne(null);try{return t.value===Dh&&(t.value=rL,t.value=t.factory()),typeof t.value=="object"&&t.value&&aL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=an(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Fy(n){let e=nf(n),t=e!==null?e.factory:Fs(n);if(t!==null)return t;if(n instanceof W)throw new ie(204,!1);if(n instanceof Function)return iL(n);throw new ie(204,!1)}function iL(n){if(n.length>0)throw new ie(204,!1);let t=fV(n);return t!==null?()=>t.factory(n):()=>new n}function sL(n){if(sS(n))return Qo(void 0,n.useValue);{let e=oS(n);return Qo(e,Dh)}}function oS(n,e,t){let r;if(ra(n)){let i=an(n);return Fs(i)||Fy(i)}else if(sS(n))r=()=>an(n.useValue);else if(tL(n))r=()=>n.useFactory(...Ny(n.deps||[]));else if(eL(n))r=()=>B(an(n.useExisting));else{let i=an(n&&(n.useClass||n.provide));if(oL(n))r=()=>new i(...Ny(n.deps));else return Fs(i)||Fy(i)}return r}function Qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function oL(n){return!!n.deps}function aL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cL(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function Vy(n,e){for(let t of n)Array.isArray(t)?Vy(t,e):t&&BT(t)?Vy(t.\u0275providers,e):e(t)}function Hn(n,e){n instanceof Cl&&n.assertNotDestroyed();let t,r=xi(n),i=yn(void 0);try{return e()}finally{xi(r),yn(i)}}function aS(){return $T()!==void 0||CV()!=null}function lL(n){if(!aS())throw new ie(-203,!1)}function uL(n){let e=kn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function dL(n){return typeof n=="function"}var Jr=0,ye=1,de=2,Kt=3,ir=4,wn=5,Tl=6,Ph=7,sr=8,ia=9,br=10,lt=11,Sl=12,nT=13,pa=14,qn=15,Vs=16,Yo=17,Kr=18,lf=19,cS=20,Mi=21,wy=22,zn=23,un=25,lS=1;var Ls=7,Oh=8,sa=9,Rn=10,Fh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fh||{});function Ri(n){return Array.isArray(n)&&typeof n[lS]=="object"}function Xr(n){return Array.isArray(n)&&n[lS]===!0}function zv(n){return(n.flags&4)!==0}function uf(n){return n.componentOffset>-1}function df(n){return(n.flags&1)===1}function Pi(n){return!!n.template}function Ly(n){return(n[de]&512)!==0}var jy=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function uS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Li(){return dS}function dS(n){return n.type.prototype.ngOnChanges&&(n.setInput=fL),hL}Li.ngInherit=!0;function hL(){let n=fS(this),e=n?.current;if(e){let t=n.previous;if(t===ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function fL(n,e,t,r,i){let s=this.declaredInputs[r],o=fS(n)||pL(n,{previous:ta,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new jy(u&&u.currentValue,t,c===ta),uS(n,e,i,t)}var hS="__ngSimpleChanges__";function fS(n){return n[hS]||null}function pL(n,e){return n[hS]=e}var rT=null;var _r=function(n,e,t){rT?.(n,e,t)},gL="svg",mL="math";function Dr(n){for(;Array.isArray(n);)n=n[Jr];return n}function pS(n,e){return Dr(e[n])}function or(n,e){return Dr(e[n.index])}function gS(n,e){return n.data[e]}function qv(n,e){return n[e]}function ji(n,e){let t=e[n];return Ri(t)?t:t[Jr]}function yL(n){return(n[de]&4)===4}function Hv(n){return(n[de]&128)===128}function vL(n){return Xr(n[Kt])}function oa(n,e){return e==null?null:n[e]}function mS(n){n[Yo]=0}function yS(n){n[de]&1024||(n[de]|=1024,Hv(n)&&ff(n))}function wL(n,e){for(;n>0;)e=e[pa],n--;return e}function hf(n){return!!(n[de]&9216||n[zn]?.dirty)}function Uy(n){n[br].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),hf(n)&&ff(n)}function ff(n){n[br].changeDetectionScheduler?.notify(0);let e=js(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!Hv(e)));)e=js(e)}function vS(n,e){if((n[de]&256)===256)throw new ie(911,!1);n[Mi]===null&&(n[Mi]=[]),n[Mi].push(e)}function _L(n,e){if(n[Mi]===null)return;let t=n[Mi].indexOf(e);t!==-1&&n[Mi].splice(t,1)}function js(n){let e=n[Kt];return Xr(e)?e[Kt]:e}var Ee={lFrame:SS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wS=!1;function EL(){return Ee.lFrame.elementDepthCount}function IL(){Ee.lFrame.elementDepthCount++}function bL(){Ee.lFrame.elementDepthCount--}function _S(){return Ee.bindingsEnabled}function ES(){return Ee.skipHydrationRootTNode!==null}function DL(n){return Ee.skipHydrationRootTNode===n}function CL(){Ee.skipHydrationRootTNode=null}function De(){return Ee.lFrame.lView}function Et(){return Ee.lFrame.tView}function We(n){return Ee.lFrame.contextLView=n,n[sr]}function Ke(n){return Ee.lFrame.contextLView=null,n}function dn(){let n=IS();for(;n!==null&&n.type===64;)n=n.parent;return n}function IS(){return Ee.lFrame.currentTNode}function TL(){let n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ws(n,e){let t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function Gv(){return Ee.lFrame.isParent}function Wv(){Ee.lFrame.isParent=!1}function SL(){return Ee.lFrame.contextLView}function bS(){return wS}function iT(n){wS=n}function pf(){let n=Ee.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function AL(){return Ee.lFrame.bindingIndex}function xL(n){return Ee.lFrame.bindingIndex=n}function Kv(){return Ee.lFrame.bindingIndex++}function Qv(n){let e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ML(){return Ee.lFrame.inI18n}function RL(n,e){let t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,By(e)}function kL(){return Ee.lFrame.currentDirectiveIndex}function By(n){Ee.lFrame.currentDirectiveIndex=n}function NL(n){let e=Ee.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function DS(){return Ee.lFrame.currentQueryIndex}function Yv(n){Ee.lFrame.currentQueryIndex=n}function PL(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[wn]:null}function CS(n,e,t){if(t&be.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&be.Host);)if(i=PL(s),i===null||(s=s[pa],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ee.lFrame=TS();return r.currentTNode=e,r.lView=n,!0}function Zv(n){let e=TS(),t=n[ye];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function TS(){let n=Ee.lFrame,e=n===null?null:n.child;return e===null?SS(n):e}function SS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function AS(){let n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var xS=AS;function Jv(){let n=AS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function OL(n){return(Ee.lFrame.contextLView=wL(n,Ee.lFrame.contextLView))[sr]}function Ui(){return Ee.lFrame.selectedIndex}function Us(n){Ee.lFrame.selectedIndex=n}function Xv(){let n=Ee.lFrame;return gS(n.tView,n.selectedIndex)}function FL(){return Ee.lFrame.currentNamespace}var MS=!0;function gf(){return MS}function mf(n){MS=n}function VL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=dS(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function yf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Ch(n,e,t){RS(n,e,3,t)}function Th(n,e,t,r){(n[de]&3)===t&&RS(n,e,t,r)}function _y(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function RS(n,e,t,r){let i=r!==void 0?n[Yo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Yo]+=65536),(a<s||s==-1)&&(LL(n,t,e,c),n[Yo]=(n[Yo]&4294901760)+c+2),c++}function sT(n,e){_r(4,n,e);let t=Ne(null);try{e.call(n)}finally{Ne(t),_r(5,n,e)}}function LL(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[de]>>14<n[Yo]>>16&&(n[de]&3)===e&&(n[de]+=16384,sT(a,s)):sT(a,s)}var ea=-1,Bs=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function jL(n){return n instanceof Bs}function UL(n){return(n.flags&8)!==0}function BL(n){return(n.flags&16)!==0}var Ey={},$y=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=rf(r);let i=this.injector.get(e,Ey,r);return i!==Ey||t===Ey?i:this.parentInjector.get(e,t,r)}};function kS(n){return n!==ea}function Vh(n){return n&32767}function $L(n){return n>>16}function Lh(n,e){let t=$L(n),r=e;for(;t>0;)r=r[pa],t--;return r}var zy=!0;function jh(n){let e=zy;return zy=n,e}var zL=256,NS=zL-1,PS=5,qL=0,Er={};function HL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(_l)&&(r=t[_l]),r==null&&(r=t[_l]=qL++);let i=r&NS,s=1<<i;e.data[n+(i>>PS)]|=s}function Uh(n,e){let t=OS(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,Iy(r.data,n),Iy(e,null),Iy(r.blueprint,null));let i=ew(n,e),s=n.injectorIndex;if(kS(i)){let o=Vh(i),a=Lh(i,e),c=a[ye].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Iy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function OS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ew(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=US(i),r===null)return ea;if(t++,i=i[pa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ea}function qy(n,e,t){HL(n,e,t)}function FS(n,e,t){if(t&be.Optional||n!==void 0)return n;Lv(e,"NodeInjector")}function VS(n,e,t,r){if(t&be.Optional&&r===void 0&&(r=null),!(t&(be.Self|be.Host))){let i=n[ia],s=yn(void 0);try{return i?i.get(e,r,t&be.Optional):zT(e,r,t&be.Optional)}finally{yn(s)}}return FS(r,e,t)}function LS(n,e,t,r=be.Default,i){if(n!==null){if(e[de]&2048&&!(r&be.Self)){let o=QL(n,e,t,r,Er);if(o!==Er)return o}let s=jS(n,e,t,r,Er);if(s!==Er)return s}return VS(e,t,r,i)}function jS(n,e,t,r,i){let s=WL(t);if(typeof s=="function"){if(!CS(e,n,r))return r&be.Host?FS(i,t,r):VS(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&be.Optional))Lv(t);else return o}finally{xS()}}else if(typeof s=="number"){let o=null,a=OS(n,e),c=ea,u=r&be.Host?e[qn][wn]:null;for((a===-1||r&be.SkipSelf)&&(c=a===-1?ew(n,e):e[a+8],c===ea||!aT(r,!1)?a=-1:(o=e[ye],a=Vh(c),e=Lh(c,e)));a!==-1;){let d=e[ye];if(oT(s,a,d.data)){let f=GL(a,e,t,o,r,u);if(f!==Er)return f}c=e[a+8],c!==ea&&aT(r,e[ye].data[a+8]===u)&&oT(s,a,e)?(o=d,a=Vh(c),e=Lh(c,e)):a=-1}}return i}function GL(n,e,t,r,i,s){let o=e[ye],a=o.data[n+8],c=r==null?uf(a)&&zy:r!=o&&(a.type&3)!==0,u=i&be.Host&&s===a,d=Sh(a,o,t,c,u);return d!==null?$s(e,o,d,a):Er}function Sh(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:u;for(let m=f;m<g;m++){let w=o[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=o[c];if(m&&Pi(m)&&m.type===t)return c}return null}function $s(n,e,t,r){let i=n[t],s=e.data;if(jL(i)){let o=i;o.resolving&&_V(wV(s[t]));let a=jh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?yn(o.injectImpl):null,d=CS(n,r,be.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&VL(t,s[t],e)}finally{u!==null&&yn(u),jh(a),o.resolving=!1,xS()}}return i}function WL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(_l)?n[_l]:void 0;return typeof e=="number"?e>=0?e&NS:KL:e}function oT(n,e,t){let r=1<<n;return!!(t[e+(n>>PS)]&r)}function aT(n,e){return!(n&be.Self)&&!(n&be.Host&&e)}var Os=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LS(this._tNode,this._lView,e,rf(r),t)}};function KL(){return new Os(dn(),De())}function Ks(n){return Ml(()=>{let e=n.prototype.constructor,t=e[xh]||Hy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[xh]||Hy(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hy(n){return VT(n)?()=>{let e=Hy(an(n));return e&&e()}:Fs(n)}function QL(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[de]&2048&&!(o[de]&512);){let a=jS(s,o,t,r|be.Self,Er);if(a!==Er)return a;let c=s.parent;if(!c){let u=o[cS];if(u){let d=u.get(t,Er,r);if(d!==Er)return d}c=US(o),o=o[pa]}s=c}return i}function US(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[wn]:null}function cT(n,e=null,t=null,r){let i=BS(n,e,t,r);return i.resolveInjectorInitializers(),i}function BS(n,e=null,t=null,r,i=new Set){let s=[t||vn,JV(n)];return r=r||(typeof n=="object"?void 0:cn(n)),new Cl(s,e||$v(),r||null,i)}var Ns=class Ns{static create(e,t){if(Array.isArray(e))return cT({name:""},t,e,"");{let r=e.name??"";return cT({name:r},e.parent,e.providers,r)}}};Ns.THROW_IF_NOT_FOUND=bl,Ns.NULL=new kh,Ns.\u0275prov=K({token:Ns,providedIn:"any",factory:()=>B(GT)}),Ns.__NG_ELEMENT_ID__=-1;var Nn=Ns;var YL=new W("");YL.__NG_ELEMENT_ID__=n=>{let e=dn();if(e===null)throw new ie(204,!1);if(e.type&2)return e.value;if(n&be.Optional)return null;throw new ie(204,!1)};var ZL="ngOriginalError";function by(n){return n[ZL]}var $S=!0,tw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JL,e.__NG_ENV_ID__=r=>r;let n=e;return n})(),Gy=class extends tw{constructor(e){super(),this._lView=e}onDestroy(e){return vS(this._lView,e),()=>_L(this._lView,e)}};function JL(){return new Gy(De())}var Bi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=K({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var Wy=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,aS()&&(this.destroyRef=G(tw,{optional:!0})??void 0,this.pendingTasks=G(Bi,{optional:!0})??void 0)}emit(e){let t=Ne(null);try{super.next(e)}finally{Ne(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ct&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},et=Wy;function Bh(...n){}function zS(n){let e,t;function r(){n=Bh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function lT(n){return queueMicrotask(()=>n()),()=>{n=Bh}}var nw="isAngularZone",$h=nw+"_ID",XL=0,Ce=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=$S}=e;if(typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,n2(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ie(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,e2,Bh,Bh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},e2={};function rw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function t2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){zS(()=>{n.callbackScheduled=!1,Ky(n),n.isCheckStableRunning=!0,rw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ky(n)}function n2(n){let e=()=>{t2(n)},t=XL++;n._inner=n._inner.fork({name:"angular",properties:{[nw]:!0,[$h]:t,[$h+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(r2(c))return r.invokeTask(s,o,a,c);try{return uT(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dT(n)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return uT(n),r.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!i2(c)&&e(),dT(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Ky(n),rw(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Ky(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dT(n){n._nesting--,rw(n)}var zh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function r2(n){return qS(n,"__ignore_ng_zone__")}function i2(n){return qS(n,"__scheduler_tick__")}function qS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function s2(n="zone.js",e){return n==="noop"?new zh:n==="zone.js"?new Ce(e):n}var Qr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&by(e);for(;t&&by(t);)t=by(t);return t||null}},o2=new W("",{providedIn:"root",factory:()=>{let n=G(Ce),e=G(Qr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function a2(){return ga(dn(),De())}function ga(n,e){return new It(or(n,e))}var It=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=a2;let n=e;return n})();function c2(n){return n instanceof It?n.nativeElement:n}function l2(){return this._results[Symbol.iterator]()}var Qy=class n{get changes(){return this._changes??=new et}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=l2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=RV(e);(this._changesDetected=!MV(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function HS(n){return(n.flags&128)===128}var GS=new Map,u2=0;function d2(){return u2++}function h2(n){GS.set(n[lf],n)}function Yy(n){GS.delete(n[lf])}var hT="__ngContext__";function Oi(n,e){Ri(e)?(n[hT]=e[lf],h2(e)):n[hT]=e}function WS(n){return QS(n[Sl])}function KS(n){return QS(n[ir])}function QS(n){for(;n!==null&&!Xr(n);)n=n[ir];return n}var Zy;function YS(n){Zy=n}function f2(){if(Zy!==void 0)return Zy;if(typeof document<"u")return document;throw new ie(210,!1)}var vf=new W("",{providedIn:"root",factory:()=>p2}),p2="ng",iw=new W(""),jt=new W("",{providedIn:"platform",factory:()=>"unknown"});var sw=new W("",{providedIn:"root",factory:()=>f2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var g2="h",m2="b";var y2=()=>null;function ow(n,e,t=!1){return y2(n,e,t)}var ZS=!1,v2=new W("",{providedIn:"root",factory:()=>ZS});var yh;function w2(){if(yh===void 0&&(yh=null,kn.trustedTypes))try{yh=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yh}function wf(n){return w2()?.createHTML(n)||n}var vh;function _2(){if(vh===void 0&&(vh=null,kn.trustedTypes))try{vh=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vh}function fT(n){return _2()?.createScriptURL(n)||n}var Yr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OT})`}},Jy=class extends Yr{getTypeName(){return"HTML"}},Xy=class extends Yr{getTypeName(){return"Style"}},ev=class extends Yr{getTypeName(){return"Script"}},tv=class extends Yr{getTypeName(){return"URL"}},nv=class extends Yr{getTypeName(){return"ResourceURL"}};function Gn(n){return n instanceof Yr?n.changingThisBreaksApplicationSecurity:n}function $i(n,e){let t=E2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${OT})`)}return t===e}function E2(n){return n instanceof Yr&&n.getTypeName()||null}function JS(n){return new Jy(n)}function XS(n){return new Xy(n)}function eA(n){return new ev(n)}function tA(n){return new tv(n)}function nA(n){return new nv(n)}function I2(n){let e=new iv(n);return b2()?new rv(e):e}var rv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(wf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},iv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=wf(e),t}};function b2(){try{return!!new window.DOMParser().parseFromString(wf(""),"text/html")}catch{return!1}}var D2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _f(n){return n=String(n),n.match(D2)?n:"unsafe:"+n}function ei(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function kl(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var rA=ei("area,br,col,hr,img,wbr"),iA=ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sA=ei("rp,rt"),C2=kl(sA,iA),T2=kl(iA,ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),S2=kl(sA,ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pT=kl(rA,T2,S2,C2),oA=ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),A2=ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),x2=ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),M2=kl(oA,A2,x2),R2=ei("script,style,template"),sv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=P2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=N2(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=gT(e).toLowerCase();if(!pT.hasOwnProperty(t))return this.sanitizedSomething=!0,!R2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!M2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;oA[a]&&(c=_f(c)),this.buf.push(" ",o,'="',mT(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=gT(e).toLowerCase();pT.hasOwnProperty(t)&&!rA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mT(e))}};function k2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function N2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw aA(e);return e}function P2(n){let e=n.firstChild;if(e&&k2(n,e))throw aA(e);return e}function gT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function aA(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var O2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,F2=/([^\#-~ |!])/g;function mT(n){return n.replace(/&/g,"&amp;").replace(O2,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(F2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wh;function cA(n,e){let t=null;try{wh=wh||I2(n);let r=e?String(e):"";t=wh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=wh.getInertBodyElement(r)}while(r!==s);let a=new sv().sanitizeChildren(yT(t)||t);return wf(a)}finally{if(t){let r=yT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function yT(n){return"content"in n&&V2(n)?n.content:null}function V2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var _n=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(_n||{});function ht(n){let e=lA();return e?e.sanitize(_n.URL,n)||"":$i(n,"URL")?Gn(n):_f(Il(n))}function Ef(n){let e=lA();if(e)return fT(e.sanitize(_n.RESOURCE_URL,n)||"");if($i(n,"ResourceURL"))return fT(Gn(n));throw new ie(904,!1)}function lA(){let n=De();return n&&n[br].sanitizer}var L2=/^>|^->|<!--|-->|--!>|<!-$/g,j2=/(<|>)/g,U2="\u200B$1\u200B";function B2(n){return n.replace(L2,e=>e.replace(j2,U2))}function uA(n){return n instanceof Function?n():n}function $2(n){return(n??G(Nn)).get(jt)==="browser"}var Cr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cr||{}),z2;function aw(n,e){return z2(n,e)}function Zo(n,e,t,r,i){if(r!=null){let s,o=!1;Xr(r)?s=r:Ri(r)&&(o=!0,r=r[Jr]);let a=Dr(r);n===0&&t!==null?i==null?mA(e,t,a):qh(e,t,a,i||null,!0):n===1&&t!==null?qh(e,t,a,i||null,!0):n===2?rj(e,a,o):n===3&&e.destroyNode(a),s!=null&&sj(e,n,s,t,i)}}function q2(n,e){return n.createText(e)}function H2(n,e,t){n.setValue(e,t)}function G2(n,e){return n.createComment(B2(e))}function dA(n,e,t){return n.createElement(e,t)}function W2(n,e){hA(n,e),e[Jr]=null,e[wn]=null}function K2(n,e,t,r,i,s){r[Jr]=i,r[wn]=e,bf(n,r,t,1,i,s)}function hA(n,e){e[br].changeDetectionScheduler?.notify(9),bf(n,e,e[lt],2,null,null)}function Q2(n){let e=n[Sl];if(!e)return Dy(n[ye],n);for(;e;){let t=null;if(Ri(e))t=e[Sl];else{let r=e[Rn];r&&(t=r)}if(!t){for(;e&&!e[ir]&&e!==n;)Ri(e)&&Dy(e[ye],e),e=e[Kt];e===null&&(e=n),Ri(e)&&Dy(e[ye],e),t=e&&e[ir]}e=t}}function Y2(n,e,t,r){let i=Rn+r,s=t.length;r>0&&(t[i-1][ir]=e),r<s-Rn?(e[ir]=t[i],HT(t,Rn+r,e)):(t.push(e),e[ir]=null),e[Kt]=t;let o=e[Vs];o!==null&&t!==o&&fA(o,e);let a=e[Kr];a!==null&&a.insertView(n),Uy(e),e[de]|=128}function fA(n,e){let t=n[sa],r=e[Kt];if(Ri(r))n[de]|=Fh.HasTransplantedViews;else{let i=r[Kt][qn];e[qn]!==i&&(n[de]|=Fh.HasTransplantedViews)}t===null?n[sa]=[e]:t.push(e)}function cw(n,e){let t=n[sa],r=t.indexOf(e);t.splice(r,1)}function ov(n,e){if(n.length<=Rn)return;let t=Rn+e,r=n[t];if(r){let i=r[Vs];i!==null&&i!==n&&cw(i,r),e>0&&(n[t-1][ir]=r[ir]);let s=Rh(n,Rn+e);W2(r[ye],r);let o=s[Kr];o!==null&&o.detachView(s[ye]),r[Kt]=null,r[ir]=null,r[de]&=-129}return r}function pA(n,e){if(!(e[de]&256)){let t=e[lt];t.destroyNode&&bf(n,e,t,3,null,null),Q2(e)}}function Dy(n,e){if(e[de]&256)return;let t=Ne(null);try{e[de]&=-129,e[de]|=256,e[zn]&&Jm(e[zn]),J2(n,e),Z2(n,e),e[ye].type===1&&e[lt].destroy();let r=e[Vs];if(r!==null&&Xr(e[Kt])){r!==e[Kt]&&cw(r,e);let i=e[Kr];i!==null&&i.detachView(n)}Yy(e)}finally{Ne(t)}}function Z2(n,e){let t=n.cleanup,r=e[Ph];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Ph]=null);let i=e[Mi];if(i!==null){e[Mi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function J2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bs)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];_r(4,a,c);try{c.call(a)}finally{_r(5,a,c)}}else{_r(4,i,s);try{s.call(i)}finally{_r(5,i,s)}}}}}function gA(n,e,t){return X2(n,e.parent,t)}function X2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Jr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ir.None||s===Ir.Emulated)return null}return or(r,t)}}function qh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mA(n,e,t){n.appendChild(e,t)}function vT(n,e,t,r,i){r!==null?qh(n,e,t,r,i):mA(n,e,t)}function yA(n,e){return n.parentNode(e)}function ej(n,e){return n.nextSibling(e)}function vA(n,e,t){return nj(n,e,t)}function tj(n,e,t){return n.type&40?or(n,t):null}var nj=tj,wT;function If(n,e,t,r){let i=gA(n,r,e),s=e[lt],o=r.parent||e[wn],a=vA(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)vT(s,i,t[c],a,!1);else vT(s,i,t,a,!1);wT!==void 0&&wT(s,r,e,t,i)}function wl(n,e){if(e!==null){let t=e.type;if(t&3)return or(e,n);if(t&4)return av(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wl(n,r);{let i=n[e.index];return Xr(i)?av(-1,i):Dr(i)}}else{if(t&128)return wl(n,e.next);if(t&32)return aw(e,n)()||Dr(n[e.index]);{let r=wA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=js(n[qn]);return wl(i,r)}else return wl(n,e.next)}}}return null}function wA(n,e){if(e!==null){let r=n[qn][wn],i=e.projection;return r.projection[i]}return null}function av(n,e){let t=Rn+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return wl(r,i)}return e[Ls]}function rj(n,e,t){n.removeChild(null,e,t)}function lw(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&Oi(Dr(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)lw(n,e,t.child,r,i,s,!1),Zo(e,n,i,a,s);else if(c&32){let u=aw(t,r),d;for(;d=u();)Zo(e,n,i,d,s);Zo(e,n,i,a,s)}else c&16?_A(n,e,r,t,i,s):Zo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function bf(n,e,t,r,i,s){lw(t,r,n.firstChild,e,i,s,!1)}function ij(n,e,t){let r=e[lt],i=gA(n,t,e),s=t.parent||e[wn],o=vA(s,t,e);_A(r,0,e,t,i,o)}function _A(n,e,t,r,i,s){let o=t[qn],c=o[wn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Zo(e,n,i,d,s)}else{let u=c,d=o[Kt];HS(r)&&(u.flags|=128),lw(n,e,u,d,i,s,!0)}}function sj(n,e,t,r,i){let s=t[Ls],o=Dr(t);s!==o&&Zo(e,n,r,s,i);for(let a=Rn;a<t.length;a++){let c=t[a];bf(c[ye],c,n,e,r,s)}}function oj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Cr.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cr.Important),n.setStyle(t,r,i,s))}}function aj(n,e,t){n.setAttribute(e,"style",t)}function EA(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function IA(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Py(n,e,r),i!==null&&EA(n,e,i),s!==null&&aj(n,e,s)}var Wn={};function V(n=1){bA(Et(),De(),Ui()+n,!1)}function bA(n,e,t,r){if(!r)if((e[de]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ch(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Th(e,s,0,t)}Us(t)}function z(n,e=be.Default){let t=De();if(t===null)return B(n,e);let r=dn();return LS(r,t,an(n),e)}function DA(){let n="invalid";throw new Error(n)}function CA(n,e,t,r,i,s){let o=Ne(null);try{let a=null;i&ki.SignalBased&&(a=e[r][$r]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ki.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):uS(e,a,r,s)}finally{Ne(o)}}function cj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Us(~i);else{let s=i,o=t[++r],a=t[++r];RL(o,s);let c=e[s];a(2,c)}}}finally{Us(-1)}}function Df(n,e,t,r,i,s,o,a,c,u,d){let f=e.blueprint.slice();return f[Jr]=i,f[de]=r|4|128|8|64,(u!==null||n&&n[de]&2048)&&(f[de]|=2048),mS(f),f[Kt]=f[pa]=n,f[sr]=t,f[br]=o||n&&n[br],f[lt]=a||n&&n[lt],f[ia]=c||n&&n[ia]||null,f[wn]=s,f[lf]=d2(),f[Tl]=d,f[cS]=u,f[qn]=e.type==2?n[qn]:f,f}function ma(n,e,t,r,i){let s=n.data[e];if(s===null)s=lj(n,e,t,r,i),ML()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=TL();s.injectorIndex=o===null?-1:o.injectorIndex}return Ws(s,!0),s}function lj(n,e,t,r,i){let s=IS(),o=Gv(),a=o?s:s&&s.parent,c=n.data[e]=gj(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function TA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function SA(n,e,t,r,i){let s=Ui(),o=r&2;try{Us(-1),o&&e.length>un&&bA(n,e,un,!1),_r(o?2:0,i),t(r,i)}finally{Us(s),_r(o?3:1,i)}}function uw(n,e,t){if(zv(e)){let r=Ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Ne(r)}}}function dw(n,e,t){_S()&&(Ej(n,e,t,or(t,e)),(t.flags&64)===64&&MA(n,e,t))}function hw(n,e,t=or){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function AA(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=fw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fw(n,e,t,r,i,s,o,a,c,u,d){let f=un+r,g=f+i,m=uj(f,g),w=typeof u=="function"?u():u;return m[ye]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}function uj(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Wn);return t}function dj(n,e,t,r){let s=r.get(v2,ZS)||t===Ir.ShadowDom,o=n.selectRootElement(e,s);return hj(o),o}function hj(n){fj(n)}var fj=()=>null;function pj(n,e,t,r){let i=NA(e);i.push(t),n.firstCreatePass&&PA(n).push(r,i.length-1)}function gj(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return ES()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _T(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ki.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}n===0?ET(r,t,u,a,c):ET(r,t,u,a)}return r}function ET(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function mj(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=s[d],g=t?t.get(f):null,m=g?g.inputs:null,w=g?g.outputs:null;c=_T(0,f.inputs,d,c,m),u=_T(1,f.outputs,d,u,w);let D=c!==null&&o!==null&&!Uv(e)?Mj(c,d,o):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function yj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function pw(n,e,t,r,i,s,o,a){let c=or(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(mw(n,t,d,r,i),uf(e)&&vj(t,e.index)):e.type&3?(r=yj(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function vj(n,e){let t=ji(e,n);t[de]&16||(t[de]|=64)}function gw(n,e,t,r){if(_S()){let i=r===null?null:{"":-1},s=bj(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&xA(n,e,t,o,i,a),i&&Dj(t,r,i)}t.mergedAttrs=Dl(t.mergedAttrs,t.attrs)}function xA(n,e,t,r,i,s){for(let u=0;u<r.length;u++)qy(Uh(t,e),n,r[u].type);Tj(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=TA(n,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];t.mergedAttrs=Dl(t.mergedAttrs,d.hostAttrs),Sj(n,t,e,c,d),Cj(c,d,i),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}mj(n,t,s)}function wj(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;_j(o)!=a&&o.push(a),o.push(t,r,s)}}function _j(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ej(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;uf(t)&&Aj(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Uh(t,e),Oi(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let c=n.data[a],u=$s(e,n,a,t);if(Oi(u,e),o!==null&&xj(e,a-i,u,c,t,o),Pi(c)){let d=ji(t.index,e);d[sr]=$s(e,n,a,t)}}}function MA(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=kL();try{Us(s);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];By(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ij(c,u)}}finally{Us(-1),By(o)}}function Ij(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bj(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(YT(e,o.selectors,!1))if(r||(r=[]),Pi(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;cv(n,e,c)}else r.unshift(o),cv(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function cv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Dj(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ie(-301,!1);r.push(e[i],s)}}}function Cj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Pi(e)&&(t[""]=n)}}function Tj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Sj(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Fs(i.type,!0)),o=new Bs(s,Pi(i),z);n.blueprint[r]=o,t[r]=o,wj(n,e,r,TA(n,t,i.hostVars,Wn),i)}function Aj(n,e,t){let r=or(e,n),i=AA(t),s=n[br].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Cf(n,Df(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function xj(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];CA(r,t,c,u,d,f)}}function Mj(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function RA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function kA(n,e){let t=n.contentQueries;if(t!==null){let r=Ne(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Yv(s),a.contentQueries(2,e[o],o)}}}finally{Ne(r)}}}function Cf(n,e){return n[Sl]?n[nT][ir]=e:n[Sl]=e,n[nT]=e,e}function lv(n,e,t){Yv(0);let r=Ne(null);try{e(n,t)}finally{Ne(r)}}function NA(n){return n[Ph]??=[]}function PA(n){return n.cleanup??=[]}function OA(n,e){let t=n[ia],r=t?t.get(Qr,null):null;r&&r.handleError(e)}function mw(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],u=e[o],d=n.data[o];CA(d,u,r,a,c,i)}}function FA(n,e,t){let r=pS(e,n);H2(n[lt],r,t)}function Rj(n,e){let t=ji(e,n),r=t[ye];kj(r,t);let i=t[Jr];i!==null&&t[Tl]===null&&(t[Tl]=ow(i,t[ia])),yw(r,t,t[sr])}function kj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function yw(n,e,t){Zv(e);try{let r=n.viewQuery;r!==null&&lv(1,r,t);let i=n.template;i!==null&&SA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Kr]?.finishViewCreation(n),n.staticContentQueries&&kA(n,e),n.staticViewQueries&&lv(2,n.viewQuery,t);let s=n.components;s!==null&&Nj(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,Jv()}}function Nj(n,e){for(let t=0;t<e.length;t++)Rj(n,e[t])}function VA(n,e,t,r){let i=Ne(null);try{let s=e.tView,a=n[de]&4096?4096:16,c=Df(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Vs]=u;let d=n[Kr];return d!==null&&(c[Kr]=d.createEmbeddedView(s)),yw(s,c,t),c}finally{Ne(i)}}function uv(n,e){return!e||e.firstChild===null||HS(n)}function LA(n,e,t,r=!0){let i=e[ye];if(Y2(i,e,n,t),r){let o=av(t,n),a=e[lt],c=yA(a,n[Ls]);c!==null&&K2(i,n[wn],a,e,c,o)}let s=e[Tl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Hh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Dr(s)),Xr(s)&&Pj(s,r);let o=t.type;if(o&8)Hh(n,e,t.child,r);else if(o&32){let a=aw(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=wA(e,t);if(Array.isArray(a))r.push(...a);else{let c=js(e[qn]);Hh(c[ye],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Pj(n,e){for(let t=Rn;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Hh(r[ye],r,i,e)}n[Ls]!==n[Jr]&&e.push(n[Ls])}var jA=[];function Oj(n){return n[zn]??Fj(n)}function Fj(n){let e=jA.pop()??Object.create(Lj);return e.lView=n,e}function Vj(n){n.lView[zn]!==n&&(n.lView=null,jA.push(n))}var Lj=te(M({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ff(n.lView)},consumerOnSignalRead(){this.lView[zn]=this}});function jj(n){let e=n[zn]??Object.create(Uj);return e.lView=n,e}var Uj=te(M({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=js(n.lView);for(;e&&!UA(e[ye]);)e=js(e);e&&yS(e)},consumerOnSignalRead(){this.lView[zn]=this}});function UA(n){return n.type!==2}var Bj=100;function BA(n,e=!0,t=0){let r=n[br],i=r.rendererFactory,s=!1;s||i.begin?.();try{$j(n,t)}catch(o){throw e&&OA(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function $j(n,e){let t=bS();try{iT(!0),dv(n,e);let r=0;for(;hf(n);){if(r===Bj)throw new ie(103,!1);r++,dv(n,1)}}finally{iT(t)}}function zj(n,e,t,r){let i=e[de];if((i&256)===256)return;let s=!1,o=!1;!s&&e[br].inlineEffectRunner?.flush(),Zv(e);let a=!0,c=null,u=null;s||(UA(n)?(u=Oj(e),c=Ud(u)):fC()===null?(a=!1,u=jj(e),c=Ud(u)):e[zn]&&(Jm(e[zn]),e[zn]=null));try{mS(e),xL(n.bindingStartIndex),t!==null&&SA(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let m=n.preOrderCheckHooks;m!==null&&Ch(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Th(e,m,0,null),_y(e,0)}if(o||qj(e),$A(e,0),n.contentQueries!==null&&kA(n,e),!s)if(d){let m=n.contentCheckHooks;m!==null&&Ch(e,m)}else{let m=n.contentHooks;m!==null&&Th(e,m,1),_y(e,1)}cj(n,e);let f=n.components;f!==null&&qA(e,f,0);let g=n.viewQuery;if(g!==null&&lv(2,g,r),!s)if(d){let m=n.viewCheckHooks;m!==null&&Ch(e,m)}else{let m=n.viewHooks;m!==null&&Th(e,m,2),_y(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[wy]){for(let m of e[wy])m();e[wy]=null}s||(e[de]&=-73)}catch(d){throw s||ff(e),d}finally{u!==null&&(Ym(u,c),a&&Vj(u)),Jv()}}function $A(n,e){for(let t=WS(n);t!==null;t=KS(t))for(let r=Rn;r<t.length;r++){let i=t[r];zA(i,e)}}function qj(n){for(let e=WS(n);e!==null;e=KS(e)){if(!(e[de]&Fh.HasTransplantedViews))continue;let t=e[sa];for(let r=0;r<t.length;r++){let i=t[r];yS(i)}}}function Hj(n,e,t){let r=ji(e,n);zA(r,t)}function zA(n,e){Hv(n)&&dv(n,e)}function dv(n,e){let r=n[ye],i=n[de],s=n[zn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Zm(s)),o||=!1,s&&(s.dirty=!1),n[de]&=-9217,o)zj(r,n,r.template,n[sr]);else if(i&8192){$A(n,1);let a=r.components;a!==null&&qA(n,a,1)}}function qA(n,e,t){for(let r=0;r<e.length;r++)Hj(n,e[r],t)}function vw(n,e){let t=bS()?64:1088;for(n[br].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=js(n);if(Ly(n)&&!r)return n;n=r}return null}var zs=class{get rootNodes(){let e=this._lView,t=e[ye];return Hh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sr]}set context(e){this._lView[sr]=e}get destroyed(){return(this._lView[de]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Kt];if(Xr(e)){let t=e[Oh],r=t?t.indexOf(this):-1;r>-1&&(ov(e,r),Rh(t,r))}this._attachedToViewContainer=!1}pA(this._lView[ye],this._lView)}onDestroy(e){vS(this._lView,e)}markForCheck(){vw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){Uy(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,BA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ly(this._lView),t=this._lView[Vs];t!==null&&!e&&cw(t,this._lView),hA(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e;let t=Ly(this._lView),r=this._lView[Vs];r!==null&&!t&&fA(r,this._lView),Uy(this._lView)}},qs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Kj;let n=e;return n})(),Gj=qs,Wj=class extends Gj{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=VA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new zs(i)}};function Kj(){return Tf(dn(),De())}function Tf(n,e){return n.type&4?new Wj(e,n,ga(n,e)):null}var LZ=new RegExp(`^(\\d+)*(${m2}|${g2})*(.*)`);var Qj=()=>null;function hv(n,e){return Qj(n,e)}var aa=class{},HA=new W("",{providedIn:"root",factory:()=>!1});var GA=new W(""),WA=new W(""),fv=class{},Gh=class{};function Yj(n){let e=Error(`No component factory found for ${cn(n)}.`);return e[Zj]=n,e}var Zj="ngComponent";var pv=class{resolveComponentFactory(e){throw Yj(e)}},Vw=class Vw{};Vw.NULL=new pv;var ca=Vw,la=class{},En=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Jj();let n=e;return n})();function Jj(){let n=De(),e=dn(),t=ji(e.index,n);return(Ri(t)?t:n)[lt]}var Xj=(()=>{let e=class e{};e.\u0275prov=K({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function Wh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=My(i,a);else if(s==2){let c=a,u=e[++o];r=My(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Kh=class extends ca{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ni(e);return new ua(t,this.ngModule)}};function IT(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:ki.None;e?t.push({propName:o,templateName:r,isSignal:(a&ki.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function eU(n){let e=n.toLowerCase();return e==="svg"?gL:e==="math"?mL:null}var ua=class extends Gh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=IT(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return IT(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=WV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=Ne(null);try{i=i||this.ngModule;let o=i instanceof ln?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new $y(e,o):e,c=a.get(la,null);if(c===null)throw new ie(407,!1);let u=a.get(Xj,null),d=a.get(aa,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",w=r?dj(g,r,this.componentDef.encapsulation,a):dA(g,m,eU(m)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let C=null;w!==null&&(C=ow(w,a,!0));let F=fw(0,null,null,1,0,null,null,null,null,null,null),L=Df(null,F,null,D,null,null,f,g,a,null,C);Zv(L);let j,H,ee=null;try{let Q=this.componentDef,I,v=null;Q.findHostDirectiveDefs?(I=[],v=new Map,Q.findHostDirectiveDefs(Q,I,v),I.push(Q)):I=[Q];let _=tU(L,w);ee=nU(_,w,Q,I,L,f,g),H=gS(F,un),w&&sU(g,Q,w,r),t!==void 0&&oU(H,this.ngContentSelectors,t),j=iU(ee,Q,I,v,L,[aU]),yw(F,L,null)}catch(Q){throw ee!==null&&Yy(ee),Yy(L),Q}finally{Jv()}return new gv(this.componentType,j,ga(H,L),L,H)}finally{Ne(s)}}},gv=class extends fv{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zs(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;mw(s[ye],s,i,e,t),this.previousInputValues.set(e,t);let o=ji(this._tNode.index,s);vw(o,1)}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tU(n,e){let t=n[ye],r=un;return n[r]=e,ma(t,r,2,"#host",null)}function nU(n,e,t,r,i,s,o){let a=i[ye];rU(r,n,e,o);let c=null;e!==null&&(c=ow(e,i[ia]));let u=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let f=Df(i,AA(t),null,d,i[n.index],n,s,u,null,null,c);return a.firstCreatePass&&cv(a,n,r.length-1),Cf(i,f),i[n.index]=f}function rU(n,e,t,r){for(let i of n)e.mergedAttrs=Dl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wh(e,e.mergedAttrs,!0),t!==null&&IA(r,t,e))}function iU(n,e,t,r,i,s){let o=dn(),a=i[ye],c=or(o,i);xA(a,i,o,t,null,r);for(let d=0;d<t.length;d++){let f=o.directiveStart+d,g=$s(i,a,f,o);Oi(g,i)}MA(a,i,o),c&&Oi(c,i);let u=$s(i,a,o.directiveStart+o.componentOffset,o);if(n[sr]=i[sr]=u,s!==null)for(let d of s)d(u,e);return uw(a,o,i),u}function sU(n,e,t,r){if(r)Py(n,t,["ng-version","18.2.5"]);else{let{attrs:i,classes:s}=KV(e.selectors[0]);i&&Py(n,t,i),s&&s.length>0&&EA(n,t,s.join(" "))}}function oU(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function aU(){let n=dn();yf(De()[ye],n)}var In=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cU;let n=e;return n})();function cU(){let n=dn();return QA(n,De())}var lU=In,KA=class extends lU{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ga(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){let e=ew(this._hostTNode,this._hostLView);if(kS(e)){let t=Lh(e,this._hostLView),r=Vh(e),i=t[ye].data[r+8];return new Os(i,t)}else return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=bT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=hv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,uv(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!dL(e),a;if(o)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let c=o?e:new ua(Ni(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let D=(o?u:this.parentInjector).get(ln,null);D&&(s=D)}let d=Ni(c.componentType??{}),f=hv(this._lContainer,d?.id??null),g=f?.firstChild??null,m=c.create(u,i,g,s);return this.insertImpl(m.hostView,a,uv(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(vL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Kt],u=new KA(c,c[wn],c[Kt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return LA(o,i,s,r),e.attachToViewContainerRef(),HT(Cy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=bT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ov(this._lContainer,t);r&&(Rh(Cy(this._lContainer),t),pA(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=ov(this._lContainer,t);return r&&Rh(Cy(this._lContainer),t)!=null?new zs(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function bT(n){return n[Oh]}function Cy(n){return n[Oh]||(n[Oh]=[])}function QA(n,e){let t,r=e[n.index];return Xr(r)?t=r:(t=RA(r,e,null,n),e[n.index]=t,Cf(e,t)),dU(t,e,n,r),new KA(t,n,e)}function uU(n,e){let t=n[lt],r=t.createComment(""),i=or(e,n),s=yA(t,i);return qh(t,s,r,ej(t,i),!1),r}var dU=pU,hU=()=>!1;function fU(n,e,t){return hU(n,e,t)}function pU(n,e,t,r){if(n[Ls])return;let i;t.type&8?i=Dr(r):i=uU(e,t),n[Ls]=i}var mv=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yv=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)ww(e,t).matches!==null&&this.queries[t].setDirty()}},vv=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=IU(e):this.predicate=e}},wv=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_v=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,gU(t,s)),this.matchTNodeWithReadOption(e,t,Sh(t,e,s,!1,!1))}else r===qs?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===It||i===In||i===qs&&t.type&4)this.addMatch(t.index,-2);else{let s=Sh(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function gU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function mU(n,e){return n.type&11?ga(n,e):n.type&4?Tf(n,e):null}function yU(n,e,t,r){return t===-1?mU(e,n):t===-2?vU(n,e,r):$s(n,n[ye],t,e)}function vU(n,e,t){if(t===It)return ga(e,n);if(t===qs)return Tf(e,n);if(t===In)return QA(e,n)}function YA(n,e,t,r){let i=e[Kr].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(yU(e,d,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Ev(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=YA(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=Rn;f<d.length;f++){let g=d[f];g[Vs]===g[Kt]&&Ev(g[ye],g,u,r)}if(d[sa]!==null){let f=d[sa];for(let g=0;g<f.length;g++){let m=f[g];Ev(m[ye],m,u,r)}}}}}return r}function wU(n,e){return n[Kr].queries[e].queryList}function _U(n,e,t){let r=new Qy((t&4)===4);return pj(n,e,r,r.destroy),(e[Kr]??=new yv).queries.push(new mv(r))-1}function EU(n,e,t){let r=Et();return r.firstCreatePass&&(bU(r,new vv(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),_U(r,De(),e)}function IU(n){return n.split(",").map(e=>e.trim())}function bU(n,e,t){n.queries===null&&(n.queries=new wv),n.queries.track(new _v(e,t))}function ww(n,e){return n.queries.getByIndex(e)}function DU(n,e){let t=n[ye],r=ww(t,e);return r.crossesNgTemplate?Ev(t,n,e,[]):YA(t,n,r,e)}var DT=new Set;function ya(n){DT.has(n)||(DT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function CU(n){return typeof n=="function"&&n[$r]!==void 0}function Nl(n,e){ya("NgSignals");let t=DC(n),r=t[$r];return e?.equal&&(r.equal=e.equal),t.set=i=>Xm(r,i),t.update=i=>CC(r,i),t.asReadonly=TU.bind(t),t}function TU(){let n=this[$r];if(n.readonlyFn===void 0){let e=()=>this();e[$r]=n,n.readonlyFn=e}return n.readonlyFn}function ZA(n){return CU(n)&&typeof n.set=="function"}function SU(n){let e=[],t=new Map;function r(i){let s=t.get(i);if(!s){let o=n(i);t.set(i,s=o.then(RU))}return s}return Qh.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,g)=>{a.push(""),o.push(r(f).then(m=>{a[u+g]=m,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>kU(s));e.push(c)}),xU(),Promise.all(e).then(()=>{})}var Qh=new Map,AU=new Set;function xU(){let n=Qh;return Qh=new Map,n}function MU(){return Qh.size===0}function RU(n){return typeof n=="string"?n:n.text()}function kU(n){AU.delete(n)}function NU(n){return Object.getPrototypeOf(n.prototype).constructor}function ut(n){let e=NU(n.type),t=!0,r=[n];for(;e;){let i;if(Pi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ie(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=_h(n.inputs),o.inputTransforms=_h(n.inputTransforms),o.declaredInputs=_h(n.declaredInputs),o.outputs=_h(n.outputs);let a=i.hostBindings;a&&LU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&FU(n,c),u&&VU(n,u),PU(n,i),dV(n.outputs,i.outputs),Pi(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===ut&&(t=!1)}}e=Object.getPrototypeOf(e)}OU(r)}function PU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function OU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Dl(i.hostAttrs,t=Dl(t,i.hostAttrs))}}function _h(n){return n===ta?{}:n===vn?[]:n}function FU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function VU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function LU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Fi=class{},Al=class{};var Yh=class extends Fi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kh(this);let s=eS(e);this._bootstrapComponents=uA(s.bootstrap),this._r3Injector=BS(e,t,[{provide:Fi,useValue:this},{provide:ca,useValue:this.componentFactoryResolver},...r],cn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zh=class extends Al{constructor(e){super(),this.moduleType=e}create(e){return new Yh(this.moduleType,e,[])}};function jU(n,e,t){return new Yh(n,e,t,!1)}var Iv=class extends Fi{constructor(e){super(),this.componentFactoryResolver=new Kh(this),this.instance=null;let t=new Cl([...e.providers,{provide:Fi,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],e.parent||$v(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sf(n,e,t=null){return new Iv({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function JA(n){return _w(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function UU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function _w(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ew(n,e,t){return n[e]=t}function Zr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Iw(n,e,t,r){let i=Zr(n,e,t);return Zr(n,e+1,r)||i}function BU(n,e,t,r,i){let s=Iw(n,e,t,r);return Zr(n,e+2,i)||s}function $U(n){return(n.flags&32)===32}function zU(n,e,t,r,i,s,o,a,c){let u=e.consts,d=ma(e,n,4,o||null,a||null);gw(e,t,d,oa(u,c)),yf(e,d);let f=d.tView=fw(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function XA(n,e,t,r,i,s,o,a,c,u){let d=t+un,f=e.firstCreatePass?zU(d,e,n,r,i,s,o,a,c):e.data[d];Ws(f,!1);let g=qU(e,n,f,t);gf()&&If(e,n,g,f),Oi(g,n);let m=RA(g,n,g,f);return n[d]=m,Cf(n,m),fU(m,f,n),df(f)&&dw(e,n,f),c!=null&&hw(n,f,u),f}function Ie(n,e,t,r,i,s,o,a){let c=De(),u=Et(),d=oa(u.consts,s);return XA(c,u,n,e,t,r,i,d,o,a),Ie}var qU=HU;function HU(n,e,t,r){return mf(!0),e[lt].createComment("")}var Jo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Jo||{}),ex=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=K({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),Ps=class Ps{constructor(){this.ngZone=G(Ce),this.scheduler=G(aa),this.errorHandler=G(Qr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Ps.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Ps.PHASES=[Jo.EarlyRead,Jo.Write,Jo.MixedReadWrite,Jo.Read],Ps.\u0275prov=K({token:Ps,providedIn:"root",factory:()=>new Ps});var bv=Ps,Dv=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function bw(n,e){!e?.injector&&lL(bw);let t=e?.injector??G(Nn);return $2(t)?(ya("NgAfterNextRender"),WU(n,t,e,!0)):KU}function GU(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function WU(n,e,t,r){let i=e.get(ex);i.impl??=e.get(bv);let s=t?.phase??Jo.MixedReadWrite,o=new Dv(i.impl,GU(n,s),r,e.get(tw));return i.impl.register(o),o}var KU={destroy(){}};function Dw(n,e,t,r){return Zr(n,Kv(),t)?e+Il(t)+r:Wn}function QU(n,e,t,r,i,s){let o=AL(),a=Iw(n,o,t,i);return Qv(2),a?e+Il(t)+r+Il(i)+s:Wn}function Eh(n,e){return n<<17|e<<2}function Hs(n){return n>>17&32767}function YU(n){return(n&2)==2}function ZU(n,e){return n&131071|e<<17}function Cv(n){return n|2}function da(n){return(n&131068)>>2}function Ty(n,e){return n&-131069|e<<2}function JU(n){return(n&1)===1}function Tv(n){return n|1}function XU(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hs(o),c=da(o);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Rl(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=Hs(n[a+1]);n[r+1]=Eh(g,a),g!==0&&(n[g+1]=Ty(n[g+1],r)),n[a+1]=ZU(n[a+1],r)}else n[r+1]=Eh(a,0),a!==0&&(n[a+1]=Ty(n[a+1],r)),a=r;else n[r+1]=Eh(c,0),a===0?a=r:n[c+1]=Ty(n[c+1],r),c=r;u&&(n[r+1]=Cv(n[r+1])),CT(n,d,r,!0),CT(n,d,r,!1),eB(e,d,n,r,s),o=Eh(a,c),s?e.classBindings=o:e.styleBindings=o}function eB(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Rl(s,e)>=0&&(t[r+1]=Tv(t[r+1]))}function CT(n,e,t,r){let i=n[t+1],s=e===null,o=r?Hs(i):da(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];tB(c,e)&&(a=!0,n[o+1]=r?Tv(u):Cv(u)),o=r?Hs(u):da(u)}a&&(n[t+1]=r?Cv(i):Tv(i))}function tB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Rl(n,e)>=0:!1}var xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tx(n){return n.substring(xt.key,xt.keyEnd)}function nB(n){return n.substring(xt.value,xt.valueEnd)}function rB(n){return ix(n),nx(n,ha(n,0,xt.textEnd))}function nx(n,e){let t=xt.textEnd;return t===e?-1:(e=xt.keyEnd=sB(n,xt.key=e,t),ha(n,e,t))}function iB(n){return ix(n),rx(n,ha(n,0,xt.textEnd))}function rx(n,e){let t=xt.textEnd,r=xt.key=ha(n,e,t);return t===r?-1:(r=xt.keyEnd=oB(n,r,t),r=TT(n,r,t,58),r=xt.value=ha(n,r,t),r=xt.valueEnd=aB(n,r,t),TT(n,r,t,59))}function ix(n){xt.key=0,xt.keyEnd=0,xt.value=0,xt.valueEnd=0,xt.textEnd=n.length}function ha(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function sB(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function oB(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function TT(n,e,t,r){return e=ha(n,e,t),e<t&&e++,e}function aB(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){let c=n.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=ST(n,c,o,t):e===o-4&&s===85&&i===82&&r===76&&c===40?a=o=ST(n,41,o,t):c>32&&(a=o),s=i,i=r,r=c&-33}return a}function ST(n,e,t,r){let i=-1,s=t;for(;s<r;){let o=n.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function X(n,e,t){let r=De(),i=Kv();if(Zr(r,i,e)){let s=Et(),o=Xv();pw(s,o,r,n,e,r[lt],t,!1)}return X}function Sv(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";mw(n,t,s[o],o,r)}function va(n,e,t){return sx(n,e,t,!1),va}function wa(n,e){return sx(n,e,null,!0),wa}function Cw(n){ox(lx,cB,n,!1)}function cB(n,e){for(let t=iB(e);t>=0;t=rx(e,t))lx(n,tx(e),nB(e))}function lB(n,e){for(let t=rB(e);t>=0;t=nx(e,t))of(n,tx(e),!0)}function sx(n,e,t,r){let i=De(),s=Et(),o=Qv(2);if(s.firstUpdatePass&&cx(s,n,o,r),e!==Wn&&Zr(i,o,e)){let a=s.data[Ui()];ux(s,a,i,i[lt],n,i[o+1]=mB(e,t),r,o)}}function ox(n,e,t,r){let i=Et(),s=Qv(2);i.firstUpdatePass&&cx(i,null,s,r);let o=De();if(t!==Wn&&Zr(o,s,t)){let a=i.data[Ui()];if(dx(a,r)&&!ax(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=My(c,t||"")),Sv(i,a,o,t,r)}else gB(i,a,o,o[lt],o[s+1],o[s+1]=pB(n,e,t),r,s)}}function ax(n,e){return e>=n.expandoStartIndex}function cx(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ui()],o=ax(n,t);dx(s,r)&&e===null&&!o&&(e=!1),e=uB(i,s,e,r),XU(i,s,e,t,o,r)}}function uB(n,e,t,r){let i=NL(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Sy(null,n,e,t,r),t=xl(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Sy(i,n,e,t,r),s===null){let c=dB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Sy(null,n,e,c[1],r),c=xl(c,e.attrs,r),hB(n,e,r,c))}else s=fB(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function dB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(da(r)!==0)return n[Hs(r)]}function hB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Hs(i)]=r}function fB(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=xl(r,o,t)}return xl(r,e.attrs,t)}function Sy(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=xl(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function xl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),of(n,o,t?!0:e[++s]))}return n===void 0?null:n}function pB(n,e,t){if(t==null||t==="")return vn;let r=[],i=Gn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function lx(n,e,t){of(n,e,Gn(t))}function gB(n,e,t,r,i,s,o,a){i===Wn&&(i=vn);let c=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,m=u<s.length?s[u+1]:void 0,w=null,D;d===f?(c+=2,u+=2,g!==m&&(w=f,D=m)):f===null||d!==null&&d<f?(c+=2,w=d):(u+=2,w=f,D=m),w!==null&&ux(n,e,t,r,w,D,o,a),d=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}function ux(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=JU(u)?AT(c,e,t,i,da(u),o):void 0;if(!Jh(d)){Jh(s)||YU(u)&&(s=AT(c,null,t,i,a,o));let f=pS(Ui(),t);oj(r,o,f,i,s)}}function AT(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=t[i+1];g===Wn&&(g=f?vn:void 0);let m=f?yy(g,r):d===r?g:void 0;if(u&&!Jh(m)&&(m=yy(c,r)),Jh(m)&&(a=m,o))return a;let w=n[i+1];i=o?Hs(w):da(w)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=yy(c,r))}return a}function Jh(n){return n!==void 0}function mB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=cn(Gn(n)))),n}function dx(n,e){return(n.flags&(e?8:16))!==0}function Af(n,e,t){let r=De(),i=Dw(r,n,e,t);ox(of,lB,i,!0)}function yB(n,e,t,r,i,s){let o=e.consts,a=oa(o,i),c=ma(e,n,2,r,a);return gw(e,t,c,oa(o,s)),c.attrs!==null&&Wh(c,c.attrs,!1),c.mergedAttrs!==null&&Wh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function R(n,e,t,r){let i=De(),s=Et(),o=un+n,a=i[lt],c=s.firstCreatePass?yB(o,s,i,e,t,r):s.data[o],u=vB(s,i,c,a,e,n);i[o]=u;let d=df(c);return Ws(c,!0),IA(a,u,c),!$U(c)&&gf()&&If(s,i,u,c),EL()===0&&Oi(u,i),IL(),d&&(dw(s,i,c),uw(s,c,i)),r!==null&&hw(i,c),R}function P(){let n=dn();Gv()?Wv():(n=n.parent,Ws(n,!1));let e=n;DL(e)&&CL(),bL();let t=Et();return t.firstCreatePass&&(yf(t,n),zv(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&UL(e)&&Sv(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BL(e)&&Sv(t,e,De(),e.stylesWithoutHost,!1),P}function ce(n,e,t,r){return R(n,e,t,r),P(),ce}var vB=(n,e,t,r,i,s)=>(mf(!0),dA(r,i,FL()));function wB(n,e,t,r,i){let s=e.consts,o=oa(s,r),a=ma(e,n,8,"ng-container",o);o!==null&&Wh(a,o,!0);let c=oa(s,i);return gw(e,t,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Tw(n,e,t){let r=De(),i=Et(),s=n+un,o=i.firstCreatePass?wB(s,i,r,e,t):i.data[s];Ws(o,!0);let a=_B(i,r,o,n);return r[s]=a,gf()&&If(i,r,a,o),Oi(a,r),df(o)&&(dw(i,r,o),uw(i,o,r)),t!=null&&hw(r,o),Tw}function Sw(){let n=dn(),e=Et();return Gv()?Wv():(n=n.parent,Ws(n,!1)),e.firstCreatePass&&(yf(e,n),zv(n)&&e.queries.elementEnd(n)),Sw}var _B=(n,e,t,r)=>(mf(!0),G2(e[lt],""));function bn(){return De()}var Xh="en-US";var EB=Xh;function IB(n){typeof n=="string"&&(EB=n.toLowerCase().replace(/_/g,"-"))}var bB=(n,e,t)=>{};function Me(n,e,t,r){let i=De(),s=Et(),o=dn();return hx(s,i,i[lt],o,n,e,r),Me}function DB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Ph],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function hx(n,e,t,r,i,s,o){let a=df(r),u=n.firstCreatePass&&PA(n),d=e[sr],f=NA(e),g=!0;if(r.type&3||o){let D=or(r,e),C=o?o(D):D,F=f.length,L=o?H=>o(Dr(H[r.index])):r.index,j=null;if(!o&&a&&(j=DB(n,e,i,r.index)),j!==null){let H=j.__ngLastListenerFn__||j;H.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,g=!1}else{s=MT(r,e,d,s),bB(D,i,s);let H=t.listen(C,i,s);f.push(s,H),u&&u.push(i,L,F,F+1)}}else s=MT(r,e,d,s);let m=r.outputs,w;if(g&&m!==null&&(w=m[i])){let D=w.length;if(D)for(let C=0;C<D;C+=2){let F=w[C],L=w[C+1],ee=e[F][L].subscribe(s),Q=f.length;f.push(s,ee),u&&u.push(i,r.index,Q,-(Q+1))}}}function xT(n,e,t,r){let i=Ne(null);try{return _r(6,e,t),t(r)!==!1}catch(s){return OA(n,s),!1}finally{_r(7,e,t),Ne(i)}}function MT(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?ji(n.index,e):e;vw(o,5);let a=xT(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=xT(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function ue(n=1){return OL(n)}function CB(n,e){let t=null,r=$V(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?YT(n,s,!0):HV(r,s))return i}return t}function fx(n){let e=De()[qn][wn];if(!e.projection){let t=n?n.length:1,r=e.projection=kV(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?CB(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function px(n,e=0,t,r,i,s){let o=De(),a=Et(),c=r?n+1:null;c!==null&&XA(o,a,c,r,i,s,null,t);let u=ma(a,un+n,16,null,t||null);u.projection===null&&(u.projection=e),Wv();let f=!o[Tl]||ES();o[qn][wn].projection[u.projection]===null&&c!==null?TB(o,a,c):f&&(u.flags&32)!==32&&ij(a,o,u)}function TB(n,e,t){let r=un+t,i=e.data[r],s=n[r],o=hv(s,i.tView.ssrId),a=VA(n,i,void 0,{dehydratedView:o});LA(s,a,0,uv(i,o))}function Pn(n,e,t){return xf(n,"",e,"",t),Pn}function xf(n,e,t,r,i){let s=De(),o=Dw(s,e,t,r);if(o!==Wn){let a=Et(),c=Xv();pw(a,c,s,n,o,s[lt],i,!1)}return xf}function Pl(n,e,t){EU(n,e,t)}function _a(n){let e=De(),t=Et(),r=DS();Yv(r+1);let i=ww(t,r);if(n.dirty&&yL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=DU(e,r);n.reset(s,c2),n.notifyOnChanges()}return!0}return!1}function Ea(){return wU(De(),DS())}function SB(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ia(n){let e=SL();return qv(e,un+n)}function U(n,e=""){let t=De(),r=Et(),i=n+un,s=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],o=AB(r,t,s,e,n);t[i]=o,gf()&&If(r,t,o,s),Ws(s,!1)}var AB=(n,e,t,r,i)=>(mf(!0),q2(e[lt],r));function Ve(n){return ft("",n,""),Ve}function ft(n,e,t){let r=De(),i=Dw(r,n,e,t);return i!==Wn&&FA(r,Ui(),i),ft}function Mf(n,e,t,r,i){let s=De(),o=QU(s,n,e,t,r,i);return o!==Wn&&FA(s,Ui(),o),Mf}function zi(n,e,t){ZA(e)&&(e=e());let r=De(),i=Kv();if(Zr(r,i,e)){let s=Et(),o=Xv();pw(s,o,r,n,e,r[lt],t,!1)}return zi}function Qs(n,e){let t=ZA(n);return t&&n.set(e),t}function qi(n,e){let t=De(),r=Et(),i=dn();return hx(r,t,t[lt],i,n,e),qi}function xB(n,e,t){let r=Et();if(r.firstCreatePass){let i=Pi(n);Av(t,r.data,r.blueprint,i,!0),Av(e,r.data,r.blueprint,i,!1)}}function Av(n,e,t,r,i){if(n=an(n),Array.isArray(n))for(let s=0;s<n.length;s++)Av(n[s],e,t,r,i);else{let s=Et(),o=De(),a=dn(),c=ra(n)?n:an(n.provide),u=oS(n),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(ra(n)||!n.multi){let m=new Bs(u,i,z),w=xy(c,e,i?d:d+g,f);w===-1?(qy(Uh(a,o),s,c),Ay(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),o.push(m)):(t[w]=m,o[w]=m)}else{let m=xy(c,e,d+g,f),w=xy(c,e,d,d+g),D=m>=0&&t[m],C=w>=0&&t[w];if(i&&!C||!i&&!D){qy(Uh(a,o),s,c);let F=kB(i?RB:MB,t.length,i,r,u);!i&&C&&(t[w].providerFactory=F),Ay(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=gx(t[i?w:m],u,!i&&r);Ay(s,n,m>-1?m:w,F)}!i&&r&&C&&t[w].componentProviders++}}}function Ay(n,e,t,r){let i=ra(e),s=nL(e);if(i||s){let c=(s?an(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function gx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function xy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function MB(n,e,t,r){return xv(this.multi,[])}function RB(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=$s(t,t[ye],this.providerFactory.index,r);s=a.slice(0,o),xv(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],xv(i,s);return s}function xv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function kB(n,e,t,r,i){let s=new Bs(n,t,z);return s.multi=[],s.index=e,s.componentProviders=0,gx(s,i,r&&!t),s}function ba(n,e=[]){return t=>{t.providersResolver=(r,i)=>xB(r,i?i(n):n,e)}}var NB=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=rS(!1,r.type),s=i.length>0?Sf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=K({token:e,providedIn:"environment",factory:()=>new e(B(ln))});let n=e;return n})();function Ol(n){ya("NgStandalone"),n.getStandaloneInjector=e=>e.get(NB).getOrCreateStandaloneInjector(n)}function mx(n,e,t){let r=n.\u0275cmp;r.directiveDefs=Nh(e,!1),r.pipeDefs=Nh(t,!0)}function Rf(n,e,t,r){return yx(De(),pf(),n,e,t,r)}function kf(n,e,t,r,i){return PB(De(),pf(),n,e,t,r,i)}function Aw(n,e){let t=n[e];return t===Wn?void 0:t}function yx(n,e,t,r,i,s){let o=e+t;return Zr(n,o,i)?Ew(n,o+1,s?r.call(s,i):r(i)):Aw(n,o+1)}function PB(n,e,t,r,i,s,o){let a=e+t;return Iw(n,a,i,s)?Ew(n,a+2,o?r.call(o,i,s):r(i,s)):Aw(n,a+2)}function OB(n,e,t,r,i,s,o,a){let c=e+t;return BU(n,c,i,s,o)?Ew(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):Aw(n,c+3)}function Ut(n,e){let t=Et(),r,i=n+un;t.firstCreatePass?(r=FB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Fs(r.type,!0)),o,a=yn(z);try{let c=jh(!1),u=s();return jh(c),SB(t,De(),i,u),u}finally{yn(a)}}function FB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function On(n,e,t){let r=n+un,i=De(),s=qv(i,r);return vx(i,r)?yx(i,pf(),e,s.transform,t,s):s.transform(t)}function Da(n,e,t,r,i){let s=n+un,o=De(),a=qv(o,s);return vx(o,s)?OB(o,pf(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function vx(n,e){return n[ye].data[e].pure}function Ca(n,e){return Tf(n,e)}var Ih=null;function VB(n){Ih!==null&&(n.defaultEncapsulation!==Ih.defaultEncapsulation||n.preserveWhitespaces!==Ih.preserveWhitespaces)||(Ih=n)}var Nf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var xw=new W(""),Fl=new W(""),Pf=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Mw||(LB(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(B(Ce),B(Of),B(Fl))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Of=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Mw?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();function LB(n){Mw=n}var Mw;function Hi(n){return!!n&&typeof n.then=="function"}function Rw(n){return!!n&&typeof n.subscribe=="function"}var Ff=new W(""),wx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=G(Ff,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Hi(o))r.push(o);else if(Rw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Vf=new W("");function jB(){bC(()=>{throw new ie(600,!1)})}function UB(n){return n.isBoundToModule}var BB=10;function $B(n,e,t){try{let r=t();return Hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}function _x(n,e){return Array.isArray(e)?e.reduce(_x,n):M(M({},n),e)}var ti=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=G(o2),this.afterRenderManager=G(ex),this.zonelessEnabled=G(HA),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=G(Bi).hasPendingTasks.pipe(oe(r=>!r)),this._injector=G(ln)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Gh;if(!this._injector.get(wx).done){let m=!s&&XT(r),w=!1;throw new ie(405,w)}let a;s?a=r:a=this._injector.get(ca).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=UB(a)?void 0:this._injector.get(Fi),u=i||a.selector,d=a.create(Nn.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(xw,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ah(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ie(101,!1);let r=Ne(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ne(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(la,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<BB;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:o}of this._views)zB(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>hf(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ah(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Vf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ah(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ie(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Ah(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zB(n,e,t,r){if(!t&&!hf(n))return;BA(n,e,t&&!r?0:1)}var Mv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Lf=(()=>{let e=class e{compileModuleSync(r){return new Zh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=eS(r),o=uA(s.declarations).reduce((a,c)=>{let u=Ni(c);return u&&a.push(new ua(u)),a},[]);return new Mv(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qB=new W("");function HB(n,e,t){let r=new Zh(t);return Promise.resolve(r)}function RT(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var GB=(()=>{let e=class e{constructor(){this.zone=G(Ce),this.changeDetectionScheduler=G(aa),this.applicationRef=G(ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function WB({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ce(te(M({},Ex()),{scheduleInRootZone:t})),[{provide:Ce,useFactory:n},{provide:na,multi:!0,useFactory:()=>{let r=G(GB,{optional:!0});return()=>r.initialize()}},{provide:na,multi:!0,useFactory:()=>{let r=G(KB);return()=>{r.initialize()}}},e===!0?{provide:GA,useValue:!0}:[],{provide:WA,useValue:t??$S}]}function Ex(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var KB=(()=>{let e=class e{constructor(){this.subscription=new ct,this.initialized=!1,this.zone=G(Ce),this.pendingTasks=G(Bi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var QB=(()=>{let e=class e{constructor(){this.appRef=G(ti),this.taskService=G(Bi),this.ngZone=G(Ce),this.zonelessEnabled=G(HA),this.disableScheduling=G(GA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ct,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(G(WA,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?lT:zS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function YB(){return typeof $localize<"u"&&$localize.locale||Xh}var kw=new W("",{providedIn:"root",factory:()=>G(kw,be.Optional|be.SkipSelf)||YB()});var Nw=new W("");function bh(n){return!!n.platformInjector}function ZB(n){let e=bh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{bh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Qr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),bh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Nw);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Ah(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return $B(r,t,()=>{let s=e.get(wx);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(kw,Xh);if(IB(o||Xh),bh(n)){let a=e.get(ti);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return JB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function JB(n,e){let t=n.injector.get(ti);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ie(-403,!1);e.push(n)}var Ix=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=i?.scheduleInRootZone,o=()=>s2(i?.ngZone,te(M({},Ex({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),a=i?.ignoreChangesOutsideZone,c=[WB({ngZoneFactory:o,ignoreChangesOutsideZone:a}),{provide:aa,useExisting:QB}],u=jU(r.moduleType,this.injector,c);return ZB({moduleRef:u,allPlatformModules:this._modules})}bootstrapModule(r,i=[]){let s=_x({},i);return HB(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Nw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(B(Nn))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})(),El=null,bx=new W("");function XB(n){if(El&&!El.get(bx,!1))throw new ie(400,!1);jB(),El=n;let e=n.get(Ix);return n$(n),e}function Pw(n,e,t=[]){let r=`Platform: ${e}`,i=new W(r);return(s=[])=>{let o=Dx();if(!o||o.injector.get(bx,!1)){let a=[...t,...s,{provide:i,useValue:!0}];n?n(a):XB(e$(a,r))}return t$(i)}}function e$(n=[],e){return Nn.create({name:e,providers:[{provide:cf,useValue:"platform"},{provide:Nw,useValue:new Set([()=>El=null])},...n]})}function t$(n){let e=Dx();if(!e)throw new ie(401,!1);return e}function Dx(){return El?.get(Ix)??null}function n$(n){n.get(iw,null)?.forEach(t=>t())}function Ow(){return!1}var Tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=r$;let n=e;return n})();function r$(n){return i$(dn(),De(),(n&16)===16)}function i$(n,e,t){if(uf(n)&&!t){let r=ji(n.index,e);return new zs(r,r)}else if(n.type&175){let r=e[qn];return new zs(r,e)}return null}var Rv=class{constructor(){}supports(e){return JA(e)}create(e){return new kv(e)}},s$=(n,e)=>e,kv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||s$}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<kT(r,i,s)?t:r,a=kT(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,d=c-i;if(u!=d){for(let g=0;g<u;g++){let m=g<s.length?s[g]:s[g]=0,w=m+g;d<=w&&w<u&&(s[g]=m+1)}let f=o.previousIndex;s[f]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!JA(e))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,UU(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Nv(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ef),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ef),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Nv=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Pv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ef=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Pv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Ov=class{constructor(){}supports(e){return e instanceof Map||_w(e)}create(){return new Fv}},Fv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||_w(e)))throw new ie(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Vv(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Vv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function NT(){return new Fw([new Rv])}var Fw=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||NT()),deps:[[e,new sf,new fa]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new ie(901,!1)}};e.\u0275prov=K({token:e,providedIn:"root",factory:NT});let n=e;return n})();function PT(){return new jf([new Ov])}var jf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||PT()),deps:[[e,new sf,new fa]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ie(901,!1)}};e.\u0275prov=K({token:e,providedIn:"root",factory:PT});let n=e;return n})();var Cx=Pw(null,"core",[]),Tx=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(B(ti))},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({});let n=e;return n})();var Sx=new W("");function Uf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Vl(n,e){ya("NgSignals");let t=_C(n);return e?.equal&&(t[$r].equal=e.equal),t}function ar(n){let e=Ne(null);try{return n()}finally{Ne(e)}}function Ax(n){let e=Ni(n);if(!e)return null;let t=new ua(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ox=null;function cr(){return Ox}function Fx(n){Ox??=n}var Bf=class{};var kt=new W(""),Gw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(l$),providedIn:"platform"});let n=e;return n})(),Vx=new W(""),l$=(()=>{let e=class e extends Gw{constructor(){super(),this._doc=G(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Ww(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function xx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ni(n){return n&&n[0]!=="?"?"?"+n:n}var Ys=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(Kw),providedIn:"root"});let n=e;return n})(),Lx=new W(""),Kw=(()=>{let e=class e extends Ys{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??G(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Ww(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ni(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(Gw),B(Lx,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),jx=(()=>{let e=class e extends Ys{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Ww(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ni(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(Gw),B(Lx,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Sa=(()=>{let e=class e{constructor(r){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=h$(xx(Mx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ni(i))}normalize(r){return e.stripTrailingSlash(d$(this._basePath,Mx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ni(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ni(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ni,e.joinWithSlash=Ww,e.stripTrailingSlash=xx,e.\u0275fac=function(i){return new(i||e)(B(Ys))},e.\u0275prov=K({token:e,factory:()=>u$(),providedIn:"root"});let n=e;return n})();function u$(){return new Sa(B(Ys))}function d$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Mx(n){return n.replace(/\/index.html$/,"")}function h$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function $f(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Lw=/\s+/,Rx=[],Aa=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Rx,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Lw):Rx}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Lw):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Lw).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(z(It),z(En))},e.\u0275dir=_t({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var jw=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qt=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new jw(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),kx(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);kx(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(z(In),z(qs),z(Fw))},e.\u0275dir=_t({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function kx(n,e){n.context.$implicit=e.item}var Yt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Uw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Nx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Nx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(z(In),z(qs))},e.\u0275dir=_t({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Uw=class{constructor(){this.$implicit=null,this.ngIf=null}};function Nx(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${cn(e)}'.`)}var Ux=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Cr.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(z(It),z(jf),z(En))},e.\u0275dir=_t({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})();function Bx(n,e){return new ie(2100,!1)}var Bw=class{createSubscription(e,t){return ar(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){ar(()=>e.unsubscribe())}},$w=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},f$=new $w,p$=new Bw,$x=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Hi(r))return f$;if(Rw(r))return p$;throw Bx(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(z(Tr,16))},e.\u0275pipe=Gs({name:"async",type:e,pure:!1,standalone:!0});let n=e;return n})();function g$(n,e){return{key:n,value:e}}var Gi=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Px}transform(r,i=Px){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(g$(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(z(jf,16))},e.\u0275pipe=Gs({name:"keyvalue",type:e,pure:!1,standalone:!0});let n=e;return n})();function Px(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t===void 0)return 1;if(r===void 0)return-1;if(t===null)return 1;if(r===null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),s=String(r);return i==s?0:i<s?-1:1}var xa=(()=>{let e=class e{transform(r,i,s){if(r==null)return null;if(!this.supports(r))throw Bx(e,r);return r.slice(i,s)}supports(r){return typeof r=="string"||Array.isArray(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Gs({name:"slice",type:e,pure:!1,standalone:!0});let n=e;return n})();var Ma=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({});let n=e;return n})(),Qw="browser",m$="server";function Wi(n){return n===Qw}function Ki(n){return n===m$}var zx=(()=>{let e=class e{};e.\u0275prov=K({token:e,providedIn:"root",factory:()=>Wi(G(jt))?new zw(G(kt),window):new qw});let n=e;return n})(),zw=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=y$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function y$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var qw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ta=class{};var jl=class{},qf=class{},Dn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zw=class{encodeKey(e){return qx(e)}encodeValue(e){return qx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function v$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var w$=/%(\d[a-f0-9])/gi,_$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qx(n){return encodeURIComponent(n).replace(w$,(e,t)=>_$[t]??e)}function zf(n){return`${n}`}var Yi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=v$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(zf):[zf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(zf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jw=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function E$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Gx(n){return typeof Blob<"u"&&n instanceof Blob}function Wx(n){return typeof FormData<"u"&&n instanceof FormData}function I$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ll=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(E$(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Dn,this.context??=new Jw,!this.params)this.params=new Yi,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hx(this.body)||Gx(this.body)||Wx(this.body)||I$(this.body)?this.body:this.body instanceof Yi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wx(this.body)?null:Gx(this.body)?this.body.type||null:Hx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),d)),new n(t,r,o,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},Zi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Zi||{}),Ul=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Dn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hf=class n extends Ul{constructor(e={}){super(e),this.type=Zi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Bl=class n extends Ul{constructor(e={}){super(e),this.type=Zi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qi=class extends Ul{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Zx=200,b$=204;function Yw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ri=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Ll)o=r;else{let u;s.headers instanceof Dn?u=s.headers:u=new Dn(s.headers);let d;s.params&&(s.params instanceof Yi?d=s.params:d=new Yi({fromObject:s.params})),o=new Ll(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=ae(o).pipe(Hr(u=>this.handler.handle(u)));if(r instanceof Ll||s.observe==="events")return a;let c=a.pipe(At(u=>u instanceof Bl));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(oe(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(oe(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(oe(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Yi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Yw(s,i))}post(r,i,s={}){return this.request("POST",r,Yw(s,i))}put(r,i,s={}){return this.request("PUT",r,Yw(s,i))}};e.\u0275fac=function(i){return new(i||e)(B(jl))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),D$=/^\)\]\}',?\n/,C$="X-Request-URL";function Kx(n){if(n.url)return n.url;let e=C$.toLocaleLowerCase();return n.headers.get(e)}var T$=(()=>{let e=class e{constructor(){this.fetchImpl=G(Xw,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=G(Ce)}handle(r){return new ge(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(e_,o=>i.error(new Qi({error:o}))),()=>s.abort()})}doRequest(r,i,s){return b(this,null,function*(){let o=this.createRequestInit(r),a;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,M({signal:i},o)));S$(w),s.next({type:Zi.Sent}),a=yield w}catch(w){s.error(new Qi({error:w,status:w.status??0,statusText:w.statusText,url:r.urlWithParams,headers:w.headers}));return}let c=new Dn(a.headers),u=a.statusText,d=Kx(a)??r.urlWithParams,f=a.status,g=null;if(r.reportProgress&&s.next(new Hf({headers:c,status:f,statusText:u,url:d})),a.body){let w=a.headers.get("content-length"),D=[],C=a.body.getReader(),F=0,L,j,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>b(this,null,function*(){for(;;){let{done:Q,value:I}=yield C.read();if(Q)break;if(D.push(I),F+=I.length,r.reportProgress){j=r.responseType==="text"?(j??"")+(L??=new TextDecoder).decode(I,{stream:!0}):void 0;let v=()=>s.next({type:Zi.DownloadProgress,total:w?+w:void 0,loaded:F,partialText:j});H?H.run(v):v()}}}));let ee=this.concatChunks(D,F);try{let Q=a.headers.get("Content-Type")??"";g=this.parseBody(r,ee,Q)}catch(Q){s.error(new Qi({error:Q,headers:new Dn(a.headers),status:a.status,statusText:a.statusText,url:Kx(a)??r.urlWithParams}));return}}f===0&&(f=g?Zx:0),f>=200&&f<300?(s.next(new Bl({body:g,headers:c,status:f,statusText:u,url:d})),s.complete()):s.error(new Qi({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(D$,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Xw=class{};function e_(){}function S$(n){n.then(e_,e_)}function A$(n,e){return e(n)}function x$(n,e,t){return(r,i)=>Hn(t,()=>e(r,s=>n(s,i)))}var Jx=new W(""),M$=new W(""),R$=new W("",{providedIn:"root",factory:()=>!0});var Qx=(()=>{let e=class e extends jl{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=G(Bi),this.contributeToStability=G(R$)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Jx),...this.injector.get(M$,[])]));this.chain=i.reduceRight((s,o)=>x$(s,o,this.injector),A$)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Rs(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(B(qf),B(ln))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})();var k$=/^\)\]\}',?\n/;function N$(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Yx=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new ie(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Se(i.\u0275loadImpl()):ae(null)).pipe(Ye(()=>new ge(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((C,F)=>a.setRequestHeader(C,F.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let C=r.detectContentTypeHeader();C!==null&&a.setRequestHeader("Content-Type",C)}if(r.responseType){let C=r.responseType.toLowerCase();a.responseType=C!=="json"?C:"text"}let c=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let C=a.statusText||"OK",F=new Dn(a.getAllResponseHeaders()),L=N$(a)||r.url;return u=new Hf({headers:F,status:a.status,statusText:C,url:L}),u},f=()=>{let{headers:C,status:F,statusText:L,url:j}=d(),H=null;F!==b$&&(H=typeof a.response>"u"?a.responseText:a.response),F===0&&(F=H?Zx:0);let ee=F>=200&&F<300;if(r.responseType==="json"&&typeof H=="string"){let Q=H;H=H.replace(k$,"");try{H=H!==""?JSON.parse(H):null}catch(I){H=Q,ee&&(ee=!1,H={error:I,text:H})}}ee?(o.next(new Bl({body:H,headers:C,status:F,statusText:L,url:j||void 0})),o.complete()):o.error(new Qi({error:H,headers:C,status:F,statusText:L,url:j||void 0}))},g=C=>{let{url:F}=d(),L=new Qi({error:C,status:a.status||0,statusText:a.statusText||"Unknown Error",url:F||void 0});o.error(L)},m=!1,w=C=>{m||(o.next(d()),m=!0);let F={type:Zi.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),r.responseType==="text"&&a.responseText&&(F.partialText=a.responseText),o.next(F)},D=C=>{let F={type:Zi.UploadProgress,loaded:C.loaded};C.lengthComputable&&(F.total=C.total),o.next(F)};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),r.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(c),o.next({type:Zi.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),r.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(B(Ta))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Xx=new W(""),P$="XSRF-TOKEN",O$=new W("",{providedIn:"root",factory:()=>P$}),F$="X-XSRF-TOKEN",V$=new W("",{providedIn:"root",factory:()=>F$}),Gf=class{},L$=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=$f(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(jt),B(O$))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})();function j$(n,e){let t=n.url.toLowerCase();if(!G(Xx)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=G(Gf).getToken(),i=G(V$);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function eM(...n){let e=[ri,Yx,Qx,{provide:jl,useExisting:Qx},{provide:qf,useFactory:()=>G(T$,{optional:!0})??G(Yx)},{provide:Jx,useValue:j$,multi:!0},{provide:Xx,useValue:!0},{provide:Gf,useClass:L$}];for(let t of n)e.push(...t.\u0275providers);return af(e)}var i_=class extends Bf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},s_=class n extends i_{static makeCurrent(){Fx(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=U$();return t==null?null:B$(t)}resetBaseElement(){$l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $f(document.cookie,e)}},$l=null;function U$(){return $l=$l||document.querySelector("base"),$l?$l.getAttribute("href"):null}function B$(n){return new URL(n,document.baseURI).pathname}var o_=class{addToWindow(e){kn.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new ie(5103,!1);return s},kn.getAllAngularTestabilities=()=>e.getAllTestabilities(),kn.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=kn.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?cr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},$$=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Wf=new W(""),iM=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ie(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(Wf),B(Ce))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),zl=class{constructor(e){this._doc=e}},n_="ng-app-id",sM=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ki(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${n_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(n_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(n_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(kt),B(vf),B(sw,8),B(jt))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),r_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},c_=/%COMP%/g,oM="%COMP%",z$=`_nghost-${oM}`,q$=`_ngcontent-${oM}`,H$=!0,G$=new W("",{providedIn:"root",factory:()=>H$});function W$(n){return q$.replace(c_,n)}function K$(n){return z$.replace(c_,n)}function aM(n,e){return e.map(t=>t.replace(c_,n))}var tM=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ki(c),this.defaultRenderer=new ql(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ir.ShadowDom&&(i=te(M({},i),{encapsulation:Ir.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Kf?s.applyToHost(r):s instanceof Hl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Ir.Emulated:o=new Kf(u,d,i,this.appId,f,a,c,g);break;case Ir.ShadowDom:return new a_(u,d,r,i,a,c,this.nonce,g);default:o=new Hl(u,d,i,f,a,c,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(iM),B(sM),B(vf),B(G$),B(kt),B(jt),B(Ce),B(sw))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),ql=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(r_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ie(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=r_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=r_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cr.DashCase|Cr.Important)?e.style.setProperty(t,r,i&Cr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function nM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var a_=class extends ql{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=aM(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hl=class extends ql{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?aM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kf=class extends Hl{constructor(e,t,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=W$(u),this.hostAttr=K$(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Q$=(()=>{let e=class e extends zl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Y$=(()=>{let e=class e extends zl{constructor(r){super(r),this.delegate=G(Sx,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),rM=["alt","control","meta","shift"],Z$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},X$=(()=>{let e=class e extends zl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),rM.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=Z$[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rM.forEach(a=>{if(a!==s){let c=J$[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})();function e4(){s_.makeCurrent()}function t4(){return new Qr}function n4(){return YS(document),document}var r4=[{provide:jt,useValue:Qw},{provide:iw,useValue:e4,multi:!0},{provide:kt,useFactory:n4,deps:[]}],cM=Pw(Cx,"browser",r4),i4=new W(""),s4=[{provide:Fl,useClass:o_,deps:[]},{provide:xw,useClass:Pf,deps:[Ce,Of,Fl]},{provide:Pf,useClass:Pf,deps:[Ce,Of,Fl]}],o4=[{provide:cf,useValue:"root"},{provide:Qr,useFactory:t4,deps:[]},{provide:Wf,useClass:Q$,multi:!0,deps:[kt,Ce,jt]},{provide:Wf,useClass:X$,multi:!0,deps:[kt]},{provide:Wf,useClass:Y$,multi:!0},tM,sM,iM,{provide:la,useExisting:tM},{provide:Ta,useClass:$$,deps:[]},[]],lM=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:vf,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(B(i4,12))},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({providers:[...o4,...s4],imports:[Ma,Tx]});let n=e;return n})(),uM=(()=>{let e=class e{constructor(r){this._doc=r,this._dom=cr()}addTag(r,i=!1){return r?this._getOrCreateElement(r,i):null}addTags(r,i=!1){return r?r.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,i)),s),[]):[]}getTag(r){return r&&this._doc.querySelector(`meta[${r}]`)||null}getTags(r){if(!r)return[];let i=this._doc.querySelectorAll(`meta[${r}]`);return i?[].slice.call(i):[]}updateTag(r,i){if(!r)return null;i=i||this._parseSelector(r);let s=this.getTag(i);return s?this._setMetaElementAttributes(r,s):this._getOrCreateElement(r,!0)}removeTag(r){this.removeTagElement(this.getTag(r))}removeTagElement(r){r&&this._dom.remove(r)}_getOrCreateElement(r,i=!1){if(!i){let a=this._parseSelector(r),c=this.getTags(a).filter(u=>this._containsAttributes(r,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(r,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(r,i){return Object.keys(r).forEach(s=>i.setAttribute(this._getMetaKeyMap(s),r[s])),i}_parseSelector(r){let i=r.name?"name":"property";return`${i}="${r[i]}"`}_containsAttributes(r,i){return Object.keys(r).every(s=>i.getAttribute(this._getMetaKeyMap(s))===r[s])}_getMetaKeyMap(r){return a4[r]||r}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),a4={httpEquiv:"http-equiv"},Cn=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Zs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=B(c4),s},providedIn:"root"});let n=e;return n})(),c4=(()=>{let e=class e extends Zs{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case _n.NONE:return i;case _n.HTML:return $i(i,"HTML")?Gn(i):cA(this._doc,String(i)).toString();case _n.STYLE:return $i(i,"Style")?Gn(i):i;case _n.SCRIPT:if($i(i,"Script"))return Gn(i);throw new ie(5200,!1);case _n.URL:return $i(i,"URL")?Gn(i):_f(String(i));case _n.RESOURCE_URL:if($i(i,"ResourceURL"))return Gn(i);throw new ie(5201,!1);default:throw new ie(5202,!1)}}bypassSecurityTrustHtml(r){return JS(r)}bypassSecurityTrustStyle(r){return XS(r)}bypassSecurityTrustScript(r){return eA(r)}bypassSecurityTrustUrl(r){return tA(r)}bypassSecurityTrustResourceUrl(r){return nA(r)}};e.\u0275fac=function(i){return new(i||e)(B(kt))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function d_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Xs=d_();function mM(n){Xs=n}var yM=/[&<>"']/,l4=new RegExp(yM.source,"g"),vM=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,u4=new RegExp(vM.source,"g"),d4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dM=n=>d4[n];function Fn(n,e){if(e){if(yM.test(n))return n.replace(l4,dM)}else if(vM.test(n))return n.replace(u4,dM);return n}var h4=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function f4(n){return n.replace(h4,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var p4=/(^|[^\[])\^/g;function ze(n,e){let t=typeof n=="string"?n:n.source;e=e||"";let r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(p4,"$1"),t=t.replace(i,o),r},getRegex:()=>new RegExp(t,e)};return r}function hM(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Wl={exec:()=>null};function fM(n,e){let t=n.replace(/\|/g,(s,o,a)=>{let c=!1,u=o;for(;--u>=0&&a[u]==="\\";)c=!c;return c?"|":" |"}),r=t.split(/ \|/),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Qf(n,e,t){let r=n.length;if(r===0)return"";let i=0;for(;i<r;){let s=n.charAt(r-i-1);if(s===e&&!t)i++;else if(s!==e&&t)i++;else break}return n.slice(0,r-i)}function g4(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function pM(n,e,t,r){let i=e.href,s=e.title?Fn(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;let a={type:"link",raw:t,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:i,title:s,text:Fn(o)}}function m4(n,e){let t=n.match(/^(\s+)(?:```)/);if(t===null)return e;let r=t[1];return e.split(`
`).map(i=>{let s=i.match(/^\s+/);if(s===null)return i;let[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}var ka=class{options;rules;lexer;constructor(e){this.options=e||Xs}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Qf(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],i=m4(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let i=Qf(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=Qf(r.replace(/^ *>[ \t]?/gm,""),`
`);let i=this.lexer.state.top;this.lexer.state.top=!0;let s=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",c="",u=!1;for(;e;){let d=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let f=t[2].split(`
`,1)[0].replace(/^\t+/,F=>" ".repeat(3*F.length)),g=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,c=f.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,c=f.slice(m),m+=t[1].length);let w=!1;if(!f&&/^ *$/.test(g)&&(a+=g+`
`,e=e.substring(g.length+1),d=!0),!d){let F=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),L=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),j=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),H=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){let ee=e.split(`
`,1)[0];if(g=ee,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),j.test(g)||H.test(g)||F.test(g)||L.test(e))break;if(g.search(/[^ ]/)>=m||!g.trim())c+=`
`+g.slice(m);else{if(w||f.search(/[^ ]/)>=4||j.test(f)||H.test(f)||L.test(f))break;c+=`
`+g}!w&&!g.trim()&&(w=!0),a+=ee+`
`,e=e.substring(ee.length+1),f=g.slice(m)}}s.loose||(u?s.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let D=null,C;this.options.gfm&&(D=/^\[[ xX]\] /.exec(c),D&&(C=D[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!D,checked:C,loose:!1,text:c,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=c.trimEnd(),s.raw=s.raw.trimEnd();for(let d=0;d<s.items.length;d++)if(this.lexer.state.top=!1,s.items[d].tokens=this.lexer.blockTokens(s.items[d].text,[]),!s.loose){let f=s.items[d].tokens.filter(m=>m.type==="space"),g=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));s.loose=g}if(s.loose)for(let d=0;d<s.items.length;d++)s.items[d].loose=!0;return s}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:s}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let r=fM(t[1]),i=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a of r)o.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of s)o.rows.push(fM(a,o.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Fn(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let o=Qf(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=g4(t[2],"()");if(o>-1){let c=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),pM(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," "),s=t[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return pM(r,s,r[0],this.lexer)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let o=[...i[0]].length-1,a,c,u=o,d=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+o);(i=f.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(c=[...a].length,i[3]||i[4]){u+=c;continue}else if((i[5]||i[6])&&o%3&&!((o+c)%3)){d+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+d);let g=[...i[0]][0].length,m=e.slice(0,o+i.index+g+c);if(Math.min(o,c)%2){let D=m.slice(1,-1);return{type:"em",raw:m,text:D,tokens:this.lexer.inlineTokens(D)}}let w=m.slice(2,-2);return{type:"strong",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=Fn(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=Fn(t[1]),i="mailto:"+r):(r=Fn(t[1]),i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=Fn(t[0]),i="mailto:"+r;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);r=Fn(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=Fn(t[0]),{type:"text",raw:t[0],text:r}}}},y4=/^(?: *(?:\n|$))+/,v4=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,w4=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ql=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,_4=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wM=/(?:[*+-]|\d{1,9}[.)])/,_M=ze(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,wM).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),h_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,E4=/^[^\n]+/,f_=/(?!\s*\])(?:\\.|[^\[\]\\])+/,I4=ze(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",f_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),b4=ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wM).getRegex(),Jf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",p_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,D4=ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",p_).replace("tag",Jf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),EM=ze(h_).replace("hr",Ql).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jf).getRegex(),C4=ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",EM).getRegex(),g_={blockquote:C4,code:v4,def:I4,fences:w4,heading:_4,hr:Ql,html:D4,lheading:_M,list:b4,newline:y4,paragraph:EM,table:Wl,text:E4},gM=ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ql).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jf).getRegex(),T4=te(M({},g_),{table:gM,paragraph:ze(h_).replace("hr",Ql).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gM).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jf).getRegex()}),S4=te(M({},g_),{html:ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",p_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ze(h_).replace("hr",Ql).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_M).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),IM=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,A4=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,bM=/^( {2,}|\\)\n(?!\s*$)/,x4=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yl="\\p{P}\\p{S}",M4=ze(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Yl).getRegex(),R4=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,k4=ze(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Yl).getRegex(),N4=ze("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Yl).getRegex(),P4=ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Yl).getRegex(),O4=ze(/\\([punct])/,"gu").replace(/punct/g,Yl).getRegex(),F4=ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),V4=ze(p_).replace("(?:-->|$)","-->").getRegex(),L4=ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",V4).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zf=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,j4=ze(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Zf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),DM=ze(/^!?\[(label)\]\[(ref)\]/).replace("label",Zf).replace("ref",f_).getRegex(),CM=ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",f_).getRegex(),U4=ze("reflink|nolink(?!\\()","g").replace("reflink",DM).replace("nolink",CM).getRegex(),m_={_backpedal:Wl,anyPunctuation:O4,autolink:F4,blockSkip:R4,br:bM,code:A4,del:Wl,emStrongLDelim:k4,emStrongRDelimAst:N4,emStrongRDelimUnd:P4,escape:IM,link:j4,nolink:CM,punctuation:M4,reflink:DM,reflinkSearch:U4,tag:L4,text:x4,url:Wl},B4=te(M({},m_),{link:ze(/^!?\[(label)\]\((.*?)\)/).replace("label",Zf).getRegex(),reflink:ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zf).getRegex()}),l_=te(M({},m_),{escape:ze(IM).replace("])","~|])").getRegex(),url:ze(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),$4=te(M({},l_),{br:ze(bM).replace("{2,}","*").getRegex(),text:ze(l_.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Yf={normal:g_,gfm:T4,pedantic:S4},Gl={normal:m_,gfm:l_,breaks:$4,pedantic:B4},ii=class n{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Xs,this.options.tokenizer=this.options.tokenizer||new ka,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:Yf.normal,inline:Gl.normal};this.options.pedantic?(t.block=Yf.pedantic,t.inline=Gl.pedantic):this.options.gfm&&(t.block=Yf.gfm,this.options.breaks?t.inline=Gl.breaks:t.inline=Gl.gfm),this.tokenizer.rules=t}static get rules(){return{block:Yf,inline:Gl}}static lex(e,t){return new n(t).lex(e)}static lexInline(e,t){return new n(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,c,u)=>c+"    ".repeat(u.length));let r,i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,c=e.slice(1),u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},c),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){i=t[t.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),o=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,i,s,o=e,a,c,u;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=t[t.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0,f=e.slice(1),g;this.options.extensions.startInline.forEach(m=>{g=m.call({lexer:this},f),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(s=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),c=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):t.push(r);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return t}},it=class{options;constructor(e){this.options=e||Xs}code(e,t,r){let i=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Fn(i)+'">'+(r?e:Fn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Fn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){let i=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){let i=hM(e);if(i===null)return r;e=i;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image(e,t,r){let i=hM(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}},Kl=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}},si=class n{options;renderer;textRenderer;constructor(e){this.options=e||Xs,this.options.renderer=this.options.renderer||new it,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Kl}static parse(e,t){return new n(t).parse(e)}static parseInline(e,t){return new n(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{let o=s;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,f4(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{let o=s;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{let o=s,a="",c="";for(let d=0;d<o.header.length;d++)c+=this.renderer.tablecell(this.parseInline(o.header[d].tokens),{header:!0,align:o.align[d]});a+=this.renderer.tablerow(c);let u="";for(let d=0;d<o.rows.length;d++){let f=o.rows[d];c="";for(let g=0;g<f.length;g++)c+=this.renderer.tablecell(this.parseInline(f[g].tokens),{header:!1,align:o.align[g]});u+=this.renderer.tablerow(c)}r+=this.renderer.table(a,u);continue}case"blockquote":{let o=s,a=this.parse(o.tokens);r+=this.renderer.blockquote(a);continue}case"list":{let o=s,a=o.ordered,c=o.start,u=o.loose,d="";for(let f=0;f<o.items.length;f++){let g=o.items[f],m=g.checked,w=g.task,D="";if(g.task){let C=this.renderer.checkbox(!!m);u?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=C+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=C+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:C+" "}):D+=C+" "}D+=this.parse(g.tokens,u),d+=this.renderer.listitem(D,w,!!m)}r+=this.renderer.list(d,a,c);continue}case"html":{let o=s;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{let o=s;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=t?this.renderer.paragraph(a):a;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}switch(s.type){case"escape":{let o=s;r+=t.text(o.text);break}case"html":{let o=s;r+=t.html(o.text);break}case"link":{let o=s;r+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{let o=s;r+=t.image(o.href,o.title,o.text);break}case"strong":{let o=s;r+=t.strong(this.parseInline(o.tokens,t));break}case"em":{let o=s;r+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{let o=s;r+=t.codespan(o.text);break}case"br":{r+=t.br();break}case"del":{let o=s;r+=t.del(this.parseInline(o.tokens,t));break}case"text":{let o=s;r+=t.text(o.text);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}},Ra=class{options;constructor(e){this.options=e||Xs}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},u_=class{defaults=d_();options=this.setOptions;parse=this.#s(ii.lex,si.parse);parseInline=this.#s(ii.lexInline,si.parseInline);Parser=si;Renderer=it;TextRenderer=Kl;Lexer=ii;Tokenizer=ka;Hooks=Ra;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{let s=i;for(let o of s.header)r=r.concat(this.walkTokens(o.tokens,t));for(let o of s.rows)for(let a of o)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,t));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);r=r.concat(this.walkTokens(a,t))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i=M({},r);if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let c=s.renderer.apply(this,a);return c===!1&&(c=o.apply(this,a)),c}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),i.extensions=t),r.renderer){let s=this.defaults.renderer||new it(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;let a=o,c=r.renderer[a],u=s[a];s[a]=(...d)=>{let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new ka(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,c=r.tokenizer[a],u=s[a];s[a]=(...d)=>{let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Ra;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;let a=o,c=r.hooks[a],u=s[a];Ra.passThroughHooks.has(o)?s[a]=d=>{if(this.defaults.async)return Promise.resolve(c.call(s,d)).then(g=>u.call(s,g));let f=c.call(s,d);return u.call(s,f)}:s[a]=(...d)=>{let f=c.apply(s,d);return f===!1&&(f=u.apply(s,d)),f}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let c=[];return c.push(o.call(this,a)),s&&(c=c.concat(s.call(this,a))),c}}this.defaults=M(M({},this.defaults),i)}),this}setOptions(e){return this.defaults=M(M({},this.defaults),e),this}lexer(e,t){return ii.lex(e,t??this.defaults)}parser(e,t){return si.parse(e,t??this.defaults)}#s(e,t){return(r,i)=>{let s=M({},i),o=M(M({},this.defaults),s);this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);let a=this.#l(!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>t(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let c=e(r,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=t(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return a(c)}}}#l(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Fn(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}},Js=new u_;function xe(n,e){return Js.parse(n,e)}xe.options=xe.setOptions=function(n){return Js.setOptions(n),xe.defaults=Js.defaults,mM(xe.defaults),xe};xe.getDefaults=d_;xe.defaults=Xs;xe.use=function(...n){return Js.use(...n),xe.defaults=Js.defaults,mM(xe.defaults),xe};xe.walkTokens=function(n,e){return Js.walkTokens(n,e)};xe.parseInline=Js.parseInline;xe.Parser=si;xe.parser=si.parse;xe.Renderer=it;xe.TextRenderer=Kl;xe.Lexer=ii;xe.lexer=ii.lex;xe.Tokenizer=ka;xe.Hooks=Ra;xe.parse=xe;var PJ=xe.options,OJ=xe.setOptions,FJ=xe.use,VJ=xe.walkTokens,LJ=xe.parseInline;var jJ=si.parse,UJ=ii.lex;var z4=["*"],q4="Copy",H4="Copied",G4=(()=>{let e=class e{constructor(){this._buttonClick$=new Ue,this.copied$=this._buttonClick$.pipe(Ye(()=>pl(ae(!0),py(3e3).pipe(gl(!1)))),ml(),Ko(1)),this.copiedText$=this.copied$.pipe(Wr(!1),oe(r=>r?H4:q4))}onCopyToClipboardClick(){this._buttonClick$.next()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Ol],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,s){i&1&&(R(0,"button",0),Ut(1,"async"),Me("click",function(){return s.onCopyToClipboardClick()}),U(2),Ut(3,"async"),P()),i&2&&(wa("copied",On(1,3,s.copied$)),V(2),Ve(On(3,5,s.copiedText$)))},dependencies:[$x],encapsulation:2,changeDetection:0});let n=e;return n})(),W4=new W("CLIPBOARD_OPTIONS");var y_=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(y_||{}),SM=new W("MARKED_EXTENSIONS"),v_=new W("MARKED_OPTIONS"),K4="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",Q4="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",Y4="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",Z4="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",J4="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",X4="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",AM=new W("SECURITY_CONTEXT");var Zt=(()=>{let e=class e{get options(){return this._options}set options(r){this._options=M(M({},this.DEFAULT_MARKED_OPTIONS),r)}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,i,s,o,a,c,u){this.clipboardOptions=r,this.extensions=i,this.platform=o,this.securityContext=a,this.http=c,this.sanitizer=u,this.DEFAULT_MARKED_OPTIONS={renderer:new it},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Ue,this.reload$=this._reload$.asObservable(),this.options=s}parse(r,i=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:s,inline:o,emoji:a,mermaid:c,disableSanitizer:u}=i,d=M(M({},this.options),i.markedOptions),f=d.renderer||this.renderer||new it;this.extensions&&(this.renderer=this.extendsRendererForExtensions(f)),c&&(this.renderer=this.extendsRendererForMermaid(f));let g=this.trimIndentation(r),m=s?this.decodeHtml(g):g,w=a?this.parseEmoji(m):m,D=this.parseMarked(w,d,o);return(u?D:this.sanitizer.sanitize(this.securityContext,D))||""}render(r,i=this.DEFAULT_RENDER_OPTIONS,s){let{clipboard:o,clipboardOptions:a,katex:c,katexOptions:u,mermaid:d,mermaidOptions:f}=i;c&&this.renderKatex(r,M(M({},this.DEFAULT_KATEX_OPTIONS),u)),d&&this.renderMermaid(r,M(M({},this.DEFAULT_MERMAID_OPTIONS),f)),o&&this.renderClipboard(r,s,M(M(M({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),a)),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error(X4);return this.http.get(r,{responseType:"text"}).pipe(oe(i=>this.handleExtension(r,i)))}highlight(r){if(!Wi(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);let i=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,s=>s.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!Wi(this.platform))return r;let i=document.createElement("textarea");return i.innerHTML=r,i.value}extendsRendererForExtensions(r){let i=r;return i.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&xe.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){let i=r;if(i.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return r;let s=r.code;return r.code=function(o,a,c){return a==="mermaid"?`<div class="mermaid">${o}</div>`:s.call(this,o,a,c)},i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,i){let s=r.lastIndexOf("://"),o=s>-1?r.substring(s+4):r,a=o.lastIndexOf("/"),c=a>-1?o.substring(a+1).split("?")[0]:"",u=c.lastIndexOf("."),d=u>-1?c.substring(u+1):"";return d&&d!=="md"?"```"+d+`
`+i+"\n```":i}parseMarked(r,i,s=!1){if(i.renderer){let o=M({},i.renderer);delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete i.renderer,xe.use({renderer:o})}return s?xe.parseInline(r,i):xe.parse(r,i)}parseEmoji(r){if(!Wi(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(K4);return joypixels.shortnameToUnicode(r)}renderKatex(r,i){if(Wi(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(Q4);renderMathInElement(r,i)}}renderClipboard(r,i,s){if(!Wi(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(Z4);if(!i)throw new Error(J4);let{buttonComponent:o,buttonTemplate:a}=s,c=r.querySelectorAll("pre");for(let u=0;u<c.length;u++){let d=c.item(u),f=document.createElement("div");f.style.position="relative",d.parentNode.insertBefore(f,d),f.appendChild(d);let g=document.createElement("div");g.classList.add("markdown-clipboard-toolbar"),g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.zIndex="1",f.insertAdjacentElement("beforeend",g),f.onmouseenter=()=>g.classList.add("hover"),f.onmouseleave=()=>g.classList.remove("hover");let m;if(o){let D=i.createComponent(o);m=D.hostView,D.changeDetectorRef.markForCheck()}else if(a)m=i.createEmbeddedView(a);else{let D=i.createComponent(G4);m=D.hostView,D.changeDetectorRef.markForCheck()}let w;m.rootNodes.forEach(D=>{g.appendChild(D),w=new ClipboardJS(D,{text:()=>d.innerText})}),m.onDestroy(()=>w.destroy())}}renderMermaid(r,i=this.DEFAULT_MERMAID_OPTIONS){if(!Wi(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(Y4);let s=r.querySelectorAll(".mermaid");s.length!==0&&(mermaid.initialize(i),mermaid.run({nodes:s}))}trimIndentation(r){if(!r)return"";let i;return r.split(`
`).map(s=>{let o=i;return s.length>0&&(o=isNaN(o)?s.search(/\S|$/):Math.min(s.search(/\S|$/),o)),isNaN(i)&&(i=o),o?s.substring(o):s}).join(`
`)}};e.\u0275fac=function(i){return new(i||e)(B(W4,8),B(SM,8),B(v_,8),B(jt),B(AM),B(ri,8),B(Zs))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})(),Kn=(()=>{let e=class e{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,i,s){this.element=r,this.markdownService=i,this.viewContainerRef=s,this.error=new et,this.load=new et,this.ready=new et,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Ue}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(vl(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r,i=!1){return b(this,null,function*(){let s={decodeHtml:i,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},o={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=yield this.markdownService.parse(r,s);this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(r){return r!=null&&`${String(r)}`!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,y_.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,y_.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,i){let s=r.querySelectorAll("pre");for(let o=0;o<s.length;o++){let a=i instanceof Array?i:[i];s.item(o).classList.add(...a)}}setPluginOptions(r,i){let s=r.querySelectorAll("pre");for(let o=0;o<s.length;o++)Object.keys(i).forEach(a=>{let c=i[a];if(c){let u=this.toLispCase(a);s.item(o).setAttribute(u,c.toString())}})}toLispCase(r){let i=r.match(/([A-Z])/g);if(!i)return r;let s=r.toString();for(let o=0,a=i.length;o<a;o++)s=s.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return s.slice(0,1)==="-"&&(s=s.slice(1)),s}};e.\u0275fac=function(i){return new(i||e)(z(It),z(Zt),z(In))},e.\u0275cmp=Ae({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[Li,Ol],ngContentSelectors:z4,decls:1,vars:0,template:function(i,s){i&1&&(fx(),px(0))},encapsulation:2});let n=e;return n})();function e3(n){return[Zt,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],{provide:SM,useValue:n?.markedExtensions??[]},{provide:AM,useValue:n?.sanitize??_n.HTML}]}var xM=(()=>{let e=class e{static forRoot(r){return{ngModule:e,providers:[e3(r)]}}static forChild(){return{ngModule:e}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({imports:[Ma]});let n=e;return n})(),TM;(function(n){let e;(function(i){i.Strict="strict",i.Loose="loose",i.Antiscript="antiscript",i.Sandbox="sandbox"})(e=n.SecurityLevel||(n.SecurityLevel={}));let t;(function(i){i.Base="base",i.Forest="forest",i.Dark="dark",i.Default="default",i.Neutral="neutral"})(t=n.Theme||(n.Theme={}));let r;(function(i){i[i.Debug=1]="Debug",i[i.Info=2]="Info",i[i.Warn=3]="Warn",i[i.Error=4]="Error",i[i.Fatal=5]="Fatal"})(r=n.LogLevel||(n.LogLevel={}))})(TM||(TM={}));var LM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(z(En),z(It))},e.\u0275dir=_t({type:e});let n=e;return n})(),__=(()=>{let e=class e extends LM{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ks(e)))(s||e)}})(),e.\u0275dir=_t({type:e,features:[ut]});let n=e;return n})(),op=new W("");var n3={provide:op,useExisting:Vi(()=>Va),multi:!0};function r3(){let n=cr()?cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var i3=new W(""),Va=(()=>{let e=class e extends LM{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!r3())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(z(En),z(It),z(i3,8))},e.\u0275dir=_t({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Me("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ba([n3]),ut]});let n=e;return n})();var jM=new W(""),UM=new W("");function BM(n){return n!=null}function $M(n){return Hi(n)?Se(n):n}function zM(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function qM(n,e){return e.map(t=>t(n))}function s3(n){return!n.validate}function HM(n){return n.map(e=>s3(e)?e:t=>e.validate(t))}function o3(n){if(!n)return null;let e=n.filter(BM);return e.length==0?null:function(t){return zM(qM(t,e))}}function E_(n){return n!=null?o3(HM(n)):null}function a3(n){if(!n)return null;let e=n.filter(BM);return e.length==0?null:function(t){let r=qM(t,e).map($M);return fy(r).pipe(oe(zM))}}function I_(n){return n!=null?a3(HM(n)):null}function MM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c3(n){return n._rawValidators}function l3(n){return n._rawAsyncValidators}function w_(n){return n?Array.isArray(n)?n:[n]:[]}function ep(n,e){return Array.isArray(n)?n.includes(e):n===e}function RM(n,e){let t=w_(e);return w_(n).forEach(i=>{ep(t,i)||t.push(i)}),t}function kM(n,e){return w_(e).filter(t=>!ep(n,t))}var tp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=E_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Oa=class extends tp{get formDirective(){return null}get path(){return null}},nu=class extends tp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},np=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},u3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_X=te(M({},u3),{"[class.ng-submitted]":"isSubmitted"}),ap=(()=>{let e=class e extends np{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(nu,2))},e.\u0275dir=_t({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&wa("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[ut]});let n=e;return n})(),GM=(()=>{let e=class e extends np{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(Oa,10))},e.\u0275dir=_t({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&wa("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[ut]});let n=e;return n})();var Zl="VALID",Xf="INVALID",Na="PENDING",Jl="DISABLED",Fa=class{},rp=class extends Fa{constructor(e,t){super(),this.value=e,this.source=t}},eu=class extends Fa{constructor(e,t){super(),this.pristine=e,this.source=t}},tu=class extends Fa{constructor(e,t){super(),this.touched=e,this.source=t}},Pa=class extends Fa{constructor(e,t){super(),this.status=e,this.source=t}};function WM(n){return(cp(n)?n.validators:n)||null}function d3(n){return Array.isArray(n)?E_(n):n||null}function KM(n,e){return(cp(e)?e.asyncValidators:n)||null}function h3(n){return Array.isArray(n)?I_(n):n||null}function cp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function f3(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ie(1e3,"");if(!r[t])throw new ie(1001,"")}function p3(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ie(1002,"")})}var ip=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vl(()=>this.statusReactive()),this.statusReactive=Nl(void 0),this._pristine=Vl(()=>this.pristineReactive()),this.pristineReactive=Nl(!0),this._touched=Vl(()=>this.touchedReactive()),this.touchedReactive=Nl(!1),this._events=new Ue,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ar(this.statusReactive)}set status(e){ar(()=>this.statusReactive.set(e))}get valid(){return this.status===Zl}get invalid(){return this.status===Xf}get pending(){return this.status==Na}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}get pristine(){return ar(this.pristineReactive)}set pristine(e){ar(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ar(this.touchedReactive)}set touched(e){ar(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kM(e,this._rawAsyncValidators))}hasValidator(e){return ep(this._rawValidators,e)}hasAsyncValidator(e){return ep(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new tu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAsPending(e={}){this.status=Na;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(i=>{i.disable(te(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,r)),this._events.next(new Pa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this._forEachChild(r=>{r.enable(te(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zl||this.status===Na)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rp(this.value,t)),this._events.next(new Pa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Na,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=$M(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?Xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Na)?Na:this._anyControlsHaveStatus(Xf)?Xf:Zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new eu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new tu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=d3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=h3(this._rawAsyncValidators)}},sp=class extends ip{constructor(e,t,r){super(WM(t),KM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){p3(this,!0,e),Object.keys(e).forEach(r=>{f3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var b_=new W("CallSetDisabledState",{providedIn:"root",factory:()=>D_}),D_="always";function g3(n,e){return[...e.path,n]}function QM(n,e,t=D_){YM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),y3(n,e),w3(n,e),v3(n,e),m3(n,e)}function NM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function YM(n,e){let t=c3(n);e.validator!==null?n.setValidators(MM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=l3(n);e.asyncValidator!==null?n.setAsyncValidators(MM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();NM(e._rawValidators,i),NM(e._rawAsyncValidators,i)}function y3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZM(n,e)})}function v3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ZM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function w3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _3(n,e){n==null,YM(n,e)}function E3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function I3(n){return Object.getPrototypeOf(n.constructor)===__}function b3(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function D3(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Va?t=s:I3(s)?r=s:i=s}),i||r||t||null}var C3={provide:Oa,useExisting:Vi(()=>C_)},Xl=Promise.resolve(),C_=(()=>{let e=class e extends Oa{get submitted(){return ar(this.submittedReactive)}constructor(r,i,s){super(),this.callSetDisabledState=s,this._submitted=Vl(()=>this.submittedReactive()),this.submittedReactive=Nl(!1),this._directives=new Set,this.ngSubmit=new et,this.form=new sp({},E_(r),I_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Xl.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),QM(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Xl.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Xl.then(()=>{let i=this._findContainer(r.path),s=new sp({});_3(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Xl.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Xl.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),b3(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(z(jM,10),z(UM,10),z(b_,8))},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&Me("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ba([C3]),ut]});let n=e;return n})();function PM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function OM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var T3=class extends ip{constructor(e=null,t,r){super(WM(t),KM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(OM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){OM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var S3={provide:nu,useExisting:Vi(()=>ru)},FM=Promise.resolve(),ru=(()=>{let e=class e extends nu{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new T3,this._registered=!1,this.name="",this.update=new et,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=D3(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),E3(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){QM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){FM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Uf(i);FM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?g3(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(z(Oa,9),z(jM,10),z(UM,10),z(op,10),z(Tr,8),z(b_,8))},e.\u0275dir=_t({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ba([S3]),ut,Li]});let n=e;return n})(),JM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=_t({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var A3={provide:op,useExisting:Vi(()=>lp),multi:!0};function XM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function x3(n){return n.split(":")[0]}var lp=(()=>{let e=class e extends __{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=XM(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=x3(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ks(e)))(s||e)}})(),e.\u0275dir=_t({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&Me("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ba([A3]),ut]});let n=e;return n})(),eR=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(XM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(z(It),z(En),z(lp,9))},e.\u0275dir=_t({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})(),M3={provide:op,useExisting:Vi(()=>tR),multi:!0};function VM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function R3(n){return n.split(":")[0]}var tR=(()=>{let e=class e extends __{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=R3(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ks(e)))(s||e)}})(),e.\u0275dir=_t({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&Me("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[ba([M3]),ut]});let n=e;return n})(),nR=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(VM(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(VM(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(z(It),z(En),z(tR,9))},e.\u0275dir=_t({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let n=e;return n})();var k3=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({});let n=e;return n})();var rR=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:b_,useValue:r.callSetDisabledState??D_}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({imports:[k3]});let n=e;return n})();var he={production:!0,host:"https://publichome.page",port:"8888",eventBusURL:"https://publichome.page:8888/eventbus/",defaultFirm:"SS",redirect_url:"https://publichome.page/u",client_id:"8c987bdba61457c20417",client_secret:"DONT_SEND_FROM_FRONT_END",gh_default_user_repo:"publichomepage",gh_dr_folder:"my/main",gh_dr_url:"https://raw.githubusercontent.com",gh_api_url:"https://api.github.com",gh_auth_url:"https://github.com/login/oauth/authorize",gh_private_dr_folder:"my",supabaseUrl:"https://hnqbvkzmfdcshdgnhipy.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhucWJ2a3ptZmRjc2hkZ25oaXB5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkyMjAwOTAsImV4cCI6MjA0NDc5NjA5MH0.3PlLXR6ljTwIWsrMO8QT2fvy0VIGKsXLfahjSgBIN7U",pineconeConfig:{apiKey:"pcsk_3Akhgu_3pS3hHzA7fBJmnHNVg9e7grZFj8pjvPtiQ9uCVA2n2UURFEmrZjXy1fi4XQSwEP",index:"example-index"},openApiKey:"ABCD",firebaseConfig:{apiKey:"AIzaSyBdEWJQNGtrtL88aX5sE2VGEqYpWLXtpFQ",authDomain:"publichomepage-b872d.firebaseapp.com",projectId:"publichomepage-b872d",storageBucket:"publichomepage-b872d.appspot.com",messagingSenderId:"850538578524",appId:"1:850538578524:web:56c70f38ac285bffd5dc99",measurementId:"G-TRBD0HQFWM"}};var Jt=(()=>{let e=class e{constructor(){this._event=new Ue,this.event$=this._event.asObservable()}send(r){this._event.next(r)}observable(){return this.event$}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function N3(n,e){n&1&&ce(0,"app-footer")}var qe=class qe{constructor(e){this.messaging=e,this.sponserVisible=!0,this.footerVisible=!0,localStorage.setItem("debug","true"),qe.iconsColorByKey.set("facebook","#3b5998"),qe.iconsColorByKey.set("youtube","#ed302f"),qe.iconsColorByKey.set("discord","#7289DA"),qe.iconsColorByKey.set("linkedin","#0082ca"),qe.iconsColorByKey.set("github","#bcbcbc"),qe.iconsColorByKey.set("link","green"),this.messaging.event$.subscribe(t=>{let r=t;switch(r.cmd){case"host":r.file=="IaComponent"&&(this.sponserVisible=!1,this.footerVisible=!1);break;case"UserContext":break;default:break}})}loadScript(e){let t=document.body,r=document.createElement("script");r.innerHTML="",r.src=e,r.async=!1,t.appendChild(r)}};qe.title="Public Homepage",qe.ghUserLoaded=he.gh_default_user_repo,qe.readme_home=`${he.gh_dr_url}/${he.gh_default_user_repo}/${he.gh_dr_folder}/README.md`,qe.user_contacts=`${he.gh_dr_url}/${he.gh_default_user_repo}/${he.gh_dr_folder}/contacts.md`,qe.fab_questions_list2=`${he.gh_dr_url}/${he.gh_default_user_repo}/${he.gh_dr_folder}/questions/ds-list2.md`,qe.YOUR_READ_ME="",qe.ghUser={name:qe.title,blog:"/"},qe.userContext={username:"",status:"0",directory:{},youtube_links:new Set,leetcode_links:new Set,assessment:{}},qe.INTERNAL_FOLDERS=["my","roadmap","questions","articles","faqs","coding","credits","README.md","contacts.md","assessments"],qe.homeUser={name:qe.title,blog:"/"},qe.navLinks=[{link:"#about",text:"About"}],qe.iconsColorByKey=new Map,qe.contactLinksByKey=new Map,qe.contactTextsByKey=new Map,qe.\u0275fac=function(t){return new(t||qe)(z(Jt))},qe.\u0275cmp=Ae({type:qe,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,r){t&1&&(ce(0,"app-navbar")(1,"router-outlet"),Ie(2,N3,1,0,"app-footer",0)),t&2&&(V(2),X("ngIf",r.footerVisible))}});var ne=qe;function P3(n,e){n&1&&(R(0,"a",11)(1,"i",12),U(2,"\xA0Chat"),P()())}function O3(n,e){if(n&1&&(R(0,"li",13)(1,"a",14),U(2),P()()),n&2){let t=e.$implicit;V(),X("href",t.link,ht),V(),Ve(t.text)}}var iR=(()=>{let e=class e{constructor(r,i){this.cdRef=r,this.messaging=i,this.navUser=ne.homeUser,this.photoUrl="",this.navLinks=ne.navLinks,this.contactsFileFound=!1,this.userLoaded=ne.ghUserLoaded,this.isHomeGHUser=!0,i.event$.subscribe(s=>{let o=s;switch(this.userLoaded=ne.ghUserLoaded,this.isHomeGHUser=this.userLoaded==he.gh_default_user_repo,o.cmd){case"UserDirectory":this.isHomeGHUser?this.navLinks.push({link:"#projects",text:"Solutions"}):this.navLinks.forEach(c=>{let u=ne.navLinks.indexOf(c);ne.navLinks[u].link=ne.ghUser.blog}),this.navUser=ne.ghUser,ne.userContext.directory.folders.forEach(c=>{let u=c.charAt(0).toUpperCase()+c.slice(1),d=c.toLowerCase();d.endsWith("contacts")||this.navLinks.push({link:this.getNavLink(d),text:u})}),this.addAContactLink();break;case"PageFile":switch(o.file){case"HomeGHUser":break;default:break}break;default:break}})}getNavLink(r){return this.isHomeGHUser?"/"+r:`/${ne.userContext.username}/${r}`}addAContactLink(){let r=ne.userContext.directory;r.files&&r.files.includes("contacts.md")?this.navLinks.push({link:this.getNavLink("contacts"),text:"Contacts"}):this.navLinks.push({link:"#about",text:"Contact"})}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)(z(Tr),z(Jt))},e.\u0275cmp=Ae({type:e,selectors:[["app-navbar"]],decls:15,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","sticky-top"],[1,"container"],["href","/"],[1,"fa-solid","fa-link",2,"color","green"],[1,"navbar-brand",3,"href"],["href","/chat",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"nav","navbar-nav","ml-auto"],["class","nav-item",4,"ngFor","ngForOf"],["href","/chat"],[1,"fa-solid","fa-bolt","lightning-text"],[1,"nav-item"],[1,"nav-link","js-scroll-trigger",3,"href"]],template:function(i,s){i&1&&(R(0,"nav",0)(1,"div",1)(2,"span")(3,"a",2),ce(4,"i",3),P(),R(5,"a",4)(6,"b"),U(7),P(),Ie(8,P3,3,0,"a",5),P()(),R(9,"button",6),ce(10,"span",7),P(),R(11,"div",8)(12,"ul",9),Ie(13,O3,3,2,"li",10),Ut(14,"slice"),P()()()()),i&2&&(V(5),X("href",s.userLoaded,ht),V(2),ft("\xA0",s.navUser.name,""),V(),X("ngIf",s.isHomeGHUser),V(5),X("ngForOf",Da(14,4,s.navLinks,0,7)))},dependencies:[Qt,Yt,xa],styles:["@keyframes _ngcontent-%COMP%_blink{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}to{opacity:1;transform:scale(1)}}.lightning-text[_ngcontent-%COMP%]{font-size:.5em;color:#ff4500;text-transform:lowercase;margin-left:5px;animation:_ngcontent-%COMP%_blink 2s infinite}"]});let n=e;return n})();var ve="primary",vu=Symbol("RouteTitle"),R_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function za(n){return new R_(n)}function F3(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function V3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ar(n[t],e[t]))return!1;return!0}function Ar(n,e){let t=n?k_(n):void 0,r=e?k_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gR(n[i],e[i]))return!1;return!0}function k_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function mR(n){return n.length>0?n[n.length-1]:null}function es(n){return hy(n)?n:Hi(n)?Se(Promise.resolve(n)):ae(n)}var L3={exact:vR,subset:wR},yR={exact:j3,subset:U3,ignored:()=>!0};function sR(n,e,t){return L3[t.paths](n.root,e.root,t.matrixParams)&&yR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function j3(n,e){return Ar(n,e)}function vR(n,e,t){if(!no(n.segments,e.segments)||!hp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!vR(n.children[r],e.children[r],t))return!1;return!0}function U3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gR(n[t],e[t]))}function wR(n,e,t){return _R(n,e,e.segments,t)}function _R(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!no(i,t)||e.hasChildren()||!hp(i,t,r))}else if(n.segments.length===t.length){if(!no(n.segments,t)||!hp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!wR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!no(n.segments,i)||!hp(n.segments,i,r)||!n.children[ve]?!1:_R(n.children[ve],e,s,r)}}function hp(n,e,t){return e.every((r,i)=>yR[t](n[i].parameters,r.parameters))}var ai=class{constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=za(this.queryParams),this._queryParamMap}toString(){return z3.serialize(this)}},je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fp(this)}},to=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=za(this.parameters),this._parameterMap}toString(){return IR(this)}};function B3(n,e){return no(n,e)&&n.every((t,r)=>Ar(t.parameters,e[r].parameters))}function no(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var wu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>new qa,providedIn:"root"});let n=e;return n})(),qa=class{parse(e){let t=new P_(e);return new ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${iu(e.root,!0)}`,r=G3(e.queryParams),i=typeof e.fragment=="string"?`#${q3(e.fragment)}`:"";return`${t}${r}${i}`}},z3=new qa;function fp(n){return n.segments.map(e=>IR(e)).join("/")}function iu(n,e){if(!n.hasChildren())return fp(n);if(e){let t=n.children[ve]?iu(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==ve&&r.push(`${i}:${iu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$3(n,(r,i)=>i===ve?[iu(n.children[ve],!1)]:[`${i}:${iu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${fp(n)}/${t[0]}`:`${fp(n)}/(${t.join("//")})`}}function ER(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function up(n){return ER(n).replace(/%3B/gi,";")}function q3(n){return encodeURI(n)}function N_(n){return ER(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pp(n){return decodeURIComponent(n)}function oR(n){return pp(n.replace(/\+/g,"%20"))}function IR(n){return`${N_(n.path)}${H3(n.parameters)}`}function H3(n){return Object.entries(n).map(([e,t])=>`;${N_(e)}=${N_(t)}`).join("")}function G3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${up(t)}=${up(i)}`).join("&"):`${up(t)}=${up(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var W3=/^[^\/()?;#]+/;function S_(n){let e=n.match(W3);return e?e[0]:""}var K3=/^[^\/()?;=#]+/;function Q3(n){let e=n.match(K3);return e?e[0]:""}var Y3=/^[^=?&#]+/;function Z3(n){let e=n.match(Y3);return e?e[0]:""}var J3=/^[^&#]+/;function X3(n){let e=n.match(J3);return e?e[0]:""}var P_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new je(e,t)),r}parseSegment(){let e=S_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(e),new to(pp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Q3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=S_(this.remaining);i&&(r=i,this.capture(r))}e[pp(t)]=pp(r)}parseQueryParam(e){let t=Z3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=X3(this.remaining);o&&(r=o,this.capture(r))}let i=oR(t),s=oR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=S_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ie(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ve]:new je([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ie(4011,!1)}};function bR(n){return n.segments.length>0?new je([],{[ve]:n}):n}function DR(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=DR(i);if(r===ve&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new je(n.segments,e);return ez(t)}function ez(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new je(n.segments.concat(e.segments),e.children)}return n}function uu(n){return n instanceof ai}function tz(n,e,t=null,r=null){let i=CR(n);return TR(i,e,t,r)}function CR(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new je(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=bR(r);return e??i}function TR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return A_(i,i,i,t,r);let s=nz(e);if(s.toRoot())return A_(i,i,new je([],{}),t,r);let o=rz(s,i,n),a=o.processChildren?au(o.segmentGroup,o.index,s.commands):AR(o.segmentGroup,o.index,s.commands);return A_(i,o.segmentGroup,a,t,r)}function gp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function du(n){return typeof n=="object"&&n!=null&&n.outlets}function A_(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=SR(n,e,t);let a=bR(DR(o));return new ai(a,s,i)}function SR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=SR(s,e,t)}),new je(n.segments,r)}var mp=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gp(r[0]))throw new ie(4003,!1);let i=r.find(du);if(i&&i!==mR(r))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nz(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new mp(t,e,r)}var Ua=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function rz(n,e,t){if(n.isAbsolute)return new Ua(e,!0,0);if(!t)return new Ua(e,!1,NaN);if(t.parent===null)return new Ua(t,!0,0);let r=gp(n.commands[0])?0:1,i=t.segments.length-1+r;return iz(t,i,n.numberOfDoubleDots)}function iz(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ie(4005,!1);i=r.segments.length}return new Ua(r,!1,i-s)}function sz(n){return du(n[0])?n[0].outlets:{[ve]:n}}function AR(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return au(n,e,t);let r=oz(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new je(n.segments.slice(0,r.pathIndex),{});return s.children[ve]=new je(n.segments.slice(r.pathIndex),n.children),au(s,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?O_(n,e,t):r.match?au(n,0,i):O_(n,e,t)}function au(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=sz(t),i={};if(Object.keys(r).some(s=>s!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let s=au(n.children[ve],e,t);return new je(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=AR(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new je(n.segments,i)}}function oz(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(du(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cR(c,u,o))return s;r+=2}else{if(!cR(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function O_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(du(s)){let c=az(s.outlets);return new je(r,c)}if(i===0&&gp(t[0])){let c=n.segments[e];r.push(new to(c.path,aR(t[0]))),i++;continue}let o=du(s)?s.outlets[ve]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&gp(a)?(r.push(new to(o,aR(a))),i+=2):(r.push(new to(o,{})),i++)}return new je(r,{})}function az(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=O_(new je([],{}),0,r))}),e}function aR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function cR(n,e,t){return n==t.path&&Ar(e,t.parameters)}var cu="imperative",Ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ot||{}),Qn=class{constructor(e,t){this.id=e,this.url=t}},Ha=class extends Qn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ci=class extends Qn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ln=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ln||{}),yp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yp||{}),oi=class extends Qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xi=class extends Qn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ot.NavigationSkipped}},hu=class extends Qn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vp=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},F_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},V_=class extends Qn{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},L_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},j_=class extends Qn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},B_=class{constructor(e){this.route=e,this.type=Ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$_=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},z_=class{constructor(e){this.snapshot=e,this.type=Ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},q_=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},H_=class{constructor(e){this.snapshot=e,this.type=Ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},fu=class{},Ga=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function cz(n,e){return n.providers&&!n._injector&&(n._injector=Sf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ur(n){return n.outlet||ve}function lz(n,e){let t=n.filter(r=>ur(r)===e);return t.push(...n.filter(r=>ur(r)!==e)),t}function _u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var G_=class{get injector(){return _u(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Eu(this.rootInjector),this.attachRef=null}},Eu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new G_(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(B(ln))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),_p=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=W_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=W_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=K_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return K_(e,this._root).map(t=>t.value)}};function W_(n,e){if(n===e.value)return e;for(let t of e.children){let r=W_(n,t);if(r)return r}return null}function K_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=K_(n,t);if(r.length)return r.unshift(e),r}return[]}var Vn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ja(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ep=class extends _p{constructor(e,t){super(e),this.snapshot=t,r0(this,e)}toString(){return this.snapshot.toString()}};function xR(n){let e=uz(n),t=new Lt([new to("",{})]),r=new Lt({}),i=new Lt({}),s=new Lt({}),o=new Lt(""),a=new Tn(t,r,s,o,i,ve,n,e.root);return a.snapshot=e.root,new Ep(new Vn(a,[]),e)}function uz(n){let e={},t={},r={},i="",s=new Ba([],e,r,i,t,ve,n,null,{});return new bp("",new Vn(s,[]))}var Tn=class{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(oe(u=>u[vu]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>za(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>za(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ip(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&RR(i)&&(r.resolve[vu]=i.title),r}var Ba=class{get title(){return this.data?.[vu]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=za(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=za(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bp=class extends _p{constructor(e,t){super(t),this.url=e,r0(this,t)}toString(){return MR(this._root)}};function r0(n,e){e.value._routerState=n,e.children.forEach(t=>r0(n,t))}function MR(n){let e=n.children.length>0?` { ${n.children.map(MR).join(", ")} } `:"";return`${n.value}${e}`}function x_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ar(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ar(e.params,t.params)||n.paramsSubject.next(t.params),V3(e.url,t.url)||n.urlSubject.next(t.url),Ar(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Q_(n,e){let t=Ar(n.params,e.params)&&B3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Q_(n.parent,e.parent))}function RR(n){return typeof n.title=="string"||n.title===null}var i0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=G(Eu),this.location=G(In),this.changeDetector=G(Tr),this.inputBinder=G(Ap,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Y_(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=_t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Li]});let n=e;return n})(),Y_=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tn?this.route:e===Eu?this.childContexts:this.parent.get(e,t)}},Ap=new W(""),lR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=fl([i.queryParams,i.params,i.data]).pipe(Ye(([o,a,c],u)=>(c=M(M(M({},o),a),c),u===0?ae(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Ax(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})();function dz(n,e,t){let r=pu(n,e._root,t?t._root:void 0);return new Ep(r,e)}function pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=hz(n,e,t);return new Vn(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pu(n,a)),o}}let r=fz(e.value),i=e.children.map(s=>pu(n,s));return new Vn(r,i)}}function hz(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pu(n,r,i);return pu(n,r)})}function fz(n){return new Tn(new Lt(n.url),new Lt(n.params),new Lt(n.queryParams),new Lt(n.fragment),new Lt(n.data),n.outlet,n.component,n)}var gu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},kR="ngNavigationCancelingError";function Dp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NR(!1,Ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kR]=!0,t.cancellationCode=e,t}function pz(n){return PR(n)&&uu(n.url)}function PR(n){return!!n&&n[kR]}var gz=(n,e,t,r)=>oe(i=>(new Z_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Z_=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),x_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new H_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new z_(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(x_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),x_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Cp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{constructor(e,t){this.component=e,this.route=t}};function mz(n,e,t){let r=n._root,i=e?e._root:null;return su(r,i,t,[r.value])}function yz(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ka(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!LT(n)?n:e.get(n):r}function su(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ja(e);return n.children.forEach(o=>{vz(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lu(a,t.getContext(o),i)),i}function vz(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=wz(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?su(n,e,a?a.children:null,r,i):su(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $a(a.outlet.component,o))}else o&&lu(e,a,i),i.canActivateChecks.push(new Cp(r)),s.component?su(n,null,a?a.children:null,r,i):su(n,null,t,r,i);return i}function wz(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!Ar(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q_(n,e)||!Ar(n.queryParams,e.queryParams);case"paramsChange":default:return!Q_(n,e)}}function lu(n,e,t){let r=ja(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?lu(o,e.children.getContext(s),t):lu(o,null,t):lu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,i)):t.canDeactivateChecks.push(new $a(null,i)):t.canDeactivateChecks.push(new $a(null,i))}function Iu(n){return typeof n=="function"}function _z(n){return typeof n=="boolean"}function Ez(n){return n&&Iu(n.canLoad)}function Iz(n){return n&&Iu(n.canActivate)}function bz(n){return n&&Iu(n.canActivateChild)}function Dz(n){return n&&Iu(n.canDeactivate)}function Cz(n){return n&&Iu(n.canMatch)}function OR(n){return n instanceof qr||n?.name==="EmptyError"}var dp=Symbol("INITIAL_VALUE");function Wa(){return Ye(n=>fl(n.map(e=>e.pipe(Gr(1),Wr(dp)))).pipe(oe(e=>{for(let t of e)if(t!==!0){if(t===dp)return dp;if(t===!1||Tz(t))return t}return!0}),At(e=>e!==dp),Gr(1)))}function Tz(n){return uu(n)||n instanceof gu}function Sz(n,e){return vt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ae(te(M({},t),{guardsResult:!0})):Az(o,r,i,n).pipe(vt(a=>a&&_z(a)?xz(r,s,n,e):ae(a)),oe(a=>te(M({},t),{guardsResult:a})))})}function Az(n,e,t,r){return Se(n).pipe(vt(i=>Pz(i.component,i.route,t,e,r)),Mn(i=>i!==!0,!0))}function xz(n,e,t,r){return Se(e).pipe(Hr(i=>Go(Rz(i.route.parent,r),Mz(i.route,r),Nz(n,i.path,t),kz(n,i.route,t))),Mn(i=>i!==!0,!0))}function Mz(n,e){return n!==null&&e&&e(new q_(n)),ae(!0)}function Rz(n,e){return n!==null&&e&&e(new $_(n)),ae(!0)}function kz(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(s=>fh(()=>{let o=_u(e)??t,a=Ka(s,o),c=Iz(a)?a.canActivate(e,n):Hn(o,()=>a(e,n));return es(c).pipe(Mn())}));return ae(i).pipe(Wa())}function Nz(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yz(o)).filter(o=>o!==null).map(o=>fh(()=>{let a=o.guards.map(c=>{let u=_u(o.node)??t,d=Ka(c,u),f=bz(d)?d.canActivateChild(r,n):Hn(u,()=>d(r,n));return es(f).pipe(Mn())});return ae(a).pipe(Wa())}));return ae(s).pipe(Wa())}function Pz(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ae(!0);let o=s.map(a=>{let c=_u(e)??i,u=Ka(a,c),d=Dz(u)?u.canDeactivate(n,e,t,r):Hn(c,()=>u(n,e,t,r));return es(d).pipe(Mn())});return ae(o).pipe(Wa())}function Oz(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let s=i.map(o=>{let a=Ka(o,n),c=Ez(a)?a.canLoad(e,t):Hn(n,()=>a(e,t));return es(c)});return ae(s).pipe(Wa(),FR(r))}function FR(n){return sy(wt(e=>{if(typeof e!="boolean")throw Dp(n,e)}),oe(e=>e===!0))}function Fz(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let s=i.map(o=>{let a=Ka(o,n),c=Cz(a)?a.canMatch(e,t):Hn(n,()=>a(e,t));return es(c)});return ae(s).pipe(Wa(),FR(r))}var mu=class{constructor(e){this.segmentGroup=e||null}},yu=class extends Error{constructor(e){super(),this.urlTree=e}};function La(n){return Ho(new mu(n))}function Vz(n){return Ho(new ie(4e3,!1))}function Lz(n){return Ho(NR(!1,Ln.GuardRejected))}var J_=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[ve])return Vz(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,params:m,data:w,title:D}=i,C=Hn(s,()=>a({params:m,data:w,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,title:D}));if(C instanceof ai)throw new yu(C);t=C}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new yu(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new ai(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new je(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ie(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},X_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jz(n,e,t,r,i){let s=VR(n,e,t);return s.matched?(r=cz(e,r),Fz(r,e,t,i).pipe(oe(o=>o===!0?s:M({},X_)))):ae(s)}function VR(n,e,t){if(e.path==="**")return Uz(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},X_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||F3)(t,n,e);if(!i)return M({},X_);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?M(M({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Uz(n){return{matched:!0,parameters:n.length>0?mR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function uR(n,e,t,r){return t.length>0&&zz(n,t,r)?{segmentGroup:new je(e,$z(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&qz(n,t,r)?{segmentGroup:new je(n.segments,Bz(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function Bz(n,e,t,r){let i={};for(let s of t)if(xp(n,e,s)&&!r[ur(s)]){let o=new je([],{});i[ur(s)]=o}return M(M({},r),i)}function $z(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&ur(r)!==ve){let i=new je([],{});t[ur(r)]=i}return t}function zz(n,e,t){return t.some(r=>xp(n,e,r)&&ur(r)!==ve)}function qz(n,e,t){return t.some(r=>xp(n,e,r))}function xp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Hz(n,e,t){return e.length===0&&!n.children[t]}var e0=class{};function Gz(n,e,t,r,i,s,o="emptyOnly"){return new t0(n,e,t,r,i,o,s).recognize()}var Wz=31,t0=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new J_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ie(4002,`'${e.segmentGroup}'`)}recognize(){let e=uR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:t,rootSnapshot:r})=>{let i=new Vn(r,t),s=new bp("",i),o=tz(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Ba([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(oe(r=>({children:r,rootSnapshot:t})),Si(r=>{if(r instanceof yu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof mu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(oe(o=>o instanceof Vn?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Hr(o=>{let a=r.children[o],c=lz(t,o);return this.processSegmentGroup(e,c,a,o,i)}),ks((o,a)=>(o.push(...a),o)),Ai(null),gy(),vt(o=>{if(o===null)return La(r);let a=LR(o);return Kz(a),ae(a)}))}processSegment(e,t,r,i,s,o,a){return Se(t).pipe(Hr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Si(u=>{if(u instanceof mu)return ae(null);throw u}))),Mn(c=>!!c),Si(c=>{if(OR(c))return Hz(r,i,s)?ae(new e0):La(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return ur(r)!==o&&(o===ve||!xp(i,s,r))?La(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):La(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=VR(t,i,s);if(!c)return La(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Wz&&(this.allowRedirects=!1));let m=new Ba(s,u,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,dR(i),ur(i),i.component??i._loadedComponent??null,i,hR(i)),w=Ip(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let D=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(vt(C=>this.processSegment(e,r,t,C.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=jz(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ye(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ye(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:m}=c,w=new Ba(g,f,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,dR(r),ur(r),r.component??r._loadedComponent??null,r,hR(r)),D=Ip(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(D.params),w.data=Object.freeze(D.data);let{segmentGroup:C,slicedSegments:F}=uR(t,g,m,u);if(F.length===0&&C.hasChildren())return this.processChildren(d,u,C,w).pipe(oe(j=>new Vn(w,j)));if(u.length===0&&F.length===0)return ae(new Vn(w,[]));let L=ur(r)===s;return this.processSegment(d,u,C,F,L?ve:s,!0,w).pipe(oe(j=>new Vn(w,j instanceof Vn?[j]:[])))}))):La(t)))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):Oz(e,t,r,this.urlSerializer).pipe(vt(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Lz(t))):ae({routes:[],injector:e})}};function Kz(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function Qz(n){let e=n.value.routeConfig;return e&&e.path===""}function LR(n){let e=[],t=new Set;for(let r of n){if(!Qz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=LR(r.children);e.push(new Vn(r.value,i))}return e.filter(r=>!t.has(r))}function dR(n){return n.data||{}}function hR(n){return n.resolve||{}}function Yz(n,e,t,r,i,s){return vt(o=>Gz(n,e,t,r,o.extractedUrl,i,s).pipe(oe(({state:a,tree:c})=>te(M({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Zz(n,e){return vt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of jR(c))o.add(u);let a=0;return Se(o).pipe(Hr(c=>s.has(c)?Jz(c,r,n,e):(c.data=Ip(c,c.parent,n).resolve,ae(void 0))),wt(()=>a++),Wo(1),vt(c=>a===o.size?ae(t):on))})}function jR(n){let e=n.children.map(t=>jR(t)).flat();return[n,...e]}function Jz(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!RR(i)&&(s[vu]=i.title),Xz(s,n,e,r).pipe(oe(o=>(n._resolvedData=o,n.data=Ip(n,n.parent,t).resolve,null)))}function Xz(n,e,t,r){let i=k_(n);if(i.length===0)return ae({});let s={};return Se(i).pipe(vt(o=>eq(n[o],e,t,r).pipe(Mn(),wt(a=>{if(a instanceof gu)throw Dp(new qa,a);s[o]=a}))),Wo(1),gl(s),Si(o=>OR(o)?on:Ho(o)))}function eq(n,e,t,r){let i=_u(e)??r,s=Ka(n,i),o=s.resolve?s.resolve(e,t):Hn(i,()=>s(e,t));return es(o)}function M_(n){return Ye(e=>{let t=n(e);return t?Se(t).pipe(oe(()=>e)):ae(e)})}var UR=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ve);return i}getResolvedTitleForRoute(r){return r.data[vu]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(tq),providedIn:"root"});let n=e;return n})(),tq=(()=>{let e=class e extends UR{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(Cn))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bu=new W("",{providedIn:"root",factory:()=>({})}),nq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ol],decls:1,vars:0,template:function(i,s){i&1&&ce(0,"router-outlet")},dependencies:[i0],encapsulation:2});let n=e;return n})();function s0(n){let e=n.children&&n.children.map(s0),t=e?te(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=nq),t}var Tp=new W(""),o0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=G(Lf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=es(r.loadComponent()).pipe(oe(BR),wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Rs(()=>{this.componentLoaders.delete(r)})),s=new Uo(i,()=>new Ue).pipe(jo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rq(i,this.compiler,r,this.onLoadEndListener).pipe(Rs(()=>{this.childrenLoaders.delete(i)})),a=new Uo(o,()=>new Ue).pipe(jo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function rq(n,e,t,r){return es(n.loadChildren()).pipe(oe(BR),vt(i=>i instanceof Al||Array.isArray(i)?ae(i):Se(e.compileModuleAsync(i))),oe(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Tp,[],{optional:!0,self:!0}).flat()),{routes:o.map(s0),injector:s}}))}function iq(n){return n&&typeof n=="object"&&"default"in n}function BR(n){return iq(n)?n.default:n}var a0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(sq),providedIn:"root"});let n=e;return n})(),sq=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),$R=new W(""),zR=new W("");function oq(n,e,t){let r=n.get(zR),i=n.get(kt);return n.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),aq(n))),{onViewTransitionCreated:c}=r;return c&&Hn(n,()=>c({transition:a,from:e,to:t})),o})}function aq(n){return new Promise(e=>{bw({read:()=>setTimeout(e)},{injector:n})})}var cq=new W(""),c0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=G(o0),this.environmentInjector=G(ln),this.urlSerializer=G(wu),this.rootContexts=G(Eu),this.location=G(Sa),this.inputBindingEnabled=G(Ap,{optional:!0})!==null,this.titleStrategy=G(UR),this.options=G(bu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=G(a0),this.createViewTransition=G($R,{optional:!0}),this.navigationErrorHandler=G(cq,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let r=s=>this.events.next(new U_(s)),i=s=>this.events.next(new B_(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(M(M({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cu,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),oe(o=>te(M({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ye(o=>{let a=!1,c=!1;return ae(o).pipe(Ye(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ln.SupersededByNewNavigation),on;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?te(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Xi(u.id,this.urlSerializer.serialize(u.rawUrl),g,yp.IgnoredSameUrlNavigation)),u.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(Ye(g=>{let m=this.transitions?.getValue();return this.events.next(new Ha(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?on:Promise.resolve(g)}),Yz(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),wt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=te(M({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let m=new vp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:m,source:w,restoredState:D,extras:C}=u,F=new Ha(g,this.urlSerializer.serialize(m),w,D);this.events.next(F);let L=xR(this.rootComponentType).snapshot;return this.currentTransition=o=te(M({},u),{targetSnapshot:L,urlAfterRedirects:m,extras:te(M({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ae(o)}else{let g="";return this.events.next(new Xi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,yp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),on}}),wt(u=>{let d=new F_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),oe(u=>(this.currentTransition=o=te(M({},u),{guards:mz(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Sz(this.environmentInjector,u=>this.events.next(u)),wt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Dp(this.urlSerializer,u.guardsResult);let d=new V_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),At(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ln.GuardRejected),!1)),M_(u=>{if(u.guards.canActivateChecks.length)return ae(u).pipe(wt(d=>{let f=new L_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Ye(d=>{let f=!1;return ae(d).pipe(Zz(this.paramsInheritanceStrategy,this.environmentInjector),wt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Ln.NoDataFromResolver)}}))}),wt(d=>{let f=new j_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),M_(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(wt(m=>{f.component=m}),oe(()=>{})));for(let m of f.children)g.push(...d(m));return g};return fl(d(u.targetSnapshot.root)).pipe(Ai(null),Gr(1))}),M_(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Se(f).pipe(oe(()=>o)):ae(o)}),oe(u=>{let d=dz(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=te(M({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),wt(()=>{this.events.next(new fu)}),gz(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Gr(1),wt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),vl(this.transitionAbortSubject.pipe(wt(u=>{throw u}))),Rs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Si(u=>{if(c=!0,PR(u))this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),pz(u)?this.events.next(new Ga(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new hu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=Hn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof gu){let{message:g,cancellationCode:m}=Dp(this.urlSerializer,f);this.events.next(new oi(o.id,this.urlSerializer.serialize(o.extractedUrl),g,m)),this.events.next(new Ga(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(u);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return on}))}))}cancelNavigationTransition(r,i,s){let o=new oi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lq(n){return n!==cu}var uq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(dq),providedIn:"root"});let n=e;return n})(),n0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dq=(()=>{let e=class e extends n0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ks(e)))(s||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),qR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:()=>G(hq),providedIn:"root"});let n=e;return n})(),hq=(()=>{let e=class e extends qR{constructor(){super(...arguments),this.location=G(Sa),this.urlSerializer=G(wu),this.options=G(bu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=G(a0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ai,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ha)this.stateMemento=this.createStateMemento();else if(r instanceof Xi)this.rawUrlTree=i.initialUrl;else if(r instanceof vp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof fu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof oi&&(r.code===Ln.GuardRejected||r.code===Ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof hu?this.restoreHistory(i,!0):r instanceof ci&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof ai?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=M(M({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ks(e)))(s||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ou=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ou||{});function HR(n,e){n.events.pipe(At(t=>t instanceof ci||t instanceof oi||t instanceof hu||t instanceof Xi),oe(t=>t instanceof ci||t instanceof Xi?ou.COMPLETE:(t instanceof oi?t.code===Ln.Redirect||t.code===Ln.SupersededByNewNavigation:!1)?ou.REDIRECTING:ou.FAILED),At(t=>t!==ou.REDIRECTING),Gr(1)).subscribe(()=>{e()})}function fq(n){throw n}var pq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=G(Nf),this.stateManager=G(qR),this.options=G(bu,{optional:!0})||{},this.pendingTasks=G(Bi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=G(c0),this.urlSerializer=G(wu),this.location=G(Sa),this.urlHandlingStrategy=G(a0),this._events=new Ue,this.errorHandler=this.options.errorHandler||fq,this.navigated=!1,this.routeReuseStrategy=G(uq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=G(Tp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!G(Ap,{optional:!0}),this.eventsSubscription=new ct,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof oi&&i.code!==Ln.Redirect&&i.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ci)this.navigated=!0;else if(i instanceof Ga){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=M({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lq(s.source)},a);this.scheduleNavigation(c,cu,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}yq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=M({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(s0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let m=s?s.snapshot:this.routerState.snapshot.root;g=CR(m)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return TR(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=uu(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cu,null,i)}navigate(r,i={skipLocationChange:!1}){return mq(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=M({},pq):i===!1?s=M({},gq):s=i,uu(r))return sR(this.currentUrlTree,r,s);let o=this.parseUrl(r);return sR(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((g,m)=>{c=g,u=m});let f=this.pendingTasks.add();return HR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function mq(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ie(4008,!1)}function yq(n){return!(n instanceof fu)&&!(n instanceof Ga)}var Sp=class{};var vq=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(At(r=>r instanceof ci),Hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Sf(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Se(s).pipe(Ti())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=ae(null);let o=s.pipe(vt(a=>a===null?ae(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Se([o,a]).pipe(Ti())}else return o})}};e.\u0275fac=function(i){return new(i||e)(B(jn),B(Lf),B(ln),B(Sp),B(o0))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),GR=new W(""),wq=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ha?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ci?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Xi&&r.code===yp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof wp&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wp(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){DA()},e.\u0275prov=K({token:e,factory:e.\u0275fac});let n=e;return n})();function _q(n){return n.routerState.root}function Du(n,e){return{\u0275kind:n,\u0275providers:e}}function Eq(){let n=G(Nn);return e=>{let t=n.get(ti);if(e!==t.components[0])return;let r=n.get(jn),i=n.get(WR);n.get(l0)===1&&r.initialNavigation(),n.get(KR,null,be.Optional)?.setUpPreloading(),n.get(GR,null,be.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WR=new W("",{factory:()=>new Ue}),l0=new W("",{providedIn:"root",factory:()=>1});function Iq(){return Du(2,[{provide:l0,useValue:0},{provide:Ff,multi:!0,deps:[Nn],useFactory:e=>{let t=e.get(Vx,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(jn),s=e.get(WR);HR(i,()=>{r(!0)}),e.get(c0).afterPreactivation=()=>(r(!0),s.closed?ae(void 0):s),i.initialNavigation()}))}}])}function bq(){return Du(3,[{provide:Ff,multi:!0,useFactory:()=>{let e=G(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:l0,useValue:2}])}var KR=new W("");function Dq(n){return Du(0,[{provide:KR,useExisting:vq},{provide:Sp,useExisting:n}])}function Cq(){return Du(8,[lR,{provide:Ap,useExisting:lR}])}function Tq(n){let e=[{provide:$R,useValue:oq},{provide:zR,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return Du(9,e)}var fR=new W("ROUTER_FORROOT_GUARD"),Sq=[Sa,{provide:wu,useClass:qa},jn,Eu,{provide:Tn,useFactory:_q,deps:[jn]},o0,[]],u0=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Sq,[],{provide:Tp,multi:!0,useValue:r},{provide:fR,useFactory:Rq,deps:[[jn,new fa,new sf]]},{provide:bu,useValue:i||{}},i?.useHash?xq():Mq(),Aq(),i?.preloadingStrategy?Dq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kq(i):[],i?.bindToComponentInputs?Cq().\u0275providers:[],i?.enableViewTransitions?Tq().\u0275providers:[],Nq()]}}static forChild(r){return{ngModule:e,providers:[{provide:Tp,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(B(fR,8))},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({});let n=e;return n})();function Aq(){return{provide:GR,useFactory:()=>{let n=G(zx),e=G(Ce),t=G(bu),r=G(c0),i=G(wu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wq(i,r,n,e,t)}}}function xq(){return{provide:Ys,useClass:jx}}function Mq(){return{provide:Ys,useClass:Kw}}function Rq(n){return"guarded"}function kq(n){return[n.initialNavigation==="disabled"?bq().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Iq().\u0275providers:[]]}var pR=new W("");function Nq(){return[{provide:pR,useFactory:Eq},{provide:Vf,multi:!0,useExisting:pR}]}var Le=class n{static parseHtmlLine(e){return e.includes("Widget:")?{Widget:"NAVI"}:{PageType:e}}static isMobileBrowser(){let e=navigator.userAgent||window.opera;return!!(/android/i.test(e)||/iPad|iPhone|iPod/.test(e)&&!window.MSStream)}static toString(e){return e==null?"":typeof e=="string"?e:String(e)}static unescape(e){return e=this.toString(e),e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}static getTodaysDate(e){let t=new Date().toUTCString();return t=t.replaceAll(" ",e),t.replace(",","")}static getBasePath(e){let t="",r=e.snapshot.url[0];return r&&r.path&&(t=r.path),r&&r.path?.toLocaleLowerCase()}static getUrl(e){let t=e.url;for(;t!==decodeURIComponent(t);)t=decodeURIComponent(t);let r=t.indexOf("?");return r>0?e.url.substring(0,r):e.url}static getRouterUrl(e,t){return this.getUrl(e).replace("/"+t,"")}static getRouteParam(e,t){return e.snapshot.paramMap.get(t)?.toLocaleLowerCase()}static getQueryParam(e,t){return e.snapshot.queryParamMap.get(t)}static getFirstLineEnd(e){return e.indexOf(`
`)}static getFirstLine(e){let t=e.indexOf(`
`);return t!==-1?e.substring(0,t):e}static getDataValueFromString(e){let t=e.charAt(0);return t=="["?(e=e.replace(/'/g,'"'),e=JSON.parse(e),e):t=="'"||t=="`"||t=='"'?(e=e.replace(/'/g,'"'),JSON.parse(e)):new Number(e)}static getFilesInFolder(e,t){return e.files.filter(r=>r.includes(t))}static getFileNameWithoutCurrentFolder(e,t){return n.getFileName(e.substring(e.indexOf(t)+t.length+1),!0)}static getFileName(e,t=!1){let i=(t?e:e.substring(e.lastIndexOf("/")+1)).replace(/[-_]/g," ");return i.substring(0,i.lastIndexOf("."))}static getFileNameWithCategory(e,t=!1){let r="",i=e.lastIndexOf("/");e.indexOf("/")!=-1&&(r=t?e.substring(0,e.indexOf("/")):e.substring(e.lastIndexOf("/",i-1)+1,i));let a=e.substring(i+1).replace(/[-_]/g," ");return{Category:r,File:a.substring(0,a.lastIndexOf("."))}}static closestHost(e){e=e.substring(e.indexOf("."));let t=new Map;return t.set("raw.githubusercontent","github"),t.set(".githubusercontent","github"),t.set("youtu","youtube"),t.set(".publichome","link"),t.has(e)?t.get(e):e}static getGhUserFilePath(e,t,r=!1){return r?`${he.gh_api_url}/repos/${e}/${he.gh_private_dr_folder}/contents/${t}`:`${he.gh_dr_url}/${e}/${he.gh_dr_folder}/${t}`}};var Yn=class{constructor(e){if(this.githubService=e,this.router=G(jn),this.route=G(Tn),this.messaging=G(Jt),this.routerFileUrl="",this.hasPrivateAccess=!1,this.githubUser=he.gh_default_user_repo,this.basePath="",this.articleFolderName="",this.isHomePageGHUser=!1,this.basePath=Le.getBasePath(this.route),this.basePath=="i"||ne.INTERNAL_FOLDERS.includes(this.basePath)){let t=Le.getRouteParam(this.route,"folder");t||(t=this.basePath),this.articleFolderName=t}else console.debug("It is a user's public article !!");this.githubUser=Le.getRouteParam(this.route,"ghUser"),this.githubUser||(this.githubUser=he.gh_default_user_repo,this.isHomePageGHUser=!0),this.routerFileUrl=Le.getRouterUrl(this.router,this.githubUser),this.githubUser&&this.githubService.getJwtToken(this.githubUser).then(t=>this.githubService.getAccessToken(t).then(r=>{this.hasPrivateAccess=r!=null})).finally(()=>this.initialiseUserContext(this.githubUser))}initialiseUserContext(e){return b(this,null,function*(){this.githubService.get("users/"+e).then(t=>{ne.ghUser=JSON.parse(t),ne.userContext.username=e,this.githubService.getGhDirectoryContents(e).then(r=>{ne.userContext.directory=r,this.messaging.send({cmd:"UserDirectory"})})}).finally(()=>{ne.ghUserLoaded=e,this.messaging.send({cmd:"UserContext"})})})}getFolderName(){return this.articleFolderName}};function Xt(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}function Rp(n,e,t,r){if(typeof t!="function")throw new Error("method for before hook must be a function");return r||(r={}),Array.isArray(e)?e.reverse().reduce((i,s)=>Rp.bind(null,n,s,i,r),t)():Promise.resolve().then(()=>n.registry[e]?n.registry[e].reduce((i,s)=>s.hook.bind(null,i,r),t)():t(r))}function QR(n,e,t,r){let i=r;n.registry[t]||(n.registry[t]=[]),e==="before"&&(r=(s,o)=>Promise.resolve().then(i.bind(null,o)).then(s.bind(null,o))),e==="after"&&(r=(s,o)=>{let a;return Promise.resolve().then(s.bind(null,o)).then(c=>(a=c,i(a,o))).then(()=>a)}),e==="error"&&(r=(s,o)=>Promise.resolve().then(s.bind(null,o)).catch(a=>i(a,o))),n.registry[t].push({hook:r,orig:i})}function YR(n,e,t){if(!n.registry[e])return;let r=n.registry[e].map(i=>i.orig).indexOf(t);r!==-1&&n.registry[e].splice(r,1)}var ZR=Function.bind,JR=ZR.bind(ZR);function XR(n,e,t){let r=JR(YR,null).apply(null,t?[e,t]:[e]);n.api={remove:r},n.remove=r,["before","error","after","wrap"].forEach(i=>{let s=t?[e,i,t]:[e,i];n[i]=n.api[i]=JR(QR,null).apply(null,s)})}function Pq(){let n=Symbol("Singular"),e={registry:{}},t=Rp.bind(null,e,n);return XR(t,e,n),t}function Oq(){let n={registry:{}},e=Rp.bind(null,n);return XR(e,n),e}var ek={Singular:Pq,Collection:Oq};var Fq="0.0.0-development",Vq=`octokit-endpoint.js/${Fq} ${Xt()}`,Lq={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Vq},mediaType:{format:""}};function jq(n){return n?Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{}):{}}function Uq(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);if(e===null)return!0;let t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function rk(n,e){let t=Object.assign({},n);return Object.keys(e).forEach(r=>{Uq(e[r])?r in n?t[r]=rk(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}function tk(n){for(let e in n)n[e]===void 0&&delete n[e];return n}function h0(n,e,t){if(typeof e=="string"){let[i,s]=e.split(" ");t=Object.assign(s?{method:i,url:s}:{url:i},t)}else t=Object.assign({},e);t.headers=jq(t.headers),tk(t),tk(t.headers);let r=rk(n||{},t);return t.url==="/graphql"&&(n&&n.mediaType.previews?.length&&(r.mediaType.previews=n.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=(r.mediaType.previews||[]).map(i=>i.replace(/-preview/,""))),r}function Bq(n,e){let t=/\?/.test(n)?"&":"?",r=Object.keys(e);return r.length===0?n:n+t+r.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var $q=/\{[^}]+\}/g;function zq(n){return n.replace(/^\W+|\W+$/g,"").split(/,/)}function qq(n){let e=n.match($q);return e?e.map(zq).reduce((t,r)=>t.concat(r),[]):[]}function nk(n,e){let t={__proto__:null};for(let r of Object.keys(n))e.indexOf(r)===-1&&(t[r]=n[r]);return t}function ik(n){return n.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function Ya(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Cu(n,e,t){return e=n==="+"||n==="#"?ik(e):Ya(e),t?Ya(t)+"="+e:e}function Qa(n){return n!=null}function d0(n){return n===";"||n==="&"||n==="?"}function Hq(n,e,t,r){var i=n[t],s=[];if(Qa(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),s.push(Cu(e,i,d0(e)?t:""));else if(r==="*")Array.isArray(i)?i.filter(Qa).forEach(function(o){s.push(Cu(e,o,d0(e)?t:""))}):Object.keys(i).forEach(function(o){Qa(i[o])&&s.push(Cu(e,i[o],o))});else{let o=[];Array.isArray(i)?i.filter(Qa).forEach(function(a){o.push(Cu(e,a))}):Object.keys(i).forEach(function(a){Qa(i[a])&&(o.push(Ya(a)),o.push(Cu(e,i[a].toString())))}),d0(e)?s.push(Ya(t)+"="+o.join(",")):o.length!==0&&s.push(o.join(","))}else e===";"?Qa(i)&&s.push(Ya(t)):i===""&&(e==="&"||e==="?")?s.push(Ya(t)+"="):i===""&&s.push("");return s}function Gq(n){return{expand:Wq.bind(null,n)}}function Wq(n,e){var t=["+","#",".","/",";","?","&"];return n=n.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,s){if(i){let a="",c=[];if(t.indexOf(i.charAt(0))!==-1&&(a=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);c.push(Hq(e,a,d[1],d[2]||d[3]))}),a&&a!=="+"){var o=",";return a==="?"?o="&":a!=="#"&&(o=a),(c.length!==0?a:"")+c.join(o)}else return c.join(",")}else return ik(s)}),n==="/"?n:n.replace(/\/$/,"")}function sk(n){let e=n.method.toUpperCase(),t=(n.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},n.headers),i,s=nk(n,["method","baseUrl","url","headers","request","mediaType"]),o=qq(t);t=Gq(t).expand(s),/^http/.test(t)||(t=n.baseUrl+t);let a=Object.keys(n).filter(d=>o.includes(d)).concat("baseUrl"),c=nk(s,a);if(!/application\/octet-stream/i.test(r.accept)&&(n.mediaType.format&&(r.accept=r.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${n.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&n.mediaType.previews?.length)){let d=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=d.concat(n.mediaType.previews).map(f=>{let g=n.mediaType.format?`.${n.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${g}`}).join(",")}return["GET","HEAD"].includes(e)?t=Bq(t,c):"data"in c?i=c.data:Object.keys(c).length&&(i=c),!r["content-type"]&&typeof i<"u"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i>"u"&&(i=""),Object.assign({method:e,url:t,headers:r},typeof i<"u"?{body:i}:null,n.request?{request:n.request}:null)}function Kq(n,e,t){return sk(h0(n,e,t))}function ok(n,e){let t=h0(n,e),r=Kq.bind(null,t);return Object.assign(r,{DEFAULTS:t,defaults:ok.bind(null,t),merge:h0.bind(null,t),parse:sk})}var ak=ok(null,Lq);var li=class extends Error{name;status;request;response;constructor(e,t,r){super(e),this.name="HttpError",this.status=Number.parseInt(t),Number.isNaN(this.status)&&(this.status=0),"response"in r&&(this.response=r.response);let i=Object.assign({},r.request);r.request.headers.authorization&&(i.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i}};var Qq="0.0.0-development",Yq={headers:{"user-agent":`octokit-request.js/${Qq} ${Xt()}`}};function Zq(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);if(e===null)return!0;let t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function ck(n){return b(this,null,function*(){let e=n.request?.fetch||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");let t=n.request?.log||console,r=n.request?.parseSuccessResponseBody!==!1,i=Zq(n.body)||Array.isArray(n.body)?JSON.stringify(n.body):n.body,s=Object.fromEntries(Object.entries(n.headers).map(([f,g])=>[f,String(g)])),o;try{o=yield e(n.url,M({method:n.method,body:i,redirect:n.request?.redirect,headers:s,signal:n.request?.signal},n.body&&{duplex:"half"}))}catch(f){let g="Unknown Error";if(f instanceof Error){if(f.name==="AbortError")throw f.status=500,f;g=f.message,f.name==="TypeError"&&"cause"in f&&(f.cause instanceof Error?g=f.cause.message:typeof f.cause=="string"&&(g=f.cause))}let m=new li(g,500,{request:n});throw m.cause=f,m}let a=o.status,c=o.url,u={};for(let[f,g]of o.headers)u[f]=g;let d={url:c,status:a,headers:u,data:""};if("deprecation"in u){let f=u.link&&u.link.match(/<([^>]+)>; rel="deprecation"/),g=f&&f.pop();t.warn(`[@octokit/request] "${n.method} ${n.url}" is deprecated. It is scheduled to be removed on ${u.sunset}${g?`. See ${g}`:""}`)}if(a===204||a===205)return d;if(n.method==="HEAD"){if(a<400)return d;throw new li(o.statusText,a,{response:d,request:n})}if(a===304)throw d.data=yield f0(o),new li("Not modified",a,{response:d,request:n});if(a>=400)throw d.data=yield f0(o),new li(Jq(d.data),a,{response:d,request:n});return d.data=r?yield f0(o):o.body,d})}function f0(n){return b(this,null,function*(){let e=n.headers.get("content-type");return/application\/json/.test(e)?n.json().catch(()=>n.text()).catch(()=>""):!e||/^text\/|charset=utf-8$/.test(e)?n.text():n.arrayBuffer()})}function Jq(n){if(typeof n=="string")return n;if(n instanceof ArrayBuffer)return"Unknown error";if("message"in n){let e="documentation_url"in n?` - ${n.documentation_url}`:"";return Array.isArray(n.errors)?`${n.message}: ${n.errors.map(t=>JSON.stringify(t)).join(", ")}${e}`:`${n.message}${e}`}return`Unknown error: ${JSON.stringify(n)}`}function p0(n,e){let t=n.defaults(e);return Object.assign(function(i,s){let o=t.merge(i,s);if(!o.request||!o.request.hook)return ck(t.parse(o));let a=(c,u)=>ck(t.parse(t.merge(c,u)));return Object.assign(a,{endpoint:t,defaults:p0.bind(null,t)}),o.request.hook(a,o)},{endpoint:t,defaults:p0.bind(null,t)})}var Be=p0(ak,Yq);var Xq="0.0.0-development";function eH(n){return`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join(`
`)}var tH=class extends Error{constructor(n,e,t){super(eH(t)),this.request=n,this.headers=e,this.response=t,this.errors=t.errors,this.data=t.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},nH=["method","baseUrl","url","headers","request","query","mediaType"],rH=["query","method","url"],lk=/\/api\/v3\/?$/;function iH(n,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let o in t)if(rH.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}let r=typeof e=="string"?Object.assign({query:e},t):e,i=Object.keys(r).reduce((o,a)=>nH.includes(a)?(o[a]=r[a],o):(o.variables||(o.variables={}),o.variables[a]=r[a],o),{}),s=r.baseUrl||n.endpoint.DEFAULTS.baseUrl;return lk.test(s)&&(i.url=s.replace(lk,"/api/graphql")),n(i).then(o=>{if(o.data.errors){let a={};for(let c of Object.keys(o.headers))a[c]=o.headers[c];throw new tH(i,a,o.data)}return o.data.data})}function g0(n,e){let t=n.defaults(e);return Object.assign((i,s)=>iH(t,i,s),{defaults:g0.bind(null,t),endpoint:t.endpoint})}var bee=g0(Be,{headers:{"user-agent":`octokit-graphql.js/${Xq} ${Xt()}`},method:"POST",url:"/graphql"});function uk(n){return g0(n,{method:"POST",url:"/graphql"})}var sH=/^v1\./,oH=/^ghs_/,aH=/^ghu_/;function cH(n){return b(this,null,function*(){let e=n.split(/\./).length===3,t=sH.test(n)||oH.test(n),r=aH.test(n);return{type:"token",token:n,tokenType:e?"app":t?"installation":r?"user-to-server":"oauth"}})}function lH(n){return n.split(/\./).length===3?`bearer ${n}`:`token ${n}`}function uH(n,e,t,r){return b(this,null,function*(){let i=e.endpoint.merge(t,r);return i.headers.authorization=lH(n),e(i)})}var dk=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(cH.bind(null,e),{hook:uH.bind(null,e)})};var m0="6.1.2";var hk=()=>{},dH=console.warn.bind(console),hH=console.error.bind(console),fk=`octokit-core.js/${m0} ${Xt()}`,y0=(()=>{class n{static VERSION=m0;static defaults(t){return class extends this{constructor(...i){let s=i[0]||{};if(typeof t=="function"){super(t(s));return}super(Object.assign({},t,s,s.userAgent&&t.userAgent?{userAgent:`${s.userAgent} ${t.userAgent}`}:null))}}}static plugins=[];static plugin(...t){let r=this.plugins;return class extends this{static plugins=r.concat(t.filter(s=>!r.includes(s)))}}constructor(t={}){let r=new ek.Collection,i={baseUrl:Be.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=t.userAgent?`${t.userAgent} ${fk}`:fk,t.baseUrl&&(i.baseUrl=t.baseUrl),t.previews&&(i.mediaType.previews=t.previews),t.timeZone&&(i.headers["time-zone"]=t.timeZone),this.request=Be.defaults(i),this.graphql=uk(this.request).defaults(i),this.log=Object.assign({debug:hk,info:hk,warn:dH,error:hH},t.log),this.hook=r,t.authStrategy){let o=t,{authStrategy:a}=o,c=gn(o,["authStrategy"]),u=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:c},t.auth));r.wrap("request",u.hook),this.auth=u}else if(!t.auth)this.auth=()=>b(this,null,function*(){return{type:"unauthenticated"}});else{let a=dk(t.auth);r.wrap("request",a.hook),this.auth=a}let s=this.constructor;for(let a=0;a<s.plugins.length;++a)Object.assign(this,s.plugins[a](this,t))}request;graphql;log;hook;auth}return n})();function fH(n){let e=n.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(e.baseUrl)?"https://github.com":e.baseUrl.replace("/api/v3","")}function kp(n,e,t){return b(this,null,function*(){let r=M({baseUrl:fH(n),headers:{accept:"application/json"}},t),i=yield n(e,r);if("error"in i.data){let s=new li(`${i.data.error_description} (${i.data.error}, ${i.data.error_uri})`,400,{request:n.endpoint.merge(e,r)});throw s.response=i,s}return i})}function yk(n){return b(this,null,function*(){let e=n.request||Be,t=yield kp(e,"POST /login/oauth/access_token",{client_id:n.clientId,client_secret:n.clientSecret,code:n.code,redirect_uri:n.redirectUrl}),r={clientType:n.clientType,clientId:n.clientId,clientSecret:n.clientSecret,token:t.data.access_token,scopes:t.data.scope.split(/\s+/).filter(Boolean)};if(n.clientType==="github-app"){if("refresh_token"in t.data){let i=new Date(t.headers.date).getTime();r.refreshToken=t.data.refresh_token,r.expiresAt=pk(i,t.data.expires_in),r.refreshTokenExpiresAt=pk(i,t.data.refresh_token_expires_in)}delete r.scopes}return te(M({},t),{authentication:r})})}function pk(n,e){return new Date(n+e*1e3).toISOString()}function vk(n){return b(this,null,function*(){let e=n.request||Be,t={client_id:n.clientId};return"scopes"in n&&Array.isArray(n.scopes)&&(t.scope=n.scopes.join(" ")),kp(e,"POST /login/device/code",t)})}function v0(n){return b(this,null,function*(){let e=n.request||Be,t=yield kp(e,"POST /login/oauth/access_token",{client_id:n.clientId,device_code:n.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),r={clientType:n.clientType,clientId:n.clientId,token:t.data.access_token,scopes:t.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in n&&(r.clientSecret=n.clientSecret),n.clientType==="github-app"){if("refresh_token"in t.data){let i=new Date(t.headers.date).getTime();r.refreshToken=t.data.refresh_token,r.expiresAt=gk(i,t.data.expires_in),r.refreshTokenExpiresAt=gk(i,t.data.refresh_token_expires_in)}delete r.scopes}return te(M({},t),{authentication:r})})}function gk(n,e){return new Date(n+e*1e3).toISOString()}function wk(n){return b(this,null,function*(){let t=yield(n.request||Be)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`},client_id:n.clientId,access_token:n.token}),r={clientType:n.clientType,clientId:n.clientId,clientSecret:n.clientSecret,token:n.token,scopes:t.data.scopes};return t.data.expires_at&&(r.expiresAt=t.data.expires_at),n.clientType==="github-app"&&delete r.scopes,te(M({},t),{authentication:r})})}function _k(n){return b(this,null,function*(){let e=n.request||Be,t=yield kp(e,"POST /login/oauth/access_token",{client_id:n.clientId,client_secret:n.clientSecret,grant_type:"refresh_token",refresh_token:n.refreshToken}),r=new Date(t.headers.date).getTime(),i={clientType:"github-app",clientId:n.clientId,clientSecret:n.clientSecret,token:t.data.access_token,refreshToken:t.data.refresh_token,expiresAt:mk(r,t.data.expires_in),refreshTokenExpiresAt:mk(r,t.data.refresh_token_expires_in)};return te(M({},t),{authentication:i})})}function mk(n,e){return new Date(n+e*1e3).toISOString()}function Ek(n){return b(this,null,function*(){let e=n.request||Be,t=btoa(`${n.clientId}:${n.clientSecret}`),r=yield e("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${t}`},client_id:n.clientId,access_token:n.token}),i={clientType:n.clientType,clientId:n.clientId,clientSecret:n.clientSecret,token:r.data.token,scopes:r.data.scopes};return r.data.expires_at&&(i.expiresAt=r.data.expires_at),n.clientType==="github-app"&&delete i.scopes,te(M({},r),{authentication:i})})}function Ik(n){return b(this,null,function*(){let e=n.request||Be,t=btoa(`${n.clientId}:${n.clientSecret}`);return e("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${t}`},client_id:n.clientId,access_token:n.token})})}function bk(n){return b(this,null,function*(){let e=n.request||Be,t=btoa(`${n.clientId}:${n.clientSecret}`);return e("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${t}`},client_id:n.clientId,access_token:n.token})})}function Ck(n,e){return b(this,null,function*(){let t=pH(n,e.auth);if(t)return t;let{data:r}=yield vk({clientType:n.clientType,clientId:n.clientId,request:e.request||n.request,scopes:e.auth.scopes||n.scopes});yield n.onVerification(r);let i=yield w0(e.request||n.request,n.clientId,n.clientType,r);return n.authentication=i,i})}function pH(n,e){if(e.refresh===!0||!n.authentication)return!1;if(n.clientType==="github-app")return n.authentication;let t=n.authentication,r=("scopes"in e&&e.scopes||n.scopes).join(" "),i=t.scopes.join(" ");return r===i?t:!1}function Dk(n){return b(this,null,function*(){yield new Promise(e=>setTimeout(e,n*1e3))})}function w0(n,e,t,r){return b(this,null,function*(){try{let i={clientId:e,request:n,code:r.device_code},{authentication:s}=t==="oauth-app"?yield v0(te(M({},i),{clientType:"oauth-app"})):yield v0(te(M({},i),{clientType:"github-app"}));return M({type:"token",tokenType:"oauth"},s)}catch(i){if(!i.response)throw i;let s=i.response.data.error;if(s==="authorization_pending")return yield Dk(r.interval),w0(n,e,t,r);if(s==="slow_down")return yield Dk(r.interval+5),w0(n,e,t,r);throw i}})}function gH(n,e){return b(this,null,function*(){return Ck(n,{auth:e})})}function mH(n,e,t,r){return b(this,null,function*(){let i=e.endpoint.merge(t,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);let{token:s}=yield Ck(n,{request:e,auth:{type:"oauth"}});return i.headers.authorization=`token ${s}`,e(i)})}var yH="0.0.0-development";function Tk(n){let e=n.request||Be.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${yH} ${Xt()}`}}),s=n,{request:t=e}=s,r=gn(s,["request"]),i=n.clientType==="github-app"?te(M({},r),{clientType:"github-app",request:t}):te(M({},r),{clientType:"oauth-app",request:t,scopes:n.scopes||[]});if(!n.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!n.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(gH.bind(null,i),{hook:mH.bind(null,i)})}var Ak="0.0.0-development";function Sk(n){return b(this,null,function*(){if("code"in n.strategyOptions){let{authentication:e}=yield yk(te(M({clientId:n.clientId,clientSecret:n.clientSecret,clientType:n.clientType,onTokenCreated:n.onTokenCreated},n.strategyOptions),{request:n.request}));return M({type:"token",tokenType:"oauth"},e)}if("onVerification"in n.strategyOptions){let t=yield Tk(te(M({clientType:n.clientType,clientId:n.clientId,onTokenCreated:n.onTokenCreated},n.strategyOptions),{request:n.request}))({type:"oauth"});return M({clientSecret:n.clientSecret},t)}if("token"in n.strategyOptions)return M({type:"token",tokenType:"oauth",clientId:n.clientId,clientSecret:n.clientSecret,clientType:n.clientType,onTokenCreated:n.onTokenCreated},n.strategyOptions);throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")})}function _0(t){return b(this,arguments,function*(n,e={}){if(n.authentication||(n.authentication=n.clientType==="oauth-app"?yield Sk(n):yield Sk(n)),n.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");let r=n.authentication;if("expiresAt"in r&&(e.type==="refresh"||new Date(r.expiresAt)<new Date)){let{authentication:i}=yield _k({clientType:"github-app",clientId:n.clientId,clientSecret:n.clientSecret,refreshToken:r.refreshToken,request:n.request});n.authentication=M({tokenType:"oauth",type:"token"},i)}if(e.type==="refresh"){if(n.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing");yield n.onTokenCreated?.(n.authentication,{type:e.type})}if(e.type==="check"||e.type==="reset"){let i=e.type==="check"?wk:Ek;try{let{authentication:s}=yield i({clientType:n.clientType,clientId:n.clientId,clientSecret:n.clientSecret,token:n.authentication.token,request:n.request});return n.authentication=M({tokenType:"oauth",type:"token"},s),e.type==="reset"&&(yield n.onTokenCreated?.(n.authentication,{type:e.type})),n.authentication}catch(s){throw s.status===404&&(s.message="[@octokit/auth-oauth-user] Token is invalid",n.authentication.invalid=!0),s}}if(e.type==="delete"||e.type==="deleteAuthorization"){let i=e.type==="delete"?Ik:bk;try{yield i({clientType:n.clientType,clientId:n.clientId,clientSecret:n.clientSecret,token:n.authentication.token,request:n.request})}catch(s){if(s.status!==404)throw s}return n.authentication.invalid=!0,n.authentication}return n.authentication})}var vH=/\/applications\/[^/]+\/(token|grant)s?/;function Tu(n){return n&&vH.test(n)}function wH(i,s,o){return b(this,arguments,function*(n,e,t,r={}){let a=e.endpoint.merge(t,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(a.url))return e(a);if(Tu(a.url)){let u=btoa(`${n.clientId}:${n.clientSecret}`);return a.headers.authorization=`basic ${u}`,e(a)}let{token:c}=n.clientType==="oauth-app"?yield _0(te(M({},n),{request:e})):yield _0(te(M({},n),{request:e}));return a.headers.authorization="token "+c,e(a)})}function Np(o){var a=o,{clientId:n,clientSecret:e,clientType:t="oauth-app",request:r=Be.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Ak} ${Xt()}`}}),onTokenCreated:i}=a,s=gn(a,["clientId","clientSecret","clientType","request","onTokenCreated"]);let c=Object.assign({clientType:t,clientId:n,clientSecret:e,onTokenCreated:i,strategyOptions:s,request:r});return Object.assign(_0.bind(null,c),{hook:wH.bind(null,c)})}Np.VERSION=Ak;function _H(n,e){return b(this,null,function*(){if(e.type==="oauth-app")return{type:"oauth-app",clientId:n.clientId,clientSecret:n.clientSecret,clientType:n.clientType,headers:{authorization:`basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}};if("factory"in e){let i=M(M({},e),n),{type:s}=i,o=gn(i,["type"]);return e.factory(o)}let t=M({clientId:n.clientId,clientSecret:n.clientSecret,request:n.request},e);return(n.clientType==="oauth-app"?yield Np(te(M({},t),{clientType:n.clientType})):yield Np(te(M({},t),{clientType:n.clientType})))()})}function EH(n,e,t,r){return b(this,null,function*(){let i=e.endpoint.merge(t,r);if(/\/login\/(oauth\/access_token|device\/code)$/.test(i.url))return e(i);if(n.clientType==="github-app"&&!Tu(i.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${i.method} ${i.url}" is not supported.`);let s=btoa(`${n.clientId}:${n.clientSecret}`);i.headers.authorization=`basic ${s}`;try{return yield e(i)}catch(o){throw o.status!==401||(o.message=`[@octokit/auth-oauth-app] "${i.method} ${i.url}" does not support clientId/clientSecret basic authentication.`),o}})}var IH="0.0.0-development";function xk(n){let e=Object.assign({request:Be.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${IH} ${Xt()}`}}),clientType:"oauth-app"},n);return Object.assign(_H.bind(null,e),{hook:EH.bind(null,e)})}function Rk(n){return n.includes("-----BEGIN RSA PRIVATE KEY-----")}function kk(n){return n.includes("-----BEGIN OPENSSH PRIVATE KEY-----")}function E0(n){let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0,i=n.length;r<i;r++)t[r]=n.charCodeAt(r);return e}function Nk(n){let e=n.trim().split(`
`).slice(1,-1).join(""),t=atob(e);return E0(t)}function Pk(n,e){return`${Mk(n)}.${Mk(e)}`}function Ok(n){for(var e="",t=new Uint8Array(n),r=t.byteLength,i=0;i<r;i++)e+=String.fromCharCode(t[i]);return Fk(btoa(e))}function Fk(n){return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mk(n){return Fk(btoa(JSON.stringify(n)))}var{subtle:I0}=globalThis.crypto;function Vk(t){return b(this,arguments,function*({privateKey:n,payload:e}){let r=n;if(Rk(r))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");if(kk(r))throw new Error("[universal-github-app-jwt] Private Key is in OpenSSH format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#private-key-formats");let i={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},s={alg:"RS256",typ:"JWT"},o=Nk(r),a=yield I0.importKey("pkcs8",o,i,!1,["sign"]),c=Pk(s,e),u=E0(c),d=yield I0.sign(i.name,a,u),f=Ok(d);return`${c}.${f}`})}function b0(r){return b(this,arguments,function*({id:n,privateKey:e,now:t=Math.floor(Date.now()/1e3)}){let i=e.replace(/\\n/g,`
`),s=t-30,o=s+60*10,c=yield Vk({privateKey:i,payload:{iat:s,exp:o,iss:n}});return{appId:n,expiration:o,token:c}})}var Za=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,jk=new Set,D0=typeof process=="object"&&process?process:{},Uk=(n,e,t,r)=>{typeof D0.emitWarning=="function"?D0.emitWarning(n,e,t,r):console.error(`[${t}] ${e}: ${n}`)},Pp=globalThis.AbortController,Lk=globalThis.AbortSignal;if(typeof Pp>"u"){Lk=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,i){this._onabort.push(i)}},Pp=class{constructor(){e()}signal=new Lk;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(let i of this.signal._onabort)i(r);this.signal.onabort?.(r)}}};let n=D0.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{n&&(n=!1,Uk("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var bH=n=>!jk.has(n),Tte=Symbol("type"),ts=n=>n&&n===Math.floor(n)&&n>0&&isFinite(n),Bk=n=>ts(n)?n<=Math.pow(2,8)?Uint8Array:n<=Math.pow(2,16)?Uint16Array:n<=Math.pow(2,32)?Uint32Array:n<=Number.MAX_SAFE_INTEGER?Ja:null:null,Ja=class extends Array{constructor(e){super(e),this.fill(0)}},C0=class n{heap;length;static#s=!1;static create(e){let t=Bk(e);if(!t)return[];n.#s=!0;let r=new n(e,t);return n.#s=!1,r}constructor(e,t){if(!n.#s)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Op=class n{#s;#l;#g;#m;#M;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#r;#n;#e;#u;#h;#c;#o;#v;#a;#w;#_;#f;#E;#T;#d;static unsafeExposeInternals(e){return{starts:e.#_,ttls:e.#f,sizes:e.#w,keyMap:e.#r,keyList:e.#n,valList:e.#e,next:e.#u,prev:e.#h,get head(){return e.#c},get tail(){return e.#o},free:e.#v,isBackgroundFetch:t=>e.#t(t),backgroundFetch:(t,r,i,s)=>e.#P(t,r,i,s),moveToTail:t=>e.#x(t),indexes:t=>e.#I(t),rindexes:t=>e.#b(t),isStale:t=>e.#p(t)}}get max(){return this.#s}get maxSize(){return this.#l}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#M}get memoMethod(){return this.#R}get dispose(){return this.#g}get disposeAfter(){return this.#m}constructor(e){let{max:t=0,ttl:r,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:g,maxSize:m=0,maxEntrySize:w=0,sizeCalculation:D,fetchMethod:C,memoMethod:F,noDeleteOnFetchRejection:L,noDeleteOnStaleGet:j,allowStaleOnFetchRejection:H,allowStaleOnFetchAbort:ee,ignoreFetchAbort:Q}=e;if(t!==0&&!ts(t))throw new TypeError("max option must be a nonnegative integer");let I=t?Bk(t):Array;if(!I)throw new Error("invalid max value: "+t);if(this.#s=t,this.#l=m,this.maxEntrySize=w||this.#l,this.sizeCalculation=D,this.sizeCalculation){if(!this.#l&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(F!==void 0&&typeof F!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=F,C!==void 0&&typeof C!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#M=C,this.#T=!!C,this.#r=new Map,this.#n=new Array(t).fill(void 0),this.#e=new Array(t).fill(void 0),this.#u=new I(t),this.#h=new I(t),this.#c=0,this.#o=0,this.#v=C0.create(t),this.#i=0,this.#y=0,typeof u=="function"&&(this.#g=u),typeof d=="function"?(this.#m=d,this.#a=[]):(this.#m=void 0,this.#a=void 0),this.#E=!!this.#g,this.#d=!!this.#m,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!g,this.noDeleteOnFetchRejection=!!L,this.allowStaleOnFetchRejection=!!H,this.allowStaleOnFetchAbort=!!ee,this.ignoreFetchAbort=!!Q,this.maxEntrySize!==0){if(this.#l!==0&&!ts(this.#l))throw new TypeError("maxSize must be a positive integer if specified");if(!ts(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#B()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!j,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=ts(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!ts(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(this.#s===0&&this.ttl===0&&this.#l===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#s&&!this.#l){let v="LRU_CACHE_UNBOUNDED";bH(v)&&(jk.add(v),Uk("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",v,n))}}getRemainingTTL(e){return this.#r.has(e)?1/0:0}#O(){let e=new Ja(this.#s),t=new Ja(this.#s);this.#f=e,this.#_=t,this.#F=(s,o,a=Za.now())=>{if(t[s]=o!==0?a:0,e[s]=o,o!==0&&this.ttlAutopurge){let c=setTimeout(()=>{this.#p(s)&&this.#D(this.#n[s],"expire")},o+1);c.unref&&c.unref()}},this.#S=s=>{t[s]=e[s]!==0?Za.now():0},this.#C=(s,o)=>{if(e[o]){let a=e[o],c=t[o];if(!a||!c)return;s.ttl=a,s.start=c,s.now=r||i();let u=s.now-c;s.remainingTTL=a-u}};let r=0,i=()=>{let s=Za.now();if(this.ttlResolution>0){r=s;let o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{let o=this.#r.get(s);if(o===void 0)return 0;let a=e[o],c=t[o];if(!a||!c)return 1/0;let u=(r||i())-c;return a-u},this.#p=s=>{let o=t[s],a=e[s];return!!a&&!!o&&(r||i())-o>a}}#S=()=>{};#C=()=>{};#F=()=>{};#p=()=>!1;#B(){let e=new Ja(this.#s);this.#y=0,this.#w=e,this.#A=t=>{this.#y-=e[t],e[t]=0},this.#V=(t,r,i,s)=>{if(this.#t(r))return 0;if(!ts(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(r,t),!ts(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#k=(t,r,i)=>{if(e[t]=r,this.#l){let s=this.#l-e[t];for(;this.#y>s;)this.#N(!0)}this.#y+=e[t],i&&(i.entrySize=r,i.totalCalculatedSize=this.#y)}}#A=e=>{};#k=(e,t,r)=>{};#V=(e,t,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:e=this.allowStale}={}){if(this.#i)for(let t=this.#o;!(!this.#L(t)||((e||!this.#p(t))&&(yield t),t===this.#c));)t=this.#h[t]}*#b({allowStale:e=this.allowStale}={}){if(this.#i)for(let t=this.#c;!(!this.#L(t)||((e||!this.#p(t))&&(yield t),t===this.#o));)t=this.#u[t]}#L(e){return e!==void 0&&this.#r.get(this.#n[e])===e}*entries(){for(let e of this.#I())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(let e of this.#b())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(let e of this.#I()){let t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*rkeys(){for(let e of this.#b()){let t=this.#n[e];t!==void 0&&!this.#t(this.#e[e])&&(yield t)}}*values(){for(let e of this.#I())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#b())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(let r of this.#I()){let i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,this.#n[r],this))return this.get(this.#n[r],t)}}forEach(e,t=this){for(let r of this.#I()){let i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(t,s,this.#n[r],this)}}rforEach(e,t=this){for(let r of this.#b()){let i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;s!==void 0&&e.call(t,s,this.#n[r],this)}}purgeStale(){let e=!1;for(let t of this.#b({allowStale:!0}))this.#p(t)&&(this.#D(this.#n[t],"expire"),e=!0);return e}info(e){let t=this.#r.get(e);if(t===void 0)return;let r=this.#e[t],i=this.#t(r)?r.__staleWhileFetching:r;if(i===void 0)return;let s={value:i};if(this.#f&&this.#_){let o=this.#f[t],a=this.#_[t];if(o&&a){let c=o-(Za.now()-a);s.ttl=c,s.start=Date.now()}}return this.#w&&(s.size=this.#w[t]),s}dump(){let e=[];for(let t of this.#I({allowStale:!0})){let r=this.#n[t],i=this.#e[t],s=this.#t(i)?i.__staleWhileFetching:i;if(s===void 0||r===void 0)continue;let o={value:s};if(this.#f&&this.#_){o.ttl=this.#f[t];let a=Za.now()-this.#_[t];o.start=Math.floor(Date.now()-a)}this.#w&&(o.size=this.#w[t]),e.unshift([r,o])}return e}load(e){this.clear();for(let[t,r]of e){if(r.start){let i=Date.now()-r.start;r.start=Za.now()-i}this.set(t,r.value,r)}}set(e,t,r={}){if(t===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=r,{noUpdateTTL:u=this.noUpdateTTL}=r,d=this.#V(e,t,r.size||0,a);if(this.maxEntrySize&&d>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.#D(e,"set"),this;let f=this.#i===0?void 0:this.#r.get(e);if(f===void 0)f=this.#i===0?this.#o:this.#v.length!==0?this.#v.pop():this.#i===this.#s?this.#N(!1):this.#i,this.#n[f]=e,this.#e[f]=t,this.#r.set(e,f),this.#u[this.#o]=f,this.#h[f]=this.#o,this.#o=f,this.#i++,this.#k(f,d,c),c&&(c.set="add"),u=!1;else{this.#x(f);let g=this.#e[f];if(t!==g){if(this.#T&&this.#t(g)){g.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:m}=g;m!==void 0&&!o&&(this.#E&&this.#g?.(m,e,"set"),this.#d&&this.#a?.push([m,e,"set"]))}else o||(this.#E&&this.#g?.(g,e,"set"),this.#d&&this.#a?.push([g,e,"set"]));if(this.#A(f),this.#k(f,d,c),this.#e[f]=t,c){c.set="replace";let m=g&&this.#t(g)?g.__staleWhileFetching:g;m!==void 0&&(c.oldValue=m)}}else c&&(c.set="update")}if(i!==0&&!this.#f&&this.#O(),this.#f&&(u||this.#F(f,i,s),c&&this.#C(c,f)),!o&&this.#d&&this.#a){let g=this.#a,m;for(;m=g?.shift();)this.#m?.(...m)}return this}pop(){try{for(;this.#i;){let e=this.#e[this.#c];if(this.#N(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#d&&this.#a){let e=this.#a,t;for(;t=e?.shift();)this.#m?.(...t)}}}#N(e){let t=this.#c,r=this.#n[t],i=this.#e[t];return this.#T&&this.#t(i)?i.__abortController.abort(new Error("evicted")):(this.#E||this.#d)&&(this.#E&&this.#g?.(i,r,"evict"),this.#d&&this.#a?.push([i,r,"evict"])),this.#A(t),e&&(this.#n[t]=void 0,this.#e[t]=void 0,this.#v.push(t)),this.#i===1?(this.#c=this.#o=0,this.#v.length=0):this.#c=this.#u[t],this.#r.delete(r),this.#i--,t}has(e,t={}){let{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=t,s=this.#r.get(e);if(s!==void 0){let o=this.#e[s];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#p(s))i&&(i.has="stale",this.#C(i,s));else return r&&this.#S(s),i&&(i.has="hit",this.#C(i,s)),!0}else i&&(i.has="miss");return!1}peek(e,t={}){let{allowStale:r=this.allowStale}=t,i=this.#r.get(e);if(i===void 0||!r&&this.#p(i))return;let s=this.#e[i];return this.#t(s)?s.__staleWhileFetching:s}#P(e,t,r,i){let s=t===void 0?void 0:this.#e[t];if(this.#t(s))return s;let o=new Pp,{signal:a}=r;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let c={signal:o.signal,options:r,context:i},u=(D,C=!1)=>{let{aborted:F}=o.signal,L=r.ignoreFetchAbort&&D!==void 0;if(r.status&&(F&&!C?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,L&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),F&&!L&&!C)return f(o.signal.reason);let j=m;return this.#e[t]===m&&(D===void 0?j.__staleWhileFetching?this.#e[t]=j.__staleWhileFetching:this.#D(e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,D,c.options))),D},d=D=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=D),f(D)),f=D=>{let{aborted:C}=o.signal,F=C&&r.allowStaleOnFetchAbort,L=F||r.allowStaleOnFetchRejection,j=L||r.noDeleteOnFetchRejection,H=m;if(this.#e[t]===m&&(!j||H.__staleWhileFetching===void 0?this.#D(e,"fetch"):F||(this.#e[t]=H.__staleWhileFetching)),L)return r.status&&H.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),H.__staleWhileFetching;if(H.__returned===H)throw D},g=(D,C)=>{let F=this.#M?.(e,s,c);F&&F instanceof Promise&&F.then(L=>D(L===void 0?void 0:L),C),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(D(void 0),r.allowStaleOnFetchAbort&&(D=L=>u(L,!0)))})};r.status&&(r.status.fetchDispatched=!0);let m=new Promise(g).then(u,d),w=Object.assign(m,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return t===void 0?(this.set(e,w,te(M({},c.options),{status:void 0})),t=this.#r.get(e)):this.#e[t]=w,w}#t(e){if(!this.#T)return!1;let t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Pp}fetch(r){return b(this,arguments,function*(e,t={}){let{allowStale:i=this.allowStale,updateAgeOnGet:s=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:c=this.noDisposeOnSet,size:u=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:g=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:m=this.allowStaleOnFetchRejection,ignoreFetchAbort:w=this.ignoreFetchAbort,allowStaleOnFetchAbort:D=this.allowStaleOnFetchAbort,context:C,forceRefresh:F=!1,status:L,signal:j}=t;if(!this.#T)return L&&(L.fetch="get"),this.get(e,{allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:o,status:L});let H={allowStale:i,updateAgeOnGet:s,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:c,size:u,sizeCalculation:d,noUpdateTTL:f,noDeleteOnFetchRejection:g,allowStaleOnFetchRejection:m,allowStaleOnFetchAbort:D,ignoreFetchAbort:w,status:L,signal:j},ee=this.#r.get(e);if(ee===void 0){L&&(L.fetch="miss");let Q=this.#P(e,ee,H,C);return Q.__returned=Q}else{let Q=this.#e[ee];if(this.#t(Q)){let S=i&&Q.__staleWhileFetching!==void 0;return L&&(L.fetch="inflight",S&&(L.returnedStale=!0)),S?Q.__staleWhileFetching:Q.__returned=Q}let I=this.#p(ee);if(!F&&!I)return L&&(L.fetch="hit"),this.#x(ee),s&&this.#S(ee),L&&this.#C(L,ee),Q;let v=this.#P(e,ee,H,C),T=v.__staleWhileFetching!==void 0&&i;return L&&(L.fetch=I?"stale":"refresh",T&&I&&(L.returnedStale=!0)),T?v.__staleWhileFetching:v.__returned=v}})}forceFetch(r){return b(this,arguments,function*(e,t={}){let i=yield this.fetch(e,t);if(i===void 0)throw new Error("fetch() returned undefined");return i})}memo(e,t={}){let r=this.#R;if(!r)throw new Error("no memoMethod provided to constructor");let u=t,{context:i,forceRefresh:s}=u,o=gn(u,["context","forceRefresh"]),a=this.get(e,o);if(!s&&a!==void 0)return a;let c=r(e,a,{options:o,context:i});return this.set(e,c,o),c}get(e,t={}){let{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=t,a=this.#r.get(e);if(a!==void 0){let c=this.#e[a],u=this.#t(c);return o&&this.#C(o,a),this.#p(a)?(o&&(o.get="stale"),u?(o&&r&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.#D(e,"expire"),o&&r&&(o.returnedStale=!0),r?c:void 0)):(o&&(o.get="hit"),u?c.__staleWhileFetching:(this.#x(a),i&&this.#S(a),c))}else o&&(o.get="miss")}#j(e,t){this.#h[t]=e,this.#u[e]=t}#x(e){e!==this.#o&&(e===this.#c?this.#c=this.#u[e]:this.#j(this.#h[e],this.#u[e]),this.#j(this.#o,e),this.#o=e)}delete(e){return this.#D(e,"delete")}#D(e,t){let r=!1;if(this.#i!==0){let i=this.#r.get(e);if(i!==void 0)if(r=!0,this.#i===1)this.#U(t);else{this.#A(i);let s=this.#e[i];if(this.#t(s)?s.__abortController.abort(new Error("deleted")):(this.#E||this.#d)&&(this.#E&&this.#g?.(s,e,t),this.#d&&this.#a?.push([s,e,t])),this.#r.delete(e),this.#n[i]=void 0,this.#e[i]=void 0,i===this.#o)this.#o=this.#h[i];else if(i===this.#c)this.#c=this.#u[i];else{let o=this.#h[i];this.#u[o]=this.#u[i];let a=this.#u[i];this.#h[a]=this.#h[i]}this.#i--,this.#v.push(i)}}if(this.#d&&this.#a?.length){let i=this.#a,s;for(;s=i?.shift();)this.#m?.(...s)}return r}clear(){return this.#U("delete")}#U(e){for(let t of this.#b({allowStale:!0})){let r=this.#e[t];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{let i=this.#n[t];this.#E&&this.#g?.(r,i,e),this.#d&&this.#a?.push([r,i,e])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#f&&this.#_&&(this.#f.fill(0),this.#_.fill(0)),this.#w&&this.#w.fill(0),this.#c=0,this.#o=0,this.#v.length=0,this.#y=0,this.#i=0,this.#d&&this.#a){let t=this.#a,r;for(;r=t?.shift();)this.#m?.(...r)}}};function Fp(r){return b(this,arguments,function*({appId:n,privateKey:e,timeDifference:t}){try{let i=yield b0({id:n,privateKey:e,now:t&&Math.floor(Date.now()/1e3)+t});return{type:"app",token:i.token,appId:i.appId,expiresAt:new Date(i.expiration*1e3).toISOString()}}catch(i){throw e==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):i}})}function DH(){return new Op({max:15e3,ttl:1e3*60*59})}function CH(n,e){return b(this,null,function*(){let t=zk(e),r=yield n.get(t);if(!r)return;let[i,s,o,a,c,u]=r.split("|"),d=e.permissions||c.split(/,/).reduce((f,g)=>(/!$/.test(g)?f[g.slice(0,-1)]="write":f[g]="read",f),{});return{token:i,createdAt:s,expiresAt:o,permissions:d,repositoryIds:e.repositoryIds,repositoryNames:e.repositoryNames,singleFileName:u,repositorySelection:a}})}function TH(n,e,t){return b(this,null,function*(){let r=zk(e),i=e.permissions?"":Object.keys(t.permissions).map(o=>`${o}${t.permissions[o]==="write"?"!":""}`).join(","),s=[t.token,t.createdAt,t.expiresAt,t.repositorySelection,i,t.singleFileName].join("|");yield n.set(r,s)})}function zk({installationId:n,permissions:e={},repositoryIds:t=[],repositoryNames:r=[]}){let i=Object.keys(e).sort().map(a=>e[a]==="read"?a:`${a}!`).join(","),s=t.sort().join(","),o=r.join(",");return[n,s,o,i].filter(Boolean).join("|")}function $k({installationId:n,token:e,createdAt:t,expiresAt:r,repositorySelection:i,permissions:s,repositoryIds:o,repositoryNames:a,singleFileName:c}){return Object.assign({type:"token",tokenType:"installation",token:e,installationId:n,permissions:s,createdAt:t,expiresAt:r,repositorySelection:i},o?{repositoryIds:o}:null,a?{repositoryNames:a}:null,c?{singleFileName:c}:null)}function qk(n,e,t){return b(this,null,function*(){let r=Number(e.installationId||n.installationId);if(!r)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(e.factory){let L=M(M({},n),e),{type:j,factory:H,oauthApp:ee}=L,Q=gn(L,["type","factory","oauthApp"]);return H(Q)}let i=Object.assign({installationId:r},e);if(!e.refresh){let j=yield CH(n.cache,i);if(j){let{token:H,createdAt:ee,expiresAt:Q,permissions:I,repositoryIds:v,repositoryNames:_,singleFileName:T,repositorySelection:S}=j;return $k({installationId:r,token:H,createdAt:ee,expiresAt:Q,permissions:I,repositorySelection:S,repositoryIds:v,repositoryNames:_,singleFileName:T})}}let s=yield Fp(n),o=t||n.request,{data:{token:a,expires_at:c,repositories:u,permissions:d,repository_selection:f,single_file:g}}=yield o("POST /app/installations/{installation_id}/access_tokens",{installation_id:r,repository_ids:e.repositoryIds,repositories:e.repositoryNames,permissions:e.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${s.token}`}}),m=d||{},w=f||"all",D=u?u.map(j=>j.id):void 0,C=u?u.map(j=>j.name):void 0,F=new Date().toISOString();return yield TH(n.cache,i,{token:a,createdAt:F,expiresAt:c,repositorySelection:w,permissions:m,repositoryIds:D,repositoryNames:C,singleFileName:g}),$k({installationId:r,token:a,createdAt:F,expiresAt:c,repositorySelection:w,permissions:m,repositoryIds:D,repositoryNames:C,singleFileName:g})})}function SH(n,e){return b(this,null,function*(){switch(e.type){case"app":return Fp(n);case"oauth-app":return n.oauthApp({type:"oauth-app"});case"installation":return qk(n,te(M({},e),{type:"installation"}));case"oauth-user":return n.oauthApp(e);default:throw new Error(`Invalid auth type: ${e.type}`)}})}var AH=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/app/installation-requests","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function xH(n){let t=`^(?:${n.map(r=>r.split("/").map(i=>i.startsWith("{")?"(?:.+?)":i).join("/")).map(r=>`(?:${r})`).join("|")})$`;return new RegExp(t,"i")}var MH=xH(AH);function RH(n){return!!n&&MH.test(n.split("?")[0])}var kH=5*1e3;function NH(n){return!(n.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||n.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}function PH(n,e,t,r){return b(this,null,function*(){let i=e.endpoint.merge(t,r),s=i.url;if(/\/login\/oauth\/access_token$/.test(s))return e(i);if(RH(s.replace(e.endpoint.DEFAULTS.baseUrl,""))){let{token:c}=yield Fp(n);i.headers.authorization=`bearer ${c}`;let u;try{u=yield e(i)}catch(d){if(NH(d)||typeof d.response.headers.date>"u")throw d;let f=Math.floor((Date.parse(d.response.headers.date)-Date.parse(new Date().toString()))/1e3);n.log.warn(d.message),n.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${f} seconds. Retrying request with the difference accounted for.`);let{token:g}=yield Fp(te(M({},n),{timeDifference:f}));return i.headers.authorization=`bearer ${g}`,e(i)}return u}if(Tu(s)){let c=yield n.oauthApp({type:"oauth-app"});return i.headers.authorization=c.headers.authorization,e(i)}let{token:o,createdAt:a}=yield qk(n,{},e.defaults({baseUrl:i.baseUrl}));return i.headers.authorization=`token ${o}`,Hk(n,e,i,a)})}function Hk(n,e,t,r,i=0){return b(this,null,function*(){let s=+new Date-+new Date(r);try{return yield e(t)}catch(o){if(o.status!==401)throw o;if(s>=kH)throw i>0&&(o.message=`After ${i} retries within ${s/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),o;++i;let a=i*1e3;return n.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${i}, wait: ${a/1e3}s)`),yield new Promise(c=>setTimeout(c,a)),Hk(n,e,t,r,i)}})}var OH="7.1.1";function T0(n){if(!n.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!n.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in n&&!n.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");let e=Object.assign({warn:console.warn.bind(console)},n.log),t=n.request||Be.defaults({headers:{"user-agent":`octokit-auth-app.js/${OH} ${Xt()}`}}),r=Object.assign({request:t,cache:DH()},n,n.installationId?{installationId:Number(n.installationId)}:{},{log:e,oauthApp:xk({clientType:"github-app",clientId:n.clientId||"",clientSecret:n.clientSecret||"",request:t})});return Object.assign(SH.bind(null,r),{hook:PH.bind(null,r)})}var Ft=(()=>{let e=class e{constructor(r){this._http=r,this.applicationId="1012063",this.privateKey=`-----BEGIN PRIVATE KEY-----
  MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCnxYEcKaEsyRx7
  8VicDgz+XwMOECEVLtMWwmfn0bdilPKLVTJRZF12Hz0BAckilc3nW7tTAikDpXyw
  efTnmt9DQhI6mAlpfIx8l7yNoucj1xxOzclZy6noOke9CSjhu8UhcrRd6XoYGvQH
  vKjttln1tv0EgyIREnAbHNPhK8b1SpHE/MzaJs9yCNU4lidwmHEl/hw+lzrUp+O2
  7Gi38WLJEaycChXtq94b6z5866cqgi0pPz+FTQNHlRg2rei2XGfb7pHxzQPkouS1
  Cg+3NZ15cPv9jsAk15HRMr/1fV8xk4JZ+V403zlCAl6gKaogfeZbC+3OTPNKvw4o
  HVHlcSYPAgMBAAECggEAGjDcCgB5t9shhjvUIHCVGLTObkiYUY1AyOHKhMcZgNtN
  zfCb7VbkvEb+KAUWWD7YqRCJ+thwfLA9+fLgB7QGvKI45ErN1VjrOZwahGX0/YRc
  V/UKROlleep3PoyKhEri6GjWvX5wYAj9JaQPHyUDgDdz4ltyWwXs2F60uQczhSFB
  NIeF55lyN3/cqBUHNQalrlD64LXwZLzviS8dpTIH1Qsp+S7TJgGM9NgeQ8yYiyzz
  tduux+gu6IxgL1aOgBiBonRFZdfAySws1mUhYvPWr1fzn64kaYsiDqXwCdmKmzxx
  +RbXGWvKX/wctN6454E1UlTPWVVOx4SHZ4Yf03ulWQKBgQDb4ZQqHb0chwFvHTIW
  pIc5DMmepQ2+/syxXumjrNMpi3sltmnGNu/n7DebuiyZOaFlHrDKLcC4WO/ILPe6
  O1A/LjgliTsHiQYmaB/XRj5iy6pGYra0esxFuhWZeYTJ00yBwpWGpAh91TvpxGcR
  PweOToPvq+nZi6tgVbMRu5gUkwKBgQDDVJ1yPYSAhnBDGkXU8XQp1jrKkzxwO7Zo
  UDAJ69LbTmC6rw7s4ZRT6KmS/7p3g7HXz1HQaEN7u1fzie5I8AZvhE21y42w9+z2
  r41rW+Q/IM+3102L6Okm9o91aLCIozyWgoBWXuXM67/oj4HlXgTZOVeiGZAcwN7o
  2PUjkrpyFQKBgEts4RdlZiawBQTpnfH4dE5UnaDm+4UmAG9joH+93B2nNBImtbgB
  xl/nPtgTkBLrmvqGAZ0I/s/96hrfmgbvK8LQhwARSAd4sHxiQXHmLaZUOM+2MvhM
  G2BbyecAsVVOPzNP3Vz3TdZkXA3/il93II9nTYjcjvZKG/qKy0ds82kzAoGBAIAo
  KTFGKYSGMGvmdgDT9upoM6Sr29CrbO+eBRbNUkgvcYmqx/klvEMdeP0Iqlg14N5+
  mOhLMFOjRH52dhAG48IRJUds6Wc+E4x6/Cd/YA8HQSIWsjtksmytAsz+xiywJVV/
  BCMnGlFMMFqupYRPHpFDbTre2M30wYw2pQgVAh1NAoGBANDbSx25LnRwUlgsA1Go
  c6YXlZ+ggQfjYfCjMjj26I/nLzxCQe3Ghw/dSI0IVQ6kjFWkNVllEaA7ESxMKAtq
  W+9Tc4e7MN5sqQoTIos0um2l+7BJaft/14WB1GxQiK2grgff8BtiQQuUORBl/F4g
  D2tNDflWM97viVfizU9grXkW
  -----END PRIVATE KEY-----`,this.installationId="Iv23li7aCJeV1yPt8rcr",this.accessToken=null,this.fetchOptions={},this.httpHeaders=new Dn({Accept:"application/json"}),this.ghUser={authenticated:!1,name:"",login:"",avatar_url:"/assets/github-logo.png",email:""},this.token={access_token:"",scope:"",token_type:""},this.octokit=new y0({authStrategy:T0,auth:{appId:this.applicationId,privateKey:this.privateKey}})}getInstallationId(r){return b(this,null,function*(){this.installationId="";try{let i=yield this.octokit.request("GET /repos/{owner}/my/installation",{owner:r,repo:"my"});return i.status==200?(this.installationId=i.data.id,this.octokit=new y0({authStrategy:T0,auth:{appId:this.applicationId,privateKey:this.privateKey,installationId:this.installationId}}),this.installationId):null}catch(i){console.debug("Error fetching InstallationId :",i)}return null})}getJwtToken(r,i=""){return b(this,null,function*(){let s=null;if(r)try{yield this.getInstallationId(r)}catch(o){console.debug("Error fetching InstallationId :",o)}if(this.installationId)try{let o=yield this.octokit.auth({type:"app"});o.token&&(this.fetchOptions={headers:{Accept:"application/vnd.github.v3.raw",Authorization:`Bearer ${o.token}`,"X-GitHub-Api-Version":"2022-11-28"}},s=o.token)}catch(o){throw console.error("Error fetching JWT:",o),o}return s})}getAccessToken(r){return b(this,null,function*(){if(this.accessToken=null,this.installationId)try{let i=yield fetch(`https://api.github.com/app/installations/${this.installationId}/access_tokens`,te(M({},this.fetchOptions),{method:"POST"}));if(i.ok){let s=yield i.json();this.fetchOptions={headers:{"X-GitHub-Api-Version":"2022-11-28",Accept:"application/vnd.github.v3.raw",Authorization:`Bearer ${s.token}`}},this.accessToken=s.token}return this.accessToken}catch(i){throw console.error("Error fetching AccessToken:",i),i}return this.accessToken})}getInstalledContent(r,i="README.md"){return b(this,null,function*(){let s="Resource not Found";try{s=yield this.get(`repos/${r}/my/contents/${i}`)}catch(o){console.error("Error fetching repository:",o)}return s})}setToken(r){this.token=r}getSavedToken(){return this.ghUser.authenticated?this.token.access_token:""}getSavedUser(){return this.ghUser}isAuthenticated(){return this.ghUser.authenticated}setUserAuthenticated(r){this.ghUser.authenticated=r}setEmail(r){this.ghUser.email=r}getEmail(){return this.ghUser.email}setName(r){this.ghUser.name=r}setUserId(r){this.ghUser.login=r}getUserId(){return this.ghUser.login}setAvatar(r){return this.ghUser.avatar_url=r}creatHttpHeaders(r){return this.httpHeaders.append("Authorization","Bearer "+r)}getAuthUrl(){return`${he.gh_auth_url}?client_id=${he.client_id}`}getInstalledAccessToken(){return this.accessToken}hasInstalledAccessToken(){return this.accessToken!=null}getToken(r){return he.production?this._http.get(`${he.host}/ghproxy.php?code=${r}`):this._http.get(`${he.host}/token/ghproxy.php?code=${r}`)}getUser(r){return this._http.get(`${he.gh_api_url}/user`,{headers:this.creatHttpHeaders(r)})}getInternalArticleContent(r,i=""){return r=i?`${i}/${r}`:r,this.getMdFileContent(he.gh_default_user_repo,r)}getReadMeContent(r){let i=`${he.gh_dr_url}/${r}/${he.gh_dr_folder}/README.md`;return fetch(i,this.fetchOptions).then(s=>s.ok?s.text():Promise.reject("Resource not found"))}getMdFileContent(r,i){i=i.replace(/^\/?/,"")+(i.endsWith(".md")?"":".md");let s=Le.getGhUserFilePath(r,i,this.accessToken!=null);return fetch(s,this.fetchOptions).then(o=>o.ok?o.text():Promise.reject("Resource not found"))}getFileContent(r,i,s){return s=i?`${i}/${s}`:s,this.getMdFileContent(r,s)}getLocalFileContent(r){return fetch(r,this.fetchOptions).then(i=>i.ok?i:Promise.reject("Resource not found"))}getGhDirectoryContents(r,i=!0,s=""){let o=`${he.gh_api_url}/repos/${r}/my/git/trees/main`;i||(o=`${he.gh_api_url}/repos/${r}/my/contents/${s}?ref=main`),o+=i?"?recursive=1":"";let a={root:"/",files:[],folders:[]};return fetch(o,this.fetchOptions).then(c=>c.ok?c.json():Promise.reject("Directory not found")).then(c=>{let u;if(c.tree?u=c.tree:u=c,u&&u.forEach(d=>{if(d.type==="tree"||d.type==="dir"){let f=d.path.split("/")[0];a.folders.includes(f)||a.folders.push(f)}else(d.type==="file"||d.type==="blob"&&d.path!=".DS_Store")&&a.files.push(d.path)}),s){let d=Le.getFilesInFolder(a,s);a.root=s,a.files=d}return Promise.resolve(a)}).catch(c=>Promise.reject("Folder not found"))}getFirstCertificate(r="certificates"){return this.getGhDirectoryContents(he.gh_default_user_repo,!1,r).then(i=>{let s=i;return s.files&&s.files.length==0?Promise.reject(""):Promise.resolve(`${he.gh_dr_url}/${he.gh_default_user_repo}/${he.gh_dr_folder}/${s.files[0]}`)})}get(r){return fetch(`${he.gh_api_url}/${r}`,this.fetchOptions).then(i=>i.ok?i.text():Promise.reject("Resource not found"))}};e.\u0275fac=function(i){return new(i||e)(B(ri))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Gk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-webfront-jumbotron"]],decls:39,vars:0,consts:[[1,"masthead"],[1,"container","px-4","px-lg-5","d-flex","h-100","align-items-center","justify-content-center"],[1,"d-flex","justify-content-center"],[1,"text-center"],[1,"mx-auto","my-0","text-uppercase"],[1,"text-white-50","mx-auto","mt-2","mb-5"],["href","#about",1,"btn","btn-primary"],["id","about",1,"about-section","text-center"],[1,"container","px-lg-5"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"text-white","mb-4"],[1,"text-white-50"],[1,"row","py-4","justify-content-center"],["id","contactForm","data-sb-form-api-token","API_TOKEN",1,"form-signup"],[1,"row","input-group-newsletter","justify-content-center"],[1,"col-6"],["id","emailAddress","type","email","placeholder","Enter email address...","aria-label","Enter email address...","data-sb-validations","required,email",1,"form-control"],[1,"col-auto"],["id","submitButton","type","Submit","onclick","sendMessage()",1,"btn","btn-primary"],["data-sb-feedback","emailAddress:required",1,"invalid-feedback","mt-2"],["data-sb-feedback","emailAddress:email",1,"invalid-feedback","mt-2"],["id","submitSuccessMessage",1,"d-none"],[1,"text-center","mb-3","mt-2","text-white"],[1,"fw-bolder"],["href",""],["id","submitErrorMessage",1,"d-none"],[1,"text-center","text-danger","mb-3","mt-2"]],template:function(i,s){i&1&&(R(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),U(5,"Own your own Homepage"),P(),R(6,"h2",5),U(7,"Want to Own a Public Homepage ?"),P(),R(8,"a",6),U(9,"Get Started"),P()()()()(),R(10,"section",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"h2",11),U(15,"Your PublicHome.Page is Your secret sauce!"),P(),R(16,"div",12),U(17," Boost your business or portfolio's visibility to millions with a strong public presence. It's easy to get started ! Contact us today and elevate your brand. "),P()()(),R(18,"div",13)(19,"form",14)(20,"div",15)(21,"div",16),ce(22,"input",17),P(),R(23,"div",18)(24,"button",19),U(25,"Notify"),P()()(),R(26,"div",20),U(27,"An email is required."),P(),R(28,"div",21),U(29,"Email is not valid."),P(),R(30,"div",22)(31,"div",23)(32,"div",24),U(33,"Thank you for your interest!"),P(),ce(34,"br")(35,"a",25),P()(),R(36,"div",26)(37,"div",27),U(38,"Error sending message!"),P()()()()()())},dependencies:[JM,GM,C_]});let n=e;return n})();var Wk=(()=>{let e=class e{constructor(r,i,s){this.githubService=r,this.homePageFile=ne.readme_home;let o=s.snapshot.url[0];o&&o.path=="questions"&&(this.homePageFile=ne.fab_questions_list2)}};e.\u0275fac=function(i){return new(i||e)(z(Ft),z(jn),z(Tn))},e.\u0275cmp=Ae({type:e,selectors:[["app-webfront-main"]],decls:5,vars:1,consts:[[1,"container"],["id","questions",1,"row","justify-content-center"],[1,""],[1,"container",3,"src"]],template:function(i,s){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"markdown",3),U(4,`
            `),P()()()()),i&2&&(V(3),X("src",s.homePageFile))},dependencies:[Kn]});let n=e;return n})();var Kk=(()=>{let e=class e extends Yn{constructor(r,i,s,o){super(i),this.markdownService=r,this.githubService=i,this.titleService=s,this.metaService=o,this.messaging.event$.subscribe(a=>{switch(a.cmd){case"UserContext":ne.homeUser=ne.ghUser;break;case"UserDirectory":this.messaging.send({cmd:"PageFile",file:"HomeGHUser"});break;default:break}})}ngOnInit(){this.metaService.addTag({name:"keywords",content:"My Brand, Your brand, Your landing page, Resume Builder, Resume"}),this.metaService.addTag({name:"description",content:"Own your Own page ! Create your brand, Reach millions"})}ngOnDestroy(){}};e.\u0275fac=function(i){return new(i||e)(z(Zt),z(Ft),z(Cn),z(uM))},e.\u0275cmp=Ae({type:e,selectors:[["home"]],features:[ut],decls:2,vars:0,template:function(i,s){i&1&&ce(0,"app-webfront-jumbotron")(1,"app-webfront-main")},dependencies:[Gk,Wk]});let n=e;return n})();var LH=n=>({"text-center":n});function jH(n,e){if(n&1&&(R(0,"h2"),U(1),P()),n&2){let t=ue(2);V(),Ve(t.contacts_title)}}function UH(n,e){if(n&1&&(R(0,"a",15),ce(1,"i"),U(2),P()),n&2){let t=ue().$implicit,r=ue(2);Pn("href",r.availableLinks.get(t.key),ht),V(),Af("fa-brands fa-",t.key,""),va("color",r.iconsByKey.get(t.key)),V(),ft(" ",r.availableTexts.get(t.key),"")}}function BH(n,e){if(n&1&&(R(0,"a",15),U(1),P()),n&2){let t=ue().$implicit,r=ue(2);X("href",r.availableLinks.get(t.key),ht),V(),Ve(r.availableLinks.get(t.key))}}function $H(n,e){if(n&1&&(R(0,"div"),Ie(1,UH,3,7,"a",14)(2,BH,2,2,"ng-template",null,0,Ca),P()),n&2){let t=e.$implicit,r=Ia(3);V(),X("ngIf",t.key!="link")("ngIfElse",r)}}function zH(n,e){if(n&1&&(R(0,"div",9)(1,"div",10),ce(2,"img",11),R(3,"h5"),U(4),P(),R(5,"p"),U(6),P(),Ie(7,jH,2,1,"h2",12)(8,$H,4,2,"div",13),Ut(9,"keyvalue"),Ut(10,"slice"),P()()),n&2){let t=ue();V(2),Pn("src",t.userData.avatar_url,ht),V(2),Ve(t.userData.name||t.userData.login),V(2),Ve(t.userData.bio),V(),X("ngIf",t.contacts_title),V(),X("ngForOf",Da(10,7,On(9,5,t.availableLinks),0,7))}}function qH(n,e){if(n&1&&(R(0,"a",16),ce(1,"img",17),P()),n&2){let t=e.$implicit;V(),Pn("src",t,ht)}}var S0=(()=>{let e=class e extends Yn{constructor(r,i,s){super(i),this.markdownService=r,this.githubService=i,this.titleService=s,this.badgesAvailable=[],this.contactPageContent="Loading..",this.contactsContent="",this.availableLinks=new Map,this.availableTexts=new Map,this.iconsByKey=ne.iconsColorByKey,this.useUsersContent=!1,this.firstList=!0,this.firstHtml=!0,this.contacts_title="",this.userData={},this.certificateLink="",this.messaging.event$.subscribe(o=>{switch(o.cmd){case"UserContext":this.titleService.setTitle(ne.ghUser.name),this.userData=ne.ghUser,this.githubService.getMdFileContent(ne.ghUserLoaded,this.routerFileUrl).then(u=>this.contactPageContent=u);break;case"UserDirectory":let c=Le.getFilesInFolder(ne.userContext.directory,"certificates/badges");for(let u of c){let d=Le.getGhUserFilePath(ne.ghUserLoaded,u,this.githubService.hasInstalledAccessToken());this.badgesAvailable.push(d),this.badgesAvailable.length==1&&(this.certificateLink=this.badgesAvailable[0])}break;default:break}})}ngOnInit(){ne.contactLinksByKey.clear(),this.markdownService.renderer.html=r=>(this.useUsersContent=this.firstHtml?Le.getFirstLine(r)=="<!-- My Contacts -->":this.useUsersContent,this.firstHtml=!1,r),this.markdownService.renderer.list=(r,i,s)=>this.firstList||!this.useUsersContent?(this.firstList=!1,""):it.prototype.list.call(this.markdownService.renderer,r,i,s)}onMarkdownReady(){this.firstHtml,this.iconsByKey=ne.iconsColorByKey,this.availableLinks=ne.contactLinksByKey,this.availableTexts=ne.contactTextsByKey,this.messaging.send({cmd:"PageFile",file:"Contacts"})}};e.\u0275fac=function(i){return new(i||e)(z(Zt),z(Ft),z(Cn))},e.\u0275cmp=Ae({type:e,selectors:[["app-contact"]],features:[ut],decls:9,vars:6,consts:[["nonbrandLink",""],[1,"container"],[1,"row","justify-content-center",3,"ngClass"],[1,"col-lg-8"],[1,"container",3,"ready","data"],["class","row justify-content-center",4,"ngIf"],[1,"row"],[1,"d-flex","justify-content-center"],["href","/certificates",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],[1,"col-lg-6"],["alt","Passport Pic",1,"col-4","rounded-circle",3,"src"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","btn btn-outline-secondary my-2","style","width:100%","target","_blank",3,"href",4,"ngIf","ngIfElse"],["target","_blank",1,"btn","btn-outline-secondary","my-2",2,"width","100%",3,"href"],["href","/certificates"],["alt","Thumbnail Image",3,"src"]],template:function(i,s){i&1&&(R(0,"div",1)(1,"div",2)(2,"div",3)(3,"markdown",4),Me("ready",function(){return s.onMarkdownReady()}),U(4,`
            `),P()(),Ie(5,zH,11,11,"div",5),R(6,"div",6)(7,"div",7),Ie(8,qH,2,1,"a",8),P()()()()),i&2&&(V(),X("ngClass",Rf(4,LH,!s.useUsersContent)),V(2),X("data",s.contactPageContent),V(2),X("ngIf",!s.useUsersContent),V(3),X("ngForOf",s.badgesAvailable))},dependencies:[Aa,Qt,Yt,Kn,xa,Gi]});let n=e;return n})();function HH(n,e){if(n&1&&(R(0,"a",9),ce(1,"i"),P()),n&2){let t=ue().$implicit,r=ue();X("href",r.availableLinks.get(t.key),ht),V(),Af("fa-brands fa-",t.key,""),va("color",r.iconsByKey.get(t.key))}}function GH(n,e){if(n&1&&(R(0,"a",9),ce(1,"i",10),P()),n&2){let t=ue().$implicit,r=ue();X("href",r.availableLinks.get(t.key),ht)}}function WH(n,e){if(n&1&&(R(0,"li"),Ie(1,HH,2,6,"a",8)(2,GH,2,1,"ng-template",null,0,Ca),P()),n&2){let t=e.$implicit,r=Ia(3),i=ue();V(),X("ngIf",i.hasBrandLink(t.key))("ngIfElse",r)}}var Qk=(()=>{let e=class e{constructor(r,i,s){this.githubService=r,this.messaging=i,this.route=s,this.footerNote="Copyright",this.contactsFileUrl=ne.user_contacts,this.availableLinks=new Map,this.iconsByKey=ne.iconsColorByKey,this.oldRender={}}ngOnInit(){this.messaging.event$.subscribe(r=>{let i=r;switch(i.cmd){case"UserDirectory":this.footerNote="Powered By",this.loadContacts(ne.userContext.username);break;case"PageFile":switch(i.file){case"HomeGHUser":this.footerNote="Copyright";break;case"Contacts":this.availableLinks=ne.contactLinksByKey;break;default:break}break;default:break}}),this.loadContacts(he.gh_default_user_repo)}availableKeys(){return this.availableLinks.keys()}loadContacts(r){this.githubService.getMdFileContent(r,"contacts.md").then(i=>{ne.contactLinksByKey.clear(),this.parseMarkdownWithCustomRenderer(i)}).catch(i=>{console.log("Contacts not available")}).finally(()=>{this.availableLinks=ne.contactLinksByKey})}parseMarkdownWithCustomRenderer(r){let i=new it;return i.link=(s,o,a)=>{try{if(s){let u=new URL(s).hostname.replace("www.","");u=u.substring(0,u.lastIndexOf(".")),u=Le.closestHost(u),ne.contactLinksByKey.set(u,s),ne.iconsColorByKey.has(u)?ne.contactTextsByKey.set(u,this.getHostText(u)):ne.contactTextsByKey.set(u,a!=s?Le.unescape(a):this.getHostText(u))}}catch{}return it.prototype.link.call(i,s,o,a)},xe(r,{renderer:i})}hasBrandLink(r){return r!="link"&&ne.iconsColorByKey.get(r)}ngAfterViewInit(){}getHostText(r){switch(r){case"youtube":return"YouTube";case"github":return"Github";case"linkedin":return"Linkedin";default:break}return r}};e.\u0275fac=function(i){return new(i||e)(z(Ft),z(Jt),z(Tn))},e.\u0275cmp=Ae({type:e,selectors:[["app-footer"]],decls:12,vars:8,consts:[["nonbrandLink",""],["id","contact",1,"text-center"],[1,"container"],[1,"socials-media","text-center"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"credits"],["href","/"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["target","_blank",3,"href"],[1,"fa-solid","fa-link"]],template:function(i,s){i&1&&(R(0,"div",1)(1,"div",2)(2,"div",3)(3,"ul",4),Ie(4,WH,4,2,"li",5),Ut(5,"keyvalue"),Ut(6,"slice"),P()(),R(7,"div",6),U(8),R(9,"a",7),U(10,"www.publichome.page"),P(),U(11," All rights reserved. "),P()()()),i&2&&(V(4),X("ngForOf",Da(6,4,On(5,2,s.availableLinks),0,7)),V(4),ft(" ",s.footerNote," \xA9 "))},dependencies:[Qt,Yt,xa,Gi],styles:['#contact[_ngcontent-%COMP%]{background:#f7f7f7;padding-top:25px;padding-bottom:25px}#contact[_ngcontent-%COMP%]   .socials-media[_ngcontent-%COMP%]{width:100%}#contact[_ngcontent-%COMP%]   .socials-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block;float:none;margin:0}#contact[_ngcontent-%COMP%]   .socials-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;margin-left:10px;margin-right:10px}#contact[_ngcontent-%COMP%]   .socials-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:24px;color:#999;letter-spacing:.1em;font-weight:500;background:transparent;text-transform:uppercase;-moz-transition:all .5s ease-in-out 0s;-ms-transition:all .5s ease-in-out 0s;-o-transition:all .5s ease-in-out 0s;-webkit-transition:all .5s ease-in-out 0s;transition:all .5s ease-in-out 0s}#contact[_ngcontent-%COMP%]   .socials-media[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#b8a07e;-moz-transition:all .5s ease-in-out 0s;-ms-transition:all .5s ease-in-out 0s;-o-transition:all .5s ease-in-out 0s;-webkit-transition:all .5s ease-in-out 0s;transition:all .5s ease-in-out 0s}#contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.1em;font-weight:500;margin-top:0;text-transform:uppercase}.credits[_ngcontent-%COMP%]{font-size:13px}pre.code[_ngcontent-%COMP%]{white-space:pre-wrap}pre.code[_ngcontent-%COMP%]:before{counter-reset:listing}pre.code[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{counter-increment:listing}pre.code[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]:before{content:counter(listing) ". ";width:8em;padding-left:auto;margin-left:auto;text-align:right}']});let n=e;return n})();var Yk=(()=>{let e=class e{constructor(){this.WIT_URL="https://api.wit.ai/message?v=20211010&q=",this.WIT_TOKEN="GLM547LWVQYPHR6QWS5ADO3YYTB6ZRI3"}getIntent(r){return b(this,null,function*(){return fetch(`https://api.wit.ai/message?v=20211010&q=${encodeURIComponent(r.substring(0,250))}`,{headers:{Authorization:`Bearer ${this.WIT_TOKEN}`}}).then(i=>i.ok?i.json():Promise.reject(i.statusText))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Bt=[];for(Vp=0;Vp<256;++Vp)Bt.push((Vp+256).toString(16).slice(1));var Vp;function Zk(n,e=0){return(Bt[n[e+0]]+Bt[n[e+1]]+Bt[n[e+2]]+Bt[n[e+3]]+"-"+Bt[n[e+4]]+Bt[n[e+5]]+"-"+Bt[n[e+6]]+Bt[n[e+7]]+"-"+Bt[n[e+8]]+Bt[n[e+9]]+"-"+Bt[n[e+10]]+Bt[n[e+11]]+Bt[n[e+12]]+Bt[n[e+13]]+Bt[n[e+14]]+Bt[n[e+15]]).toLowerCase()}var Lp,QH=new Uint8Array(16);function A0(){if(!Lp&&(Lp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lp(QH)}var YH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),x0={randomUUID:YH};function ZH(n,e,t){if(x0.randomUUID&&!e&&!n)return x0.randomUUID();n=n||{};var r=n.random||(n.rng||A0)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Zk(r)}var M0=ZH;var Jk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xk={};var ns,R0;(function(){var n;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(T,S,x){for(var E=Array(arguments.length-2),jr=2;jr<arguments.length;jr++)E[jr-2]=arguments[jr];return v.prototype[S].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var T=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)T[S]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(S=0;16>S;++S)T[S]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],S=I.g[2];var x=I.g[3],E=v+(x^_&(S^x))+T[0]+3614090360&4294967295;v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+T[1]+3905402710&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+T[2]+606105819&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+T[3]+3250441966&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+T[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+T[5]+1200080426&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+T[6]+2821735955&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+T[7]+4249261313&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+T[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+T[9]+2336552879&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+T[10]+4294925233&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+T[11]+2304563134&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(x^_&(S^x))+T[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=x+(S^v&(_^S))+T[13]+4254626195&4294967295,x=v+(E<<12&4294967295|E>>>20),E=S+(_^x&(v^_))+T[14]+2792965006&4294967295,S=x+(E<<17&4294967295|E>>>15),E=_+(v^S&(x^v))+T[15]+1236535329&4294967295,_=S+(E<<22&4294967295|E>>>10),E=v+(S^x&(_^S))+T[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+T[6]+3225465664&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+T[11]+643717713&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+T[0]+3921069994&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+T[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+T[10]+38016083&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+T[15]+3634488961&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+T[4]+3889429448&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+T[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+T[14]+3275163606&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+T[3]+4107603335&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+T[8]+1163531501&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(S^x&(_^S))+T[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=x+(_^S&(v^_))+T[2]+4243563512&4294967295,x=v+(E<<9&4294967295|E>>>23),E=S+(v^_&(x^v))+T[7]+1735328473&4294967295,S=x+(E<<14&4294967295|E>>>18),E=_+(x^v&(S^x))+T[12]+2368359562&4294967295,_=S+(E<<20&4294967295|E>>>12),E=v+(_^S^x)+T[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+T[8]+2272392833&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+T[11]+1839030562&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+T[14]+4259657740&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+T[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+T[4]+1272893353&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+T[7]+4139469664&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+T[10]+3200236656&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+T[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+T[0]+3936430074&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+T[3]+3572445317&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+T[6]+76029189&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(_^S^x)+T[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=x+(v^_^S)+T[12]+3873151461&4294967295,x=v+(E<<11&4294967295|E>>>21),E=S+(x^v^_)+T[15]+530742520&4294967295,S=x+(E<<16&4294967295|E>>>16),E=_+(S^x^v)+T[2]+3299628645&4294967295,_=S+(E<<23&4294967295|E>>>9),E=v+(S^(_|~x))+T[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+T[7]+1126891415&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+T[14]+2878612391&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+T[5]+4237533241&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+T[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+T[3]+2399980690&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+T[10]+4293915773&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+T[1]+2240044497&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+T[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+T[15]+4264355552&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+T[6]+2734768916&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+T[13]+1309151649&4294967295,_=S+(E<<21&4294967295|E>>>11),E=v+(S^(_|~x))+T[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=x+(_^(v|~S))+T[11]+3174756917&4294967295,x=v+(E<<10&4294967295|E>>>22),E=S+(v^(x|~_))+T[2]+718787259&4294967295,S=x+(E<<15&4294967295|E>>>17),E=_+(x^(S|~v))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+x&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,T=this.B,S=this.h,x=0;x<v;){if(S==0)for(;x<=_;)i(this,I,x),x+=this.blockSize;if(typeof I=="string"){for(;x<v;)if(T[S++]=I.charCodeAt(x++),S==this.blockSize){i(this,T),S=0;break}}else for(;x<v;)if(T[S++]=I[x++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var T=0;32>T;T+=8)I[_++]=this.g[v]>>>T&255;return I};function s(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function o(I,v){this.h=v;for(var _=[],T=!0,S=I.length-1;0<=S;S--){var x=I[S]|0;T&&x==v||(_[S]=x,T=!1)}this.g=_}var a={};function c(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return C(u(-I));for(var v=[],_=1,T=0;I>=_;T++)v[T]=I/_|0,_*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return C(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(v,8)),T=f,S=0;S<I.length;S+=8){var x=Math.min(8,I.length-S),E=parseInt(I.substring(S,S+x),v);8>x?(x=u(Math.pow(v,x)),T=T.j(x).add(u(E))):(T=T.j(_),T=T.add(u(E)))}return T}var f=c(0),g=c(1),m=c(16777216);n=o.prototype,n.m=function(){if(D(this))return-C(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var T=this.i(_);I+=(0<=T?T:4294967296+T)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(D(this))return"-"+C(this).toString(I);for(var v=u(Math.pow(I,6)),_=this,T="";;){var S=H(_,v).g;_=F(_,S.j(v));var x=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=S,w(_))return x+T;for(;6>x.length;)x="0"+x;T=x+T}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function D(I){return I.h==-1}n.l=function(I){return I=F(this,I),D(I)?-1:w(I)?0:1};function C(I){for(var v=I.g.length,_=[],T=0;T<v;T++)_[T]=~I.g[T];return new o(_,~I.h).add(g)}n.abs=function(){return D(this)?C(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],T=0,S=0;S<=v;S++){var x=T+(this.i(S)&65535)+(I.i(S)&65535),E=(x>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);T=E>>>16,x&=65535,E&=65535,_[S]=E<<16|x}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(I,v){return I.add(C(v))}n.j=function(I){if(w(this)||w(I))return f;if(D(this))return D(I)?C(this).j(C(I)):C(C(this).j(I));if(D(I))return C(this.j(C(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],T=0;T<2*v;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<I.g.length;S++){var x=this.i(T)>>>16,E=this.i(T)&65535,jr=I.i(S)>>>16,Bc=I.i(S)&65535;_[2*T+2*S]+=E*Bc,L(_,2*T+2*S),_[2*T+2*S+1]+=x*Bc,L(_,2*T+2*S+1),_[2*T+2*S+1]+=E*jr,L(_,2*T+2*S+1),_[2*T+2*S+2]+=x*jr,L(_,2*T+2*S+2)}for(T=0;T<v;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=v;T<2*v;T++)_[T]=0;return new o(_,0)};function L(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function j(I,v){this.g=I,this.h=v}function H(I,v){if(w(v))throw Error("division by zero");if(w(I))return new j(f,f);if(D(I))return v=H(C(I),v),new j(C(v.g),C(v.h));if(D(v))return v=H(I,C(v)),new j(C(v.g),v.h);if(30<I.g.length){if(D(I)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,T=v;0>=T.l(I);)_=ee(_),T=ee(T);var S=Q(_,1),x=Q(T,1);for(T=Q(T,2),_=Q(_,2);!w(T);){var E=x.add(T);0>=E.l(I)&&(S=S.add(_),x=E),T=Q(T,1),_=Q(_,1)}return v=F(I,S.j(v)),new j(S,v)}for(S=f;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),x=u(_),E=x.j(v);D(E)||0<E.l(I);)_-=T,x=u(_),E=x.j(v);w(x)&&(x=g),S=S.add(x),I=F(I,E)}return new j(S,I)}n.A=function(I){return H(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)&I.i(T);return new o(_,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)|I.i(T);return new o(_,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],T=0;T<v;T++)_[T]=this.i(T)^I.i(T);return new o(_,this.h^I.h)};function ee(I){for(var v=I.g.length+1,_=[],T=0;T<v;T++)_[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(_,I.h)}function Q(I,v){var _=v>>5;v%=32;for(var T=I.g.length-_,S=[],x=0;x<T;x++)S[x]=0<v?I.i(x+_)>>>v|I.i(x+_+1)<<32-v:I.i(x+_);return new o(S,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,R0=Xk.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ns=Xk.Integer=o}).apply(typeof Jk<"u"?Jk:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={};var k0,JH,Xa,N0,Su,Up,P0,O0,F0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var A=l[y];if(!(A in p))break e;p=p[A]}l=l[l.length-1],y=p[l],h=h(y),h!=y&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,y=!1,A={next:function(){if(!y&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),l.apply(h,A)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function m(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function w(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(y,A,N){for(var Y=Array(arguments.length-2),He=2;He<arguments.length;He++)Y[He-2]=arguments[He];return h.prototype[A].apply(y,Y)}}function D(l){let h=l.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=l[y];return p}return[]}function C(l,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let A=l.length||0,N=y.length||0;l.length=A+N;for(let Y=0;Y<N;Y++)l[A+Y]=y[Y]}else l.push(y)}}class F{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function L(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function H(l){return H[" "](l),l}H[" "]=function(){};var ee=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Q(l,h,p){for(let y in l)h.call(p,l[y],y,l)}function I(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function v(l){let h={};for(let p in l)h[p]=l[p];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(l,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)l[p]=y[p];for(let N=0;N<_.length;N++)p=_[N],Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])}}function S(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function x(l){a.setTimeout(()=>{throw l},0)}function E(){var l=vm;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class jr{constructor(){this.h=this.g=null}add(h,p){let y=Bc.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var Bc=new F(()=>new nF,l=>l.reset());class nF{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $c,zc=!1,vm=new jr,nD=()=>{let l=a.Promise.resolve(void 0);$c=()=>{l.then(rF)}};var rF=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(p){x(p)}var h=Bc;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}zc=!1};function Ei(){this.s=this.s,this.C=this.C}Ei.prototype.s=!1,Ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var iF=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function qc(l,h){if(qt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ee){e:{try{H(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:sF[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qc.aa.h.call(this)}}w(qc,qt);var sF={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Hc="closure_listenable_"+(1e6*Math.random()|0),oF=0;function aF(l,h,p,y,A){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++oF,this.da=this.fa=!1}function yd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function vd(l){this.src=l,this.g={},this.h=0}vd.prototype.add=function(l,h,p,y,A){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var Y=_m(l,h,y,A);return-1<Y?(h=l[Y],p||(h.fa=!1)):(h=new aF(h,this.src,N,!!y,A),h.fa=p,l.push(h)),h};function wm(l,h){var p=h.type;if(p in l.g){var y=l.g[p],A=Array.prototype.indexOf.call(y,h,void 0),N;(N=0<=A)&&Array.prototype.splice.call(y,A,1),N&&(yd(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function _m(l,h,p,y){for(var A=0;A<l.length;++A){var N=l[A];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==y)return A}return-1}var Em="closure_lm_"+(1e6*Math.random()|0),Im={};function rD(l,h,p,y,A){if(y&&y.once)return sD(l,h,p,y,A);if(Array.isArray(h)){for(var N=0;N<h.length;N++)rD(l,h[N],p,y,A);return null}return p=Tm(p),l&&l[Hc]?l.K(h,p,u(y)?!!y.capture:!!y,A):iD(l,h,p,!1,y,A)}function iD(l,h,p,y,A,N){if(!h)throw Error("Invalid event type");var Y=u(A)?!!A.capture:!!A,He=Dm(l);if(He||(l[Em]=He=new vd(l)),p=He.add(h,p,y,Y,N),p.proxy)return p;if(y=cF(),p.proxy=y,y.src=l,y.listener=p,l.addEventListener)iF||(A=Y),A===void 0&&(A=!1),l.addEventListener(h.toString(),y,A);else if(l.attachEvent)l.attachEvent(aD(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function cF(){function l(p){return h.call(l.src,l.listener,p)}let h=lF;return l}function sD(l,h,p,y,A){if(Array.isArray(h)){for(var N=0;N<h.length;N++)sD(l,h[N],p,y,A);return null}return p=Tm(p),l&&l[Hc]?l.L(h,p,u(y)?!!y.capture:!!y,A):iD(l,h,p,!0,y,A)}function oD(l,h,p,y,A){if(Array.isArray(h))for(var N=0;N<h.length;N++)oD(l,h[N],p,y,A);else y=u(y)?!!y.capture:!!y,p=Tm(p),l&&l[Hc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=_m(N,p,y,A),-1<p&&(yd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Dm(l))&&(h=l.g[h.toString()],l=-1,h&&(l=_m(h,p,y,A)),(p=-1<l?h[l]:null)&&bm(p))}function bm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Hc])wm(h.i,l);else{var p=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(p,y,l.capture):h.detachEvent?h.detachEvent(aD(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=Dm(h))?(wm(p,l),p.h==0&&(p.src=null,h[Em]=null)):yd(l)}}}function aD(l){return l in Im?Im[l]:Im[l]="on"+l}function lF(l,h){if(l.da)l=!0;else{h=new qc(h,this);var p=l.listener,y=l.ha||l.src;l.fa&&bm(l),l=p.call(y,h)}return l}function Dm(l){return l=l[Em],l instanceof vd?l:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(l){return typeof l=="function"?l:(l[Cm]||(l[Cm]=function(h){return l.handleEvent(h)}),l[Cm])}function Ht(){Ei.call(this),this.i=new vd(this),this.M=this,this.F=null}w(Ht,Ei),Ht.prototype[Hc]=!0,Ht.prototype.removeEventListener=function(l,h,p,y){oD(this,l,h,p,y)};function nn(l,h){var p,y=l.F;if(y)for(p=[];y;y=y.F)p.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new qt(h,l);else if(h instanceof qt)h.target=h.target||l;else{var A=h;h=new qt(y,l),T(h,A)}if(A=!0,p)for(var N=p.length-1;0<=N;N--){var Y=h.g=p[N];A=wd(Y,y,!0,h)&&A}if(Y=h.g=l,A=wd(Y,y,!0,h)&&A,A=wd(Y,y,!1,h)&&A,p)for(N=0;N<p.length;N++)Y=h.g=p[N],A=wd(Y,y,!1,h)&&A}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],y=0;y<p.length;y++)yd(p[y]);delete l.g[h],l.h--}}this.F=null},Ht.prototype.K=function(l,h,p,y){return this.i.add(String(l),h,!1,p,y)},Ht.prototype.L=function(l,h,p,y){return this.i.add(String(l),h,!0,p,y)};function wd(l,h,p,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,N=0;N<h.length;++N){var Y=h[N];if(Y&&!Y.da&&Y.capture==p){var He=Y.listener,Vt=Y.ha||Y.src;Y.fa&&wm(l.i,Y),A=He.call(Vt,y)!==!1&&A}}return A&&!y.defaultPrevented}function cD(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function lD(l){l.g=cD(()=>{l.g=null,l.i&&(l.i=!1,lD(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class uF extends Ei{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:lD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gc(l){Ei.call(this),this.h=l,this.g={}}w(Gc,Ei);var uD=[];function dD(l){Q(l.g,function(h,p){this.g.hasOwnProperty(p)&&bm(h)},l),l.g={}}Gc.prototype.N=function(){Gc.aa.N.call(this),dD(this)},Gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sm=a.JSON.stringify,dF=a.JSON.parse,hF=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Am(){}Am.prototype.h=null;function hD(l){return l.h||(l.h=l.i())}function fD(){}var Wc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xm(){qt.call(this,"d")}w(xm,qt);function Mm(){qt.call(this,"c")}w(Mm,qt);var bs={},pD=null;function _d(){return pD=pD||new Ht}bs.La="serverreachability";function gD(l){qt.call(this,bs.La,l)}w(gD,qt);function Kc(l){let h=_d();nn(h,new gD(h))}bs.STAT_EVENT="statevent";function mD(l,h){qt.call(this,bs.STAT_EVENT,l),this.stat=h}w(mD,qt);function rn(l){let h=_d();nn(h,new mD(h,l))}bs.Ma="timingevent";function yD(l,h){qt.call(this,bs.Ma,l),this.size=h}w(yD,qt);function Qc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Yc(){this.g=!0}Yc.prototype.xa=function(){this.g=!1};function fF(l,h,p,y,A,N){l.info(function(){if(l.g)if(N)for(var Y="",He=N.split("&"),Vt=0;Vt<He.length;Vt++){var Oe=He[Vt].split("=");if(1<Oe.length){var Gt=Oe[0];Oe=Oe[1];var Wt=Gt.split("_");Y=2<=Wt.length&&Wt[1]=="type"?Y+(Gt+"="+Oe+"&"):Y+(Gt+"=redacted&")}}else Y=null;else Y=N;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+Y})}function pF(l,h,p,y,A,N,Y){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+N+" "+Y})}function Ro(l,h,p,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+mF(l,p)+(y?" "+y:"")})}function gF(l,h){l.info(function(){return"TIMEOUT: "+h})}Yc.prototype.info=function(){};function mF(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var y=p[l];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var Y=1;Y<A.length;Y++)A[Y]=""}}}}return Sm(p)}catch{return h}}var Ed={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rm;function Id(){}w(Id,Am),Id.prototype.g=function(){return new XMLHttpRequest},Id.prototype.i=function(){return{}},Rm=new Id;function Ii(l,h,p,y){this.j=l,this.i=h,this.l=p,this.R=y||1,this.U=new Gc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wD}function wD(){this.i=null,this.g="",this.h=!1}var _D={},km={};function Nm(l,h,p){l.L=1,l.v=Td(Ur(h)),l.m=p,l.P=!0,ED(l,null)}function ED(l,h){l.F=Date.now(),bd(l),l.A=Ur(l.v);var p=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),OD(p.i,"t",y),l.C=0,p=l.j.J,l.h=new wD,l.g=XD(l.j,p?h:null,!l.m),0<l.O&&(l.M=new uF(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,y=l.ca;var A="readystatechange";Array.isArray(A)||(A&&(uD[0]=A.toString()),A=uD);for(var N=0;N<A.length;N++){var Y=rD(p,A[N],y||h.handleEvent,!1,h.h||h);if(!Y)break;h.g[Y.key]=Y}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Kc(),fF(l.i,l.u,l.A,l.l,l.R,l.m)}Ii.prototype.ca=function(l){l=l.target;let h=this.M;h&&Br(l)==3?h.j():this.Y(l)},Ii.prototype.Y=function(l){try{if(l==this.g)e:{let Wt=Br(this.g);var h=this.g.Ba();let Po=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||$D(this.g)))){this.J||Wt!=4||h==7||(h==8||0>=Po?Kc(3):Kc(2)),Pm(this);var p=this.g.Z();this.X=p;t:if(ID(this)){var y=$D(this.g);l="";var A=y.length,N=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),Zc(this);var Y="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(N&&h==A-1)});y.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,pF(this.i,this.u,this.A,this.l,this.R,Wt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(He)){var Oe=He;break t}}Oe=null}if(p=Oe)Ro(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Om(this,p);else{this.o=!1,this.s=3,rn(12),Ds(this),Zc(this);break e}}if(this.P){p=!0;let er;for(;!this.J&&this.C<Y.length;)if(er=yF(this,Y),er==km){Wt==4&&(this.s=4,rn(14),p=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(er==_D){this.s=4,rn(15),Ro(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else Ro(this.i,this.l,er,null),Om(this,er);if(ID(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Y.length!=0||this.h.h||(this.s=1,rn(16),p=!1),this.o=this.o&&p,!p)Ro(this.i,this.l,Y,"[Invalid Chunked Response]"),Ds(this),Zc(this);else if(0<Y.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Bm(Gt),Gt.M=!0,rn(11))}}else Ro(this.i,this.l,Y,null),Om(this,Y);Wt==4&&Ds(this),this.o&&!this.J&&(Wt==4?QD(this.j,this):(this.o=!1,bd(this)))}else PF(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),Ds(this),Zc(this)}}}catch{}finally{}};function ID(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yF(l,h){var p=l.C,y=h.indexOf(`
`,p);return y==-1?km:(p=Number(h.substring(p,y)),isNaN(p)?_D:(y+=1,y+p>h.length?km:(h=h.slice(y,y+p),l.C=y+p,h)))}Ii.prototype.cancel=function(){this.J=!0,Ds(this)};function bd(l){l.S=Date.now()+l.I,bD(l,l.I)}function bD(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Qc(g(l.ba,l),h)}function Pm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ii.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(gF(this.i,this.A),this.L!=2&&(Kc(),rn(17)),Ds(this),this.s=2,Zc(this)):bD(this,this.S-l)};function Zc(l){l.j.G==0||l.J||QD(l.j,l)}function Ds(l){Pm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,dD(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Om(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Fm(p.h,l))){if(!l.K&&Fm(p.h,l)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Rd(p),xd(p);else break e;Um(p),rn(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=Qc(g(p.Za,p),6e3));if(1>=TD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ts(p,11)}else if((l.K||p.g==l)&&Rd(p),!L(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Oe=A[h];if(p.T=Oe[0],Oe=Oe[1],p.G==2)if(Oe[0]=="c"){p.K=Oe[1],p.ia=Oe[2];let Gt=Oe[3];Gt!=null&&(p.la=Gt,p.j.info("VER="+p.la));let Wt=Oe[4];Wt!=null&&(p.Aa=Wt,p.j.info("SVER="+p.Aa));let Po=Oe[5];Po!=null&&typeof Po=="number"&&0<Po&&(y=1.5*Po,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let er=l.g;if(er){let Nd=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nd){var N=y.h;N.g||Nd.indexOf("spdy")==-1&&Nd.indexOf("quic")==-1&&Nd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Vm(N,N.h),N.h=null))}if(y.D){let $m=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(y.ya=$m,Je(y.I,y.D,$m))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var Y=l;if(y.qa=JD(y,y.J?y.ia:null,y.W),Y.K){SD(y.h,Y);var He=Y,Vt=y.L;Vt&&(He.I=Vt),He.B&&(Pm(He),bd(He)),y.g=Y}else WD(y);0<p.i.length&&Md(p)}else Oe[0]!="stop"&&Oe[0]!="close"||Ts(p,7);else p.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ts(p,7):jm(p):Oe[0]!="noop"&&p.l&&p.l.ta(Oe),p.v=0)}}Kc(4)}catch{}}var vF=class{constructor(l,h){this.g=l,this.map=h}};function DD(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CD(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function TD(l){return l.h?1:l.g?l.g.size:0}function Fm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Vm(l,h){l.g?l.g.add(h):l.h=h}function SD(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}DD.prototype.cancel=function(){if(this.i=AD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function AD(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return D(l.i)}function wF(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,y=0;y<p;y++)h.push(l[y]);return h}h=[],p=0;for(y in l)h[p++]=l[y];return h}function _F(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let y in l)h[p++]=y;return h}}}function xD(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=_F(l),y=wF(l),A=y.length,N=0;N<A;N++)h.call(void 0,y[N],p&&p[N],l)}var MD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EF(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var y=l[p].indexOf("="),A=null;if(0<=y){var N=l[p].substring(0,y);A=l[p].substring(y+1)}else N=l[p];h(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Cs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Cs){this.h=l.h,Dd(this,l.j),this.o=l.o,this.g=l.g,Cd(this,l.s),this.l=l.l;var h=l.i,p=new el;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),RD(this,p),this.m=l.m}else l&&(h=String(l).match(MD))?(this.h=!1,Dd(this,h[1]||"",!0),this.o=Jc(h[2]||""),this.g=Jc(h[3]||"",!0),Cd(this,h[4]),this.l=Jc(h[5]||"",!0),RD(this,h[6]||"",!0),this.m=Jc(h[7]||"")):(this.h=!1,this.i=new el(null,this.h))}Cs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Xc(h,kD,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Xc(h,kD,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Xc(p,p.charAt(0)=="/"?DF:bF,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Xc(p,TF)),l.join("")};function Ur(l){return new Cs(l)}function Dd(l,h,p){l.j=p?Jc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Cd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function RD(l,h,p){h instanceof el?(l.i=h,SF(l.i,l.h)):(p||(h=Xc(h,CF)),l.i=new el(h,l.h))}function Je(l,h,p){l.i.set(h,p)}function Td(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Jc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Xc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,IF),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function IF(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var kD=/[#\/\?@]/g,bF=/[#\?:]/g,DF=/[#\?]/g,CF=/[#\?@]/g,TF=/#/g;function el(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function bi(l){l.g||(l.g=new Map,l.h=0,l.i&&EF(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=el.prototype,n.add=function(l,h){bi(this),this.i=null,l=ko(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function ND(l,h){bi(l),h=ko(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function PD(l,h){return bi(l),h=ko(l,h),l.g.has(h)}n.forEach=function(l,h){bi(this),this.g.forEach(function(p,y){p.forEach(function(A){l.call(h,A,y,this)},this)},this)},n.na=function(){bi(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=l[y];for(let N=0;N<A.length;N++)p.push(h[y])}return p},n.V=function(l){bi(this);let h=[];if(typeof l=="string")PD(this,l)&&(h=h.concat(this.g.get(ko(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},n.set=function(l,h){return bi(this),this.i=null,l=ko(this,l),PD(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function OD(l,h,p){ND(l,h),0<p.length&&(l.i=null,l.g.set(ko(l,h),D(p)),l.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let N=encodeURIComponent(String(y)),Y=this.V(y);for(y=0;y<Y.length;y++){var A=N;Y[y]!==""&&(A+="="+encodeURIComponent(String(Y[y]))),l.push(A)}}return this.i=l.join("&")};function ko(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function SF(l,h){h&&!l.j&&(bi(l),l.i=null,l.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(ND(this,y),OD(this,A,p))},l)),l.j=h}function AF(l,h){let p=new Yc;if(a.Image){let y=new Image;y.onload=m(Di,p,"TestLoadImage: loaded",!0,h,y),y.onerror=m(Di,p,"TestLoadImage: error",!1,h,y),y.onabort=m(Di,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=m(Di,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function xF(l,h){let p=new Yc,y=new AbortController,A=setTimeout(()=>{y.abort(),Di(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(N=>{clearTimeout(A),N.ok?Di(p,"TestPingServer: ok",!0,h):Di(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),Di(p,"TestPingServer: error",!1,h)})}function Di(l,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function MF(){this.g=new hF}function RF(l,h,p){let y=p||"";try{xD(l,function(A,N){let Y=A;u(A)&&(Y=Sm(A)),h.push(y+N+"="+encodeURIComponent(Y))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function tl(l){this.l=l.Ub||null,this.j=l.eb||!1}w(tl,Am),tl.prototype.g=function(){return new Sd(this.l,this.j)},tl.prototype.i=function(l){return function(){return l}}({});function Sd(l,h){Ht.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Sd,Ht),n=Sd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,rl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FD(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function FD(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?nl(this):rl(this),this.readyState==3&&FD(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,nl(this))},n.Qa=function(l){this.g&&(this.response=l,nl(this))},n.ga=function(){this.g&&nl(this)};function nl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,rl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function rl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function VD(l){let h="";return Q(l,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Lm(l,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=VD(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Je(l,h,p))}function at(l){Ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(at,Ht);var kF=/^https?$/i,NF=["POST","PUT"];n=at.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rm.g(),this.v=this.o?hD(this.o):hD(Rm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){LD(this,N);return}if(l=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())p.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NF,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,Y]of p)this.g.setRequestHeader(N,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BD(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){LD(this,N)}};function LD(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,jD(l),Ad(l)}function jD(l){l.A||(l.A=!0,nn(l,"complete"),nn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,nn(this,"complete"),nn(this,"abort"),Ad(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ad(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?UD(this):this.bb())},n.bb=function(){UD(this)};function UD(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Br(l)!=4||l.Z()!=2)){if(l.u&&Br(l)==4)cD(l.Ea,0,l);else if(nn(l,"readystatechange"),Br(l)==4){l.h=!1;try{let Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=Y===0){var A=String(l.D).match(MD)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!kF.test(A?A.toLowerCase():"")}p=y}if(p)nn(l,"complete"),nn(l,"success");else{l.m=6;try{var N=2<Br(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",jD(l)}}finally{Ad(l)}}}}function Ad(l,h){if(l.g){BD(l);let p=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||nn(l,"ready");try{p.onreadystatechange=y}catch{}}}function BD(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Br(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),dF(h)}};function $D(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function PF(l){let h={};l=(l.g&&2<=Br(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(L(l[y]))continue;var p=S(l[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[A]||[];h[A]=N,N.push(p)}I(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function zD(l){this.Aa=0,this.i=[],this.j=new Yc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=il("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=il("baseRetryDelayMs",5e3,l),this.cb=il("retryDelaySeedMs",1e4,l),this.Wa=il("forwardChannelMaxRetries",2,l),this.wa=il("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new DD(l&&l.concurrentRequestLimit),this.Da=new MF,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zD.prototype,n.la=8,n.G=1,n.connect=function(l,h,p,y){rn(0),this.W=l,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=JD(this,null,this.W),Md(this)};function jm(l){if(qD(l),l.G==3){var h=l.U++,p=Ur(l.I);if(Je(p,"SID",l.K),Je(p,"RID",h),Je(p,"TYPE","terminate"),sl(l,p),h=new Ii(l,l.j,h),h.L=2,h.v=Td(Ur(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=XD(h.j,null),h.g.ea(h.v)),h.F=Date.now(),bd(h)}ZD(l)}function xd(l){l.g&&(Bm(l),l.g.cancel(),l.g=null)}function qD(l){xd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Rd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Md(l){if(!CD(l.h)&&!l.s){l.s=!0;var h=l.Ga;$c||nD(),zc||($c(),zc=!0),vm.add(h,l),l.B=0}}function OF(l,h){return TD(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Qc(g(l.Ga,l,h),YD(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let A=new Ii(this,this.j,l),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=GD(this,A,h),p=Ur(this.I),Je(p,"RID",l),Je(p,"CVER",22),this.D&&Je(p,"X-HTTP-Session-Id",this.D),sl(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(VD(N)))+"&"+h:this.m&&Lm(p,this.m,N)),Vm(this.h,A),this.Ua&&Je(p,"TYPE","init"),this.P?(Je(p,"$req",h),Je(p,"SID","null"),A.T=!0,Nm(A,p,null)):Nm(A,p,h),this.G=2}}else this.G==3&&(l?HD(this,l):this.i.length==0||CD(this.h)||HD(this))};function HD(l,h){var p;h?p=h.l:p=l.U++;let y=Ur(l.I);Je(y,"SID",l.K),Je(y,"RID",p),Je(y,"AID",l.T),sl(l,y),l.m&&l.o&&Lm(y,l.m,l.o),p=new Ii(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=GD(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vm(l.h,p),Nm(p,y,h)}function sl(l,h){l.H&&Q(l.H,function(p,y){Je(h,y,p)}),l.l&&xD({},function(p,y){Je(h,y,p)})}function GD(l,h,p){p=Math.min(l.i.length,p);var y=l.l?g(l.l.Na,l.l,l):null;e:{var A=l.i;let N=-1;for(;;){let Y=["count="+p];N==-1?0<p?(N=A[0].g,Y.push("ofs="+N)):N=0:Y.push("ofs="+N);let He=!0;for(let Vt=0;Vt<p;Vt++){let Oe=A[Vt].g,Gt=A[Vt].map;if(Oe-=N,0>Oe)N=Math.max(0,A[Vt].g-100),He=!1;else try{RF(Gt,Y,"req"+Oe+"_")}catch{y&&y(Gt)}}if(He){y=Y.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,y}function WD(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;$c||nD(),zc||($c(),zc=!0),vm.add(h,l),l.v=0}}function Um(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Qc(g(l.Fa,l),YD(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,KD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Qc(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),xd(this),KD(this))};function Bm(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function KD(l){l.g=new Ii(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Ur(l.qa);Je(h,"RID","rpc"),Je(h,"SID",l.K),Je(h,"AID",l.T),Je(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(h,"TO",l.ja),Je(h,"TYPE","xmlhttp"),sl(l,h),l.m&&l.o&&Lm(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Td(Ur(h)),p.m=null,p.P=!0,ED(p,l)}n.Za=function(){this.C!=null&&(this.C=null,xd(this),Um(this),rn(19))};function Rd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function QD(l,h){var p=null;if(l.g==h){Rd(l),Bm(l),l.g=null;var y=2}else if(Fm(l.h,h))p=h.D,SD(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=l.B;y=_d(),nn(y,new yD(y,p)),Md(l)}else WD(l);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&OF(l,h)||y==2&&Um(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),A){case 1:Ts(l,5);break;case 4:Ts(l,10);break;case 3:Ts(l,6);break;default:Ts(l,2)}}}function YD(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function Ts(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),y=l.Xa;let A=!y;y=new Cs(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dd(y,"https"),Td(y),A?AF(y.toString(),p):xF(y.toString(),p)}else rn(2);l.G=0,l.l&&l.l.sa(h),ZD(l),qD(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function ZD(l){if(l.G=0,l.ka=[],l.l){let h=AD(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function JD(l,h,p){var y=p instanceof Cs?Ur(p):new Cs(p);if(y.g!="")h&&(y.g=h+"."+y.g),Cd(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var N=new Cs(null);y&&Dd(N,y),h&&(N.g=h),A&&Cd(N,A),p&&(N.l=p),y=N}return p=l.D,h=l.ya,p&&h&&Je(y,p,h),Je(y,"VER",l.la),sl(l,y),y}function XD(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new at(new tl({eb:p})):new at(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eC(){}n=eC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kd(){}kd.prototype.g=function(l,h){return new xn(l,h)};function xn(l,h){Ht.call(this),this.g=new zD(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!L(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!L(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new No(this)}w(xn,Ht),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){jm(this.g)},xn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Sm(l),l=p);h.i.push(new vF(h.Ya++,l)),h.G==3&&Md(h)},xn.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,xn.aa.N.call(this)};function tC(l){xm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(tC,xm);function nC(){Mm.call(this),this.status=1}w(nC,Mm);function No(l){this.g=l}w(No,eC),No.prototype.ua=function(){nn(this.g,"a")},No.prototype.ta=function(l){nn(this.g,new tC(l))},No.prototype.sa=function(l){nn(this.g,new nC)},No.prototype.ra=function(){nn(this.g,"b")},kd.prototype.createWebChannel=kd.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,F0=di.createWebChannelTransport=function(){return new kd},O0=di.getStatEventTarget=function(){return _d()},P0=di.Event=bs,Up=di.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ed.NO_ERROR=0,Ed.TIMEOUT=8,Ed.HTTP_ERROR=6,Su=di.ErrorCode=Ed,vD.COMPLETE="complete",N0=di.EventType=vD,fD.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Xa=di.WebChannel=fD,JH=di.FetchXmlHttpFactory=tl,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,k0=di.XhrIo=at}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});var eN="@firebase/firestore";var Ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");var Mc="10.14.0";var ls=new Fd("@firebase/firestore");function ic(){return ls.logLevel}function r1(n){ls.setLogLevel(n)}function q(n,...e){if(ls.logLevel<=yr.DEBUG){let t=e.map(BI);ls.debug(`Firestore (${Mc}): ${n}`,...t)}}function pt(n,...e){if(ls.logLevel<=yr.ERROR){let t=e.map(BI);ls.error(`Firestore (${Mc}): ${n}`,...t)}}function dr(n,...e){if(ls.logLevel<=yr.WARN){let t=e.map(BI);ls.warn(`Firestore (${Mc}): ${n}`,...t)}}function BI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function re(n="Unexpected state"){let e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw pt(e),new Error(e)}function se(n,e){n||re()}function i1(n,e){n||re()}function Z(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends cC{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Yp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ct.UNAUTHENTICATED))}shutdown(){}},z0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},q0=class{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){se(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>b(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nt)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new Yp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new Ct(e)}},H0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},G0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new H0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},W0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},K0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){se(this.o===void 0);let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(se(typeof t.token=="string"),this.R=t.token,new W0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tG(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Zp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=tG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function fc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function s1(n){return n+"\0"}var st=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new st(0,0))}static max(){return new n(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Jp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&re(),r===void 0?r=e.length-t:r>e.length-t&&re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ke=class n extends Jp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},nG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gt=class n extends Jp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return nG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};var pc=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function Q0(n){return n.fields.find(e=>e.kind===2)}function io(n){return n.fields.filter(e=>e.kind!==2)}pc.UNKNOWN_ID=-1;var uc=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var ju=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,Jn.min())}};function o1(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new Jn(i,J.empty(),e)}function a1(n){return new Jn(n.readTime,n.key,-1)}var Jn=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),J.empty(),-1)}static max(){return new n(le.max(),J.empty(),-1)}};function $I(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var c1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ws(n){return b(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==c1)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};var eg=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Nt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new uo(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=zI(r.target.error);this.V.reject(new uo(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(s){throw new uo(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new Z0(t)}},us=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(ol())===12.2&&pt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),so(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Od())return!1;if(n.v())return!0;let e=ol(),t=n.S(e),r=0<t&&t<10,i=l1(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return b(this,null,function*(){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;t(o)},i.onblocked=()=>{r(new uo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new $(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new uo(e,o))},i.onupgradeneeded=s=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return b(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=eg.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),k.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function l1(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var Y0=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return so(this.B.delete())}},uo=class extends ${constructor(e,t){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function _s(n){return n.name==="IndexedDbTransactionError"}var Z0=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(q("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),so(r)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),so(this.store.add(e))}get(e){return so(this.store.get(e)).next(t=>(t===void 0&&(t=null),q("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),so(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),so(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new k((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){q("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new k((r,i)=>{t.onerror=s=>{let o=zI(s.target.error);i(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){let r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Y0(a),u=t(a.primaryKey,a.value,c);if(u instanceof k){let d=u.catch(f=>(c.done(),k.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>k.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function so(n){return new k((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=zI(r.target.error);t(i)}})}var tN=!1;function zI(n){let e=us.S(ol());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tN||(tN=!0,setTimeout(()=>{throw r},0)),r}}return n}var J0=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>b(this,null,function*(){this.task=null;try{q("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){_s(t)?q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield ws(t)}yield this.X(6e4)}))}},X0=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return b(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,s=!0;return k.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return q("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{let o=a1(s);$I(o,r)>0&&(r=o)}),new Jn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Un=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function od(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function u1(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function hn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nN(e)),e=rG(n.get(t),e);return nN(e)}function rG(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function nN(n){return n+""}function xr(n){let e=n.length;if(se(e>=2),e===2)return se(n.charAt(0)===""&&n.charAt(1)===""),ke.emptyPath();let t=e-2,r=[],i="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&re(),n.charAt(o+1)){case"":let a=n.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:re()}s=o+2}return new ke(r)}var rN=["userId","batchId"];function Hp(n,e){return[n,hn(e)]}function d1(n,e,t){return[n,hn(e),t]}var iG={},sG=["prefixPath","collectionGroup","readTime","documentId"],oG=["prefixPath","collectionGroup","documentId"],aG=["collectionGroup","readTime","prefixPath","documentId"],cG=["canonicalId","targetId"],lG=["targetId","path"],uG=["path","targetId"],dG=["collectionId","parent"],hG=["indexId","uid"],fG=["uid","sequenceNumber"],pG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gG=["indexId","uid","orderedDocumentKey"],mG=["userId","collectionPath","documentId"],yG=["userId","collectionPath","largestBatchId"],vG=["userId","collectionGroup","largestBatchId"],h1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wG=[...h1,"documentOverlays"],f1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],p1=f1,qI=[...p1,"indexConfiguration","indexState","indexEntries"],_G=qI,EG=[...qI,"globals"];var Bu=class extends Xp{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function Pt(n,e){let t=Z(n);return us.F(t._e,e)}function iN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var tt=class n{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}},lc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();let e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}};Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Qe=class n{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tg(this.data.getIterator())}getIteratorFrom(e){return new tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ec(n){return n.hasNext()?n.getNext():void 0}var Bn=class n{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Qe(gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ng=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function m1(){return typeof atob<"u"}var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ng("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var IG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(n){if(se(!!n),typeof n=="string"){let e=0,t=IG.exec(n);if(se(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ds(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}function Wg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function HI(n){let e=n.mapValue.fields.__previous_value__;return Wg(e)?HI(e):e}function $u(n){let e=pi(n.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var eE=class{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},hs=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gp={nullValue:"NULL_VALUE"};function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wg(n)?4:y1(n)?9007199254740991:Kg(n)?10:11:re()}function Pr(n,e){if(n===e)return!0;let t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $u(n).isEqual($u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=pi(i.timestampValue),a=pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ds(i.bytesValue).isEqual(ds(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=nt(i.doubleValue),a=nt(s.doubleValue);return o===a?Uu(o)===Uu(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return fc(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(iN(o)!==iN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Pr(o[c],a[c])))return!1;return!0}(n,e);default:return re()}}function zu(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function fs(n,e){if(n===e)return 0;let t=ho(n),r=ho(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=nt(s.integerValue||s.doubleValue),c=nt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return sN(n.timestampValue,e.timestampValue);case 4:return sN($u(n),$u(e));case 5:return pe(n.stringValue,e.stringValue);case 6:return function(s,o){let a=ds(s),c=ds(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=pe(a[u],c[u]);if(d!==0)return d}return pe(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=pe(nt(s.latitude),nt(o.latitude));return a!==0?a:pe(nt(s.longitude),nt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oN(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;let f=s.fields||{},g=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,D=pe(((u=m?.values)===null||u===void 0?void 0:u.length)||0,((d=w?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:oN(m,w)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===as.mapValue&&o===as.mapValue)return 0;if(s===as.mapValue)return 1;if(o===as.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=pe(c[f],d[f]);if(g!==0)return g;let m=fs(a[c[f]],u[d[f]]);if(m!==0)return m}return pe(c.length,d.length)}(n.mapValue,e.mapValue);default:throw re()}}function sN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=pi(n),r=pi(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function oN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=fs(t[i],r[i]);if(s)return s}return pe(t.length,r.length)}function gc(n){return tE(n)}function tE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=tE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${tE(t.fields[o])}`;return i+"}"}(n.mapValue):re()}function fo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nE(n){return!!n&&"integerValue"in n}function qu(n){return!!n&&"arrayValue"in n}function aN(n){return!!n&&"nullValue"in n}function cN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wp(n){return!!n&&"mapValue"in n}function Kg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return bo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function y1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var v1={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function bG(n){return"nullValue"in n?Gp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fo(hs.empty(),J.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Kg(n)?v1:{mapValue:{}}:re()}function DG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fo(hs.empty(),J.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?v1:"mapValue"in n?Kg(n)?{mapValue:{}}:as:re()}function lN(n,e){let t=fs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function uN(n,e){let t=fs(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var tn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Pu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Wp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Pu(this.value))}};function w1(n){let e=[];return bo(n.fields,(t,r)=>{let i=new gt([t]);if(Wp(r)){let s=w1(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}var Tt=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),tn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,le.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),tn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Or=class{constructor(e,t){this.position=e,this.inclusive=t}};function dN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),t.key):r=fs(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}var po=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function CG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rg=class{},Te=class n extends rg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sE(e,t,r):t==="array-contains"?new cE(e,r):t==="in"?new ig(e,r):t==="not-in"?new lE(e,r):t==="array-contains-any"?new uE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new oE(e,r):new aE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fs(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},$e=class n extends rg{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return mc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function mc(n){return n.op==="and"}function rE(n){return n.op==="or"}function GI(n){return _1(n)&&mc(n)}function _1(n){for(let e of n.filters)if(e instanceof $e)return!1;return!0}function iE(n){if(n instanceof Te)return n.field.canonicalString()+n.op.toString()+gc(n.value);if(GI(n))return n.filters.map(e=>iE(e)).join(",");{let e=n.filters.map(t=>iE(t)).join(",");return`${n.op}(${e})`}}function E1(n,e){return n instanceof Te?function(r,i){return i instanceof Te&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(n,e):n instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&E1(o,i.filters[a]),!0):!1}(n,e):void re()}function I1(n,e){let t=n.filters.concat(e);return $e.create(t,n.op)}function b1(n){return n instanceof Te?function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`}(n):n instanceof $e?function(t){return t.op.toString()+" {"+t.getFilters().map(b1).join(" ,")+"}"}(n):"Filter"}var sE=class extends Te{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},oE=class extends Te{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},aE=class extends Te{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function D1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var cE=class extends Te{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qu(t)&&zu(t.arrayValue,this.value)}},ig=class extends Te{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}},lE=class extends Te{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!zu(this.value.arrayValue,t)}},uE=class extends Te{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}};var dE=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function hE(n,e=null,t=[],r=[],i=null,s=null,o=null){return new dE(n,e,t,r,i,s,o)}function go(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gc(r)).join(",")),e.ue=t}return e.ue}function ad(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hN(n.startAt,e.startAt)&&hN(n.endAt,e.endAt)}function sg(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function og(n,e){return n.filters.filter(t=>t instanceof Te&&t.field.isEqual(e))}function fN(n,e,t){let r=Gp,i=!0;for(let s of og(n,e)){let o=Gp,a=!0;switch(s.op){case"<":case"<=":o=bG(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Gp}lN({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];lN({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function pN(n,e,t){let r=as,i=!0;for(let s of og(n,e)){let o=as,a=!0;switch(s.op){case">=":case">":o=DG(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=as}uN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];uN({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}var hr=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function C1(n,e,t,r,i,s,o,a){return new hr(n,e,t,r,i,s,o,a)}function Rc(n){return new hr(n)}function gN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WI(n){return n.collectionGroup!==null}function dc(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new po(s,r))}),t.has(gt.keyField().canonicalString())||e.ce.push(new po(gt.keyField(),r))}return e.ce}function fn(n){let e=Z(n);return e.le||(e.le=TG(e,dc(n))),e.le}function TG(n,e){if(n.limitType==="F")return hE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new po(i.field,s)});let t=n.endAt?new Or(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Or(n.startAt.position,n.startAt.inclusive):null;return hE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fE(n,e){let t=n.filters.concat([e]);return new hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ag(n,e,t){return new hr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return ad(fn(n),fn(e))&&n.limitType===e.limitType}function T1(n){return`${go(fn(n))}|lt:${n.limitType}`}function sc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>b1(i)).join(", ")}]`),od(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gc(i)).join(",")),`Target(${r})`}(fn(n))}; limitType=${n.limitType})`}function ld(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of dc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=dN(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,dc(r),i)||r.endAt&&!function(o,a,c){let u=dN(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,dc(r),i))}(n,e)}function S1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A1(n){return(e,t)=>{let r=!1;for(let i of dc(n)){let s=SG(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function SG(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?fs(c,u):re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}var Fr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}};var AG=new tt(J.comparator);function Sn(){return AG}var x1=new tt(J.comparator);function ku(...n){let e=x1;for(let t of n)e=e.insert(t.key,t);return e}function M1(n){let e=x1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mr(){return Ou()}function R1(){return Ou()}function Ou(){return new Fr(n=>n.toString(),(n,e)=>n.isEqual(e))}var xG=new tt(J.comparator),MG=new Qe(J.comparator);function me(...n){let e=MG;for(let t of n)e=e.add(t);return e}var RG=new Qe(pe);function KI(){return RG}function QI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function k1(n){return{integerValue:""+n}}function N1(n,e){return u1(e)?k1(e):QI(n,e)}var yc=class{constructor(){this._=void 0}};function kG(n,e,t){return n instanceof ps?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wg(s)&&(s=HI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof gi?O1(n,e):n instanceof mi?F1(n,e):function(i,s){let o=P1(i,s),a=mN(o)+mN(i.Pe);return nE(o)&&nE(i.Pe)?k1(a):QI(i.serializer,a)}(n,e)}function NG(n,e,t){return n instanceof gi?O1(n,e):n instanceof mi?F1(n,e):t}function P1(n,e){return n instanceof gs?function(r){return nE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ps=class extends yc{},gi=class extends yc{constructor(e){super(),this.elements=e}};function O1(n,e){let t=V1(e);for(let r of n.elements)t.some(i=>Pr(i,r))||t.push(r);return{arrayValue:{values:t}}}var mi=class extends yc{constructor(e){super(),this.elements=e}};function F1(n,e){let t=V1(e);for(let r of n.elements)t=t.filter(i=>!Pr(i,r));return{arrayValue:{values:t}}}var gs=class extends yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function mN(n){return nt(n.integerValue||n.doubleValue)}function V1(n){return qu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var mo=class{constructor(e,t){this.field=e,this.transform=t}};function PG(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gi&&i instanceof gi||r instanceof mi&&i instanceof mi?fc(r.elements,i.elements,Pr):r instanceof gs&&i instanceof gs?Pr(r.Pe,i.Pe):r instanceof ps&&i instanceof ps}(n.transform,e.transform)}var pE=class{constructor(e,t){this.version=e,this.transformResults=t}},dt=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vc=class{};function L1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ys(n.key,dt.none()):new ms(n.key,n.data,dt.none());{let t=n.data,r=tn.empty(),i=new Qe(gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fr(n.key,r,new Bn(i.toArray()),dt.none())}}function OG(n,e,t){n instanceof ms?function(i,s,o){let a=i.value.clone(),c=vN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof fr?function(i,s,o){if(!Kp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=vN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(j1(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Fu(n,e,t,r){return n instanceof ms?function(s,o,a,c){if(!Kp(s.precondition,o))return a;let u=s.value.clone(),d=wN(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof fr?function(s,o,a,c){if(!Kp(s.precondition,o))return a;let u=wN(s.fieldTransforms,c,o),d=o.data;return d.setAll(j1(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return Kp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function FG(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=P1(r.transform,i||null);s!=null&&(t===null&&(t=tn.empty()),t.set(r.field,s))}return t||null}function yN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fc(r,i,(s,o)=>PG(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ms=class extends vc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fr=class extends vc{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function j1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function vN(n,e,t){let r=new Map;se(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NG(o,a,t[i]))}return r}function wN(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,kG(s,o,e))}return r}var ys=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hu=class extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Gu=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&OG(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=R1();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=L1(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(t,r)=>yN(t,r))&&fc(this.baseMutations,e.baseMutations,(t,r)=>yN(t,r))}},gE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){se(e.mutations.length===r.length);let i=function(){return xG}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Wu=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var bt,Re;function U1(n){switch(n){default:return re();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function B1(n){if(n===void 0)return pt("GRPC error has no .code"),O.UNKNOWN;switch(n){case bt.OK:return O.OK;case bt.CANCELLED:return O.CANCELLED;case bt.UNKNOWN:return O.UNKNOWN;case bt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case bt.INTERNAL:return O.INTERNAL;case bt.UNAVAILABLE:return O.UNAVAILABLE;case bt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case bt.NOT_FOUND:return O.NOT_FOUND;case bt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case bt.ABORTED:return O.ABORTED;case bt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case bt.DATA_LOSS:return O.DATA_LOSS;default:return re()}}(Re=bt||(bt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";var _N=null;function $1(){return new TextEncoder}var VG=new ns([4294967295,4294967295],0);function EN(n){let e=$1().encode(n),t=new R0;return t.update(e),new Uint8Array(t.digest())}function IN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([t,r],0),new ns([i,s],0)]}var yE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lo(`Invalid padding: ${t}`);if(r<0)throw new lo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ns.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ns.fromNumber(r)));return i.compare(VG)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=EN(e),[r,i]=IN(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=EN(e),[r,i]=IN(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},lo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ku=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),i,new tt(pe),Sn(),me())}},Qu=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var hc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},cg=class{constructor(e,t){this.targetId=e,this.me=t}},lg=class{constructor(e,t,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ug=class{constructor(){this.fe=0,this.ge=DN(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:re()}}),new Qu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=DN()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},vE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sn(),this.qe=bN(),this.Qe=new tt(pe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(sg(s))if(r===0){let o=new J(s.path);this.Ue(t,o,Tt.newNoDocument(o,le.min()))}else se(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}_N?.et(function(d,f,g,m,w){var D,C,F,L,j,H;let ee={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},Q=f.unchangedNames;return Q&&(ee.bloomFilter={applied:w===0,hashCount:(D=Q?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(L=(F=(C=Q?.bits)===null||C===void 0?void 0:C.bitmap)===null||F===void 0?void 0:F.length)!==null&&L!==void 0?L:0,padding:(H=(j=Q?.bits)===null||j===void 0?void 0:j.padding)!==null&&H!==void 0?H:0,mightContain:I=>{var v;return(v=m?.mightContain(I))!==null&&v!==void 0&&v}}),ee}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=ds(r).toUint8Array()}catch(c){if(c instanceof ng)return dr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new yE(o,i,s)}catch(c){return dr(c instanceof lo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&sg(a.target)){let c=new J(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Tt.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ku(e,t,this.Qe,this.ke,r);return this.ke=Sn(),this.qe=bN(),this.Qe=new tt(pe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ug,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Qe(pe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ug),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function bN(){return new tt(J.comparator)}function DN(){return new tt(J.comparator)}var LG={asc:"ASCENDING",desc:"DESCENDING"},jG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UG={and:"AND",or:"OR"},wE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _E(n,e){return n.useProto3Json||od(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BG(n,e){return wc(n,e.toTimestamp())}function mt(n){return se(!!n),le.fromTimestamp(function(t){let r=pi(t);return new st(r.seconds,r.nanos)}(n))}function YI(n,e){return EE(n,e).canonicalString()}function EE(n,e){let t=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function q1(n){let e=ke.fromString(n);return se(eP(e)),e}function Yu(n,e){return YI(n.databaseId,e.path)}function kr(n,e){let t=q1(e);if(t.get(1)!==n.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(W1(t))}function H1(n,e){return YI(n.databaseId,e)}function G1(n){let e=q1(n);return e.length===4?ke.emptyPath():W1(e)}function IE(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W1(n){return se(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CN(n,e,t){return{name:Yu(n,e),fields:t.value.mapValue.fields}}function K1(n,e,t){let r=kr(n,e.name),i=mt(e.updateTime),s=e.createTime?mt(e.createTime):le.min(),o=new tn({mapValue:{fields:e.fields}}),a=Tt.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function $G(n,e){return"found"in e?function(r,i){se(!!i.found),i.found.name,i.found.updateTime;let s=kr(r,i.found.name),o=mt(i.found.updateTime),a=i.found.createTime?mt(i.found.createTime):le.min(),c=new tn({mapValue:{fields:i.found.fields}});return Tt.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){se(!!i.missing),se(!!i.readTime);let s=kr(r,i.missing),o=mt(i.readTime);return Tt.newNoDocument(s,o)}(n,e):re()}function zG(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(se(d===void 0||typeof d=="string"),yt.fromBase64String(d||"")):(se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),yt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?O.UNKNOWN:B1(u.code);return new $(d,u.message||"")}(o);t=new lg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=kr(n,r.document.name),s=mt(r.document.updateTime),o=r.document.createTime?mt(r.document.createTime):le.min(),a=new tn({mapValue:{fields:r.document.fields}}),c=Tt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new hc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=kr(n,r.document),s=r.readTime?mt(r.readTime):le.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];t=new hc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=kr(n,r.document),s=r.removedTargetIds||[];t=new hc([],s,i,null)}else{if(!("filter"in e))return re();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new mE(i,s),a=r.targetId;t=new cg(a,o)}}return t}function Zu(n,e){let t;if(e instanceof ms)t={update:CN(n,e.key,e.value)};else if(e instanceof ys)t={delete:Yu(n,e.key)};else if(e instanceof fr)t={update:CN(n,e.key,e.data),updateMask:QG(e.fieldMask)};else{if(!(e instanceof Hu))return re();t={verify:Yu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ps)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gs)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw re()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re()}(n,e.precondition)),t}function bE(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?dt.updateTime(mt(s.updateTime)):s.exists!==void 0?dt.exists(s.exists):dt.none()}(e.currentDocument):dt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME"),c=new ps;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new gi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new mi(d)}else"increment"in a?c=new gs(o,a.increment):re();let u=gt.fromServerFormat(a.fieldPath);return new mo(u,c)}(n,i)):[];if(e.update){e.update.name;let i=kr(n,e.update.name),s=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let u=c.fieldPaths||[];return new Bn(u.map(d=>gt.fromServerFormat(d)))}(e.updateMask);return new fr(i,s,o,t,r)}return new ms(i,s,t,r)}if(e.delete){let i=kr(n,e.delete);return new ys(i,t)}if(e.verify){let i=kr(n,e.verify);return new Hu(i,t)}return re()}function qG(n,e){return n&&n.length>0?(se(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?mt(i.updateTime):mt(s);return o.isEqual(le.min())&&(o=mt(s)),new pE(o,i.transformResults||[])}(t,e))):[]}function Q1(n,e){return{documents:[H1(n,e.path)]}}function Y1(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=H1(n,i);let s=function(u){if(u.length!==0)return X1($e.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:oc(g.field),direction:GG(g.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=_E(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function Z1(n){let e=G1(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){se(r===1);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){let g=J1(f);return g instanceof $e&&GI(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(g=>function(w){return new po(ac(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,od(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(f){let g=!!f.before,m=f.values||[];return new Or(m,g)}(t.startAt));let u=null;return t.endAt&&(u=function(f){let g=!f.before,m=f.values||[];return new Or(m,g)}(t.endAt)),C1(e,i,o,s,a,"F",c,u)}function HG(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ac(t.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ac(t.unaryFilter.field);return Te.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ac(t.unaryFilter.field);return Te.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ac(t.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(n):n.fieldFilter!==void 0?function(t){return Te.create(ac(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $e.create(t.compositeFilter.filters.map(r=>J1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(t.compositeFilter.op))}(n):re()}function GG(n){return LG[n]}function WG(n){return jG[n]}function KG(n){return UG[n]}function oc(n){return{fieldPath:n.canonicalString()}}function ac(n){return gt.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof Te?function(t){if(t.op==="=="){if(cN(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NAN"}};if(aN(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cN(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NAN"}};if(aN(t.value))return{unaryFilter:{field:oc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(t.field),op:WG(t.op),value:t.value}}}(n):n instanceof $e?function(t){let r=t.getFilters().map(i=>X1(i));return r.length===1?r[0]:{compositeFilter:{op:KG(t.op),filters:r}}}(n):re()}function QG(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var _c=class n{constructor(e,t,r,i,s=le.min(),o=le.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dg=class{constructor(e){this.ct=e}};function YG(n,e){let t;if(e.document)t=K1(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=J.fromSegments(e.noDocument.path),i=vo(e.noDocument.readTime);t=Tt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return re();{let r=J.fromSegments(e.unknownDocument.path),i=vo(e.unknownDocument.version);t=Tt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let s=new st(i[0],i[1]);return le.fromTimestamp(s)}(e.readTime)),t}function TN(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:hg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Yu(s,o.key),fields:o.data.value.mapValue.fields,updateTime:wc(s,o.version.toTimestamp()),createTime:wc(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:yo(e.version)};else{if(!e.isUnknownDocument())return re();r.unknownDocument={path:t.path.toArray(),version:yo(e.version)}}return r}function hg(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yo(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vo(n){let e=new st(n.seconds,n.nanoseconds);return le.fromTimestamp(e)}function oo(n,e){let t=(e.baseMutations||[]).map(s=>bE(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>bE(n.ct,s)),i=st.fromMillis(e.localWriteTimeMs);return new Gu(e.batchId,i,t,r)}function Nu(n){let e=vo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?vo(n.lastLimboFreeSnapshotVersion):le.min(),r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return se(s.documents.length===1),fn(Rc(G1(s.documents[0])))}(n.query):function(s){return fn(Z1(s))}(n.query),new _c(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,yt.fromBase64String(n.resumeToken))}function tP(n,e){let t=yo(e.snapshotVersion),r=yo(e.lastLimboFreeSnapshotVersion),i;i=sg(e.target)?Q1(n.ct,e.target):Y1(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:go(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ZI(n){let e=Z1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ag(e,e.limit,"L"):e}function V0(n,e){return new Wu(e.largestBatchId,bE(n.ct,e.overlayMutation))}function SN(n,e){let t=e.path.lastSegment();return[n,hn(e.path.popLast()),t]}function AN(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:yo(r.readTime),documentKey:hn(r.documentKey.path),largestBatchId:r.largestBatchId}}var DE=class{getBundleMetadata(e,t){return xN(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:vo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return xN(e).put(function(i){return{bundleId:i.id,createTime:yo(mt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return MN(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:ZI(s.bundledQuery),readTime:vo(s.readTime)}}(r)})}saveNamedQuery(e,t){return MN(e).put(function(i){return{name:i.name,readTime:yo(mt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function xN(n){return Pt(n,"bundles")}function MN(n){return Pt(n,"namedQueries")}var fg=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return Au(e).get(SN(this.userId,t)).next(r=>r?V0(this.serializer,r):null)}getOverlays(e,t){let r=Mr();return k.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((s,o)=>{let a=new Wu(t,o);i.push(this.ht(e,a))}),k.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(o=>i.add(hn(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Au(e).j("collectionPathOverlayIndex",a))}),k.waitFor(s)}getOverlaysForCollection(e,t,r){let i=Mr(),s=hn(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Au(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=V0(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let s=Mr(),o,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Au(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=V0(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,t){return Au(e).put(function(i,s,o){let[a,c,u]=SN(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Zu(i.ct,o.mutation)}}(this.serializer,this.userId,t))}};function Au(n){return Pt(n,"documentOverlays")}var CE=class{Pt(e){return Pt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?yt.fromUint8Array(r):yt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var hi=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(nt(e.integerValue));else if("doubleValue"in e){let r=nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Uu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=pi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ds(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?y1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Kg(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):re()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(nt(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),J.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};hi.vt=new hi;function ZG(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function RN(n){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=ZG(255&r[s]);if(i+=o,o!==8)break}return i}(n);return Math.ceil(e/8)}var TE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=RN(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=RN(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},SE=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},AE=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},ao=class{constructor(){this.jt=new TE,this.Ht=new SE(this.jt),this.Jt=new AE(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var co=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function rs(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=kN(n.arrayValue,e.arrayValue),t!==0?t:(t=kN(n.directionalValue,e.directionalValue),t!==0?t:J.comparator(n.documentKey,e.documentKey)))}function kN(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var pg=class{constructor(e){this.Xt=new Qe((t,r)=>gt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(se(e.collectionGroup===this.collectionId),this.nn)return!1;let t=Q0(e);if(t!==void 0&&!this.sn(t))return!1;let r=io(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.on(a,c)||!this._n(this.en[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Qe(gt.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new uc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new uc(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new uc(r.field,r.dir==="asc"?0:1)));return new pc(pc.UNKNOWN_ID,this.collectionId,t,ju.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function nP(n){var e,t;if(se(n instanceof Te||n instanceof $e),n instanceof Te){if(n instanceof ig){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>Te.create(n.field,"==",s)))||[];return $e.create(i,"or")}return n}let r=n.filters.map(i=>nP(i));return $e.create(r,n.op)}function JG(n){if(n.getFilters().length===0)return[];let e=RE(nP(n));return se(rP(e)),xE(e)||ME(e)?[e]:e.getFilters()}function xE(n){return n instanceof Te}function ME(n){return n instanceof $e&&GI(n)}function rP(n){return xE(n)||ME(n)||function(t){if(t instanceof $e&&rE(t)){for(let r of t.getFilters())if(!xE(r)&&!ME(r))return!1;return!0}return!1}(n)}function RE(n){if(se(n instanceof Te||n instanceof $e),n instanceof Te)return n;if(n.filters.length===1)return RE(n.filters[0]);let e=n.filters.map(r=>RE(r)),t=$e.create(e,n.op);return t=gg(t),rP(t)?t:(se(t instanceof $e),se(mc(t)),se(t.filters.length>1),t.filters.reduce((r,i)=>JI(r,i)))}function JI(n,e){let t;return se(n instanceof Te||n instanceof $e),se(e instanceof Te||e instanceof $e),t=n instanceof Te?e instanceof Te?function(i,s){return $e.create([i,s],"and")}(n,e):NN(n,e):e instanceof Te?NN(e,n):function(i,s){if(se(i.filters.length>0&&s.filters.length>0),mc(i)&&mc(s))return I1(i,s.getFilters());let o=rE(i)?i:s,a=rE(i)?s:i,c=o.filters.map(u=>JI(u,a));return $e.create(c,"or")}(n,e),gg(t)}function NN(n,e){if(mc(e))return I1(e,n.getFilters());{let t=e.filters.map(r=>JI(n,r));return $e.create(t,"or")}}function gg(n){if(se(n instanceof Te||n instanceof $e),n instanceof Te)return n;let e=n.getFilters();if(e.length===1)return gg(e[0]);if(_1(n))return n;let t=e.map(i=>gg(i)),r=[];return t.forEach(i=>{i instanceof Te?r.push(i):i instanceof $e&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:$e.create(r,n.op)}var kE=class{constructor(){this.un=new Ju}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Jn.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Ju=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qe(ke.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(ke.comparator)).toArray()}};var Bp=new Uint8Array(0),NE=class{constructor(e,t){this.databaseId=t,this.cn=new Ju,this.ln=new Fr(r=>go(r),(r,i)=>ad(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let s={collectionId:r,parent:hn(i)};return PN(e).put(s)}return k.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[s1(t),""],!1,!0);return PN(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==t)break;r.push(xr(o.parent))}return r})}addFieldIndex(e,t){let r=xu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let s=r.add(i);if(t.indexState){let o=nc(e);return s.next(a=>{o.put(AN(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let r=xu(e),i=nc(e),s=tc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=xu(e),r=tc(e),i=nc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return k.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new pg(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let r=tc(e),i=!0,s=new Map;return k.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=me(),a=[];return k.forEach(s,(c,u)=>{q("IndexedDbIndexManager",`Using index ${function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(c)} to execute ${go(t)}`);let d=function(j,H){let ee=Q0(H);if(ee===void 0)return null;for(let Q of og(j,ee.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null}(u,c),f=function(j,H){let ee=new Map;for(let Q of io(H))for(let I of og(j,Q.fieldPath))switch(I.op){case"==":case"in":ee.set(Q.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return ee.set(Q.fieldPath.canonicalString(),I.value),Array.from(ee.values())}return null}(u,c),g=function(j,H){let ee=[],Q=!0;for(let I of io(H)){let v=I.kind===0?fN(j,I.fieldPath,j.startAt):pN(j,I.fieldPath,j.startAt);ee.push(v.value),Q&&(Q=v.inclusive)}return new Or(ee,Q)}(u,c),m=function(j,H){let ee=[],Q=!0;for(let I of io(H)){let v=I.kind===0?pN(j,I.fieldPath,j.endAt):fN(j,I.fieldPath,j.endAt);ee.push(v.value),Q&&(Q=v.inclusive)}return new Or(ee,Q)}(u,c),w=this.In(c,u,g),D=this.In(c,u,m),C=this.Tn(c,u,f),F=this.En(c.indexId,d,w,g.inclusive,D,m.inclusive,C);return k.forEach(F,L=>r.G(L,t.limit).next(j=>{j.forEach(H=>{let ee=J.fromSegments(H.documentKey);o.has(ee)||(o=o.add(ee),a.push(ee))})}))}).next(()=>a)}return k.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=JG($e.create(e.filters,"and")).map(r=>hE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){let c=(t!=null?t.length:1)*Math.max(r.length,s.length),u=c/(t!=null?t.length:1),d=[];for(let f=0;f<c;++f){let g=t?this.dn(t[f/u]):Bp,m=this.An(e,g,r[f%u],i),w=this.Rn(e,g,s[f%u],o),D=a.map(C=>this.An(e,g,C,!0));d.push(...this.createRange(m,w,D))}return d}An(e,t,r,i){let s=new co(e,J.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){let s=new co(e,J.empty(),t,r);return i?s.Zt():s}Pn(e,t){let r=new pg(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2,i=this.hn(t);return k.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Qe(gt.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new ao;for(let i of io(e)){let s=t.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);hi.vt.It(s,o)}return r.zt()}dn(e){let t=new ao;return hi.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new ao;return hi.vt.It(fo(this.databaseId,t),r.Yt(function(s){let o=io(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new ao);let s=0;for(let o of io(e)){let a=r[s++];for(let c of i)if(this.fn(t,o.fieldPath)&&qu(a))i=this.gn(i,o,a);else{let u=c.Yt(o.kind);hi.vt.It(a,u)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new ao;c.seed(a.zt()),hi.vt.It(o,c.Yt(t.kind)),s.push(c)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=xu(e),i=nc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{let o=[];return k.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let g=f?new ju(f.sequenceNumber,new Jn(vo(f.readTime),new J(xr(f.documentKey)),f.largestBatchId)):ju.empty(),m=d.fields.map(([w,D])=>new uc(gt.fromServerFormat(w),D));return new pc(d.indexId,d.collectionGroup,m,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:pe(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=xu(e),s=nc(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>k.forEach(a,c=>s.put(AN(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){let r=new Map;return k.forEach(t,(i,s)=>{let o=r.get(i.collectionGroup);return(o?k.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),k.forEach(a,c=>this.wn(e,i,c).next(u=>{let d=this.Sn(s,c);return u.isEqual(d)?k.resolve():this.bn(e,s,c,u,d)}))))})}Dn(e,t,r,i){return tc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return tc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=tc(e),s=new Qe(rs);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(o,a)=>{s=s.add(new co(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let r=new Qe(rs),i=this.Vn(t,e);if(i==null)return r;let s=Q0(t);if(s!=null){let o=e.data.field(s.fieldPath);if(qu(o))for(let a of o.arrayValue.values||[])r=r.add(new co(t.indexId,e.key,this.dn(a),i))}else r=r.add(new co(t.indexId,e.key,Bp,i));return r}bn(e,t,r,i,s){q("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(c,u,d,f,g){let m=c.getIterator(),w=u.getIterator(),D=ec(m),C=ec(w);for(;D||C;){let F=!1,L=!1;if(D&&C){let j=d(D,C);j<0?L=!0:j>0&&(F=!0)}else D!=null?L=!0:F=!0;F?(f(C),C=ec(w)):L?(g(D),D=ec(m)):(D=ec(m),C=ec(w))}}(i,s,rs,a=>{o.push(this.Dn(e,t,r,a))},a=>{o.push(this.vn(e,t,r,a))}),k.waitFor(o)}yn(e){let t=1;return nc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>rs(o,a)).filter((o,a,c)=>!a||rs(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=rs(o,e),c=rs(o,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(t);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Bp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Bp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Cn(e,t){return rs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ON)}getMinOffset(e,t){return k.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||re())).next(ON)}};function PN(n){return Pt(n,"collectionParents")}function tc(n){return Pt(n,"indexEntries")}function xu(n){return Pt(n,"indexConfiguration")}function nc(n){return Pt(n,"indexState")}function ON(n){se(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;$I(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Jn(e.readTime,e.documentKey,t)}var FN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function iP(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(c.next(()=>{se(a===1)}));let u=[];for(let d of t.mutations){let f=d1(e,d.key.path,t.batchId);s.push(i.delete(f)),u.push(d.key)}return k.waitFor(s).next(()=>u)}function mg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw re();e=n.noDocument}return JSON.stringify(e).length}Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);var yg=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){se(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return is(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let s=cc(e),o=is(e);return o.add({}).next(a=>{se(typeof a=="number");let c=new Gu(a,t,r,i),u=function(m,w,D){let C=D.baseMutations.map(L=>Zu(m.ct,L)),F=D.mutations.map(L=>Zu(m.ct,L));return{userId:w,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:C,mutations:F}}(this.serializer,this.userId,c),d=[],f=new Qe((g,m)=>pe(g.canonicalString(),m.canonicalString()));for(let g of i){let m=d1(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(u)),d.push(s.put(m,iG))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),k.waitFor(d).next(()=>c)})}lookupMutationBatch(e,t){return is(e).get(t).next(r=>r?(se(r.userId===this.userId),oo(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?k.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return is(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(se(a.batchId>=r),s=oo(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return is(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return is(e).U("userMutationsIndex",t).next(r=>r.map(i=>oo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Hp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return cc(e).J({range:i},(o,a,c)=>{let[u,d,f]=o,g=xr(d);if(u===this.userId&&t.path.isEqual(g))return is(e).get(f).next(m=>{if(!m)throw re();se(m.userId===this.userId),s.push(oo(this.serializer,m))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(pe),i=[];return t.forEach(s=>{let o=Hp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=cc(e).J({range:a},(u,d,f)=>{let[g,m,w]=u,D=xr(m);g===this.userId&&s.path.isEqual(D)?r=r.add(w):f.done()});i.push(c)}),k.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=Hp(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Qe(pe);return cc(e).J({range:o},(c,u,d)=>{let[f,g,m]=c,w=xr(g);f===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(m)):d.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(s=>{i.push(is(e).get(s).next(o=>{if(o===null)throw re();se(o.userId===this.userId),r.push(oo(this.serializer,o))}))}),k.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return iP(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),k.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return k.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return cc(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=xr(s[1]);i.push(c)}else a.done()}).next(()=>{se(i.length===0)})})}containsKey(e,t){return sP(e,this.userId,t)}Nn(e){return oP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function sP(n,e,t){let r=Hp(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return cc(n).J({range:s,H:!0},(a,c,u)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function is(n){return Pt(n,"mutations")}function cc(n){return Pt(n,"documentMutations")}function oP(n){return Pt(n,"mutationQueues")}var Ec=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var PE=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new Ec(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>le.fromTimestamp(new st(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rc(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(se(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,s=[];return rc(e).J((o,a)=>{let c=Nu(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>k.waitFor(s)).next(()=>i)}forEachTarget(e,t){return rc(e).J((r,i)=>{let s=Nu(i);t(s)})}qn(e){return VN(e).get("targetGlobalKey").next(t=>(se(t!==null),t))}Qn(e,t){return VN(e).put("targetGlobalKey",t)}Kn(e,t){return rc(e).put(tP(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=go(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return rc(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=Nu(a);ad(t,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){let i=[],s=ss(e);return t.forEach(o=>{let a=hn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),k.waitFor(i)}removeMatchingKeys(e,t,r){let i=ss(e);return k.forEach(t,s=>{let o=hn(s.path);return k.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){let r=ss(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ss(e),s=me();return i.J({range:r,H:!0},(o,a,c)=>{let u=xr(o[1]),d=new J(u);s=s.add(d)}).next(()=>s)}containsKey(e,t){let r=hn(t.path),i=IDBKeyRange.bound([r],[s1(r)],!1,!0),s=0;return ss(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,t){return rc(e).get(t).next(r=>r?Nu(r):null)}};function rc(n){return Pt(n,"targets")}function VN(n){return Pt(n,"targetGlobal")}function ss(n){return Pt(n,"targetDocuments")}function LN([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var OE=class{constructor(e){this.Un=e,this.buffer=new Qe(LN),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();LN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},FE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){_s(t)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield ws(t)}yield this.Hn(3e5)}))}},VE=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(Un.oe);let r=new OE(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(FN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FN):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ic()<=yr.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function XG(n,e){return new VE(n,e)}var LE=class{constructor(e,t){this.db=e,this.garbageCollector=XG(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return $p(e,r)}removeReference(e,t,r){return $p(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $p(e,t)}nr(e,t){return function(i,s){let o=!1;return oP(i).Y(a=>sP(i,a,s).next(c=>(c&&(o=!0),k.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=t){let c=this.nr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,le.min()),ss(e).delete(function(f){return[0,hn(f.path)]}(o))))});i.push(c)}}).next(()=>k.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $p(e,t)}tr(e,t){let r=ss(e),i,s=Un.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==Un.oe&&t(new J(xr(i)),s),s=u,i=c):s=Un.oe}).next(()=>{s!==Un.oe&&t(new J(xr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function $p(n,e){return ss(n).put(function(r,i){return{targetId:0,path:hn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var vg=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ro(e).put(r)}removeEntry(e,t,r){return ro(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],hg(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=Tt.newInvalidDocument(t);return ro(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(i,s)=>{r=this.ir(t,s)}).next(()=>r)}sr(e,t){let r={size:0,document:Tt.newInvalidDocument(t)};return ro(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Mu(t))},(i,s)=>{r={document:this.ir(t,s),size:mg(s)}}).next(()=>r)}getEntries(e,t){let r=Sn();return this._r(e,t,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,t){let r=Sn(),i=new tt(J.comparator);return this._r(e,t,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,mg(o))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return k.resolve();let i=new Qe(BN);t.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(Mu(i.first()),Mu(i.last())),o=i.getIterator(),a=o.getNext();return ro(e).J({index:"documentKeyIndex",range:s},(c,u,d)=>{let f=J.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&BN(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(Mu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),hg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ro(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let d=Sn();for(let f of u){let g=this.ir(J.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(ld(t,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,t,r,i){let s=Sn(),o=UN(t,r),a=UN(t,Jn.max());return ro(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,d)=>{let f=this.ir(J.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new UE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jN(e).get("remoteDocumentGlobalKey").next(t=>(se(!!t),t))}rr(e,t){return jN(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=YG(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(le.min())))return r}return Tt.newInvalidDocument(e)}};function aP(n){return new jE(n)}var UE=class extends vg{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Fr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new Qe((s,o)=>pe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=TN(this.cr.serializer,o);i=i.add(s.path.popLast());let u=mg(c);r+=u-a.size,t.push(this.cr.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=TN(this.cr.serializer,o.convertToNoDocument(le.min()));t.push(this.cr.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,r)),k.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function jN(n){return Pt(n,"remoteDocumentGlobal")}function ro(n){return Pt(n,"remoteDocumentsV14")}function Mu(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function UN(n,e){let t=e.documentKey.path.toArray();return[n,hg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function BN(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=pe(t[s],r[s]),i)return i;return i=pe(t.length,r.length),i||(i=pe(t[t.length-2],r[r.length-2]),i||pe(t[t.length-1],r[r.length-1]))}var BE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var wg=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fu(r.mutation,i,Bn.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=Mr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ku();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Mr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Sn(),o=Ou(),a=function(){return Ou()}();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof fr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Fu(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new BE(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ou(),i=new tt((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Bn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||me()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=R1();d.forEach(g=>{if(!s.has(g)){let m=L1(t.get(g),r.get(g));m!==null&&f.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):k.resolve(Mr()),a=-1,c=s;return o.next(u=>k.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,me())).next(d=>({batchId:a,changes:M1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=ku();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=ku();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,c=>{let u=function(f,g){return new hr(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Tt.newInvalidDocument(d)))});let a=ku();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Fu(d.mutation,u,Bn.empty(),st.now()),ld(t,u)&&(a=a.insert(c,u))}),a})}};var $E=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:mt(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:ZI(i.bundledQuery),readTime:mt(i.readTime)}}(t)),k.resolve()}};var zE=class{constructor(){this.overlays=new tt(J.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Mr();return k.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Mr(),s=t.length+1,o=new J(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new tt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Mr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Mr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wu(t,r));let s=this.Ir.get(t);s===void 0&&(s=me(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var qE=class{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Xu=class{constructor(){this.Tr=new Qe(Dt.Er),this.dr=new Qe(Dt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Dt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Dt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new J(new ke([])),r=new Dt(t,e),i=new Dt(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new J(new ke([])),r=new Dt(t,e),i=new Dt(t,e+1),s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Dt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Dt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return J.comparator(e.key,t.key)||pe(e.wr,t.wr)}static Ar(e,t){return pe(e.wr,t.wr)||J.comparator(e.key,t.key)}};var HE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Qe(Dt.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Gu(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Dt(t,0),i=new Dt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qe(pe);return t.forEach(i=>{let s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;J.isDocumentKey(s)||(s=s.child(""));let o=new Dt(new J(s),0),a=new Qe(pe);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){se(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let s=new Dt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Dt(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var GE=class{constructor(e){this.Mr=e,this.docs=function(){return new tt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let r=Sn();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Sn(),o=t.path,a=new J(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$I(a1(d),r)<=0||(i.has(d.key)||ld(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,t,r,i){re()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new WE(this)}getSize(e){return k.resolve(this.size)}},WE=class extends vg{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var KE=class{constructor(e){this.persistence=e,this.Nr=new Fr(t=>go(t),ad),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xu,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var _g=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Un(0),this.Kr=!1,this.Kr=!0,this.$r=new qE,this.referenceDelegate=e(this),this.Ur=new KE(this),this.indexManager=new kE,this.remoteDocumentCache=function(i){return new GE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dg(t),this.Gr=new $E(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new HE(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new QE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},QE=class extends Xp{constructor(e){super(),this.currentSequenceNumber=e}},Eg=class n{constructor(e){this.persistence=e,this.Jr=new Xu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var YE=class{constructor(e){this.serializer=e}O(e,t,r,i){let s=new eg("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rN,{unique:!0}),c.createObjectStore("documentMutations")}(e),$N(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=k.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),$N(e)),o=o.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rN,{unique:!0});let f=u.store("mutations"),g=d.map(m=>f.put(m));return k.waitFor(g)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:mG});u.createIndex("collectionPathOverlayIndex",yG,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",vG,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:sG});u.createIndex("documentKeyIndex",oG),u.createIndex("collectionGroupIndex",aG)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:hG}).createIndex("sequenceNumberIndex",fG,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:pG}).createIndex("documentKeyIndex",gG,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=mg(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>k.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>k.forEach(a,c=>{se(c.userId===s.userId);let u=oo(this.serializer,c);return iP(e,s.userId,u).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new ke(o),u=function(f){return[0,hn(f)]}(c);s.push(t.get(u).next(d=>d?k.resolve():(f=>t.put({targetId:0,path:hn(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>k.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:dG});let r=t.store("collectionParents"),i=new Ju,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:hn(c)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new ke(o);return s(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,c],u)=>{let d=xr(a);return s(d.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let s=Nu(i),o=tP(this.serializer,s);return t.put(o)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=t.store("remoteDocumentsV14"),c=function(f){return f.document?new J(ke.fromString(f.document.name).popFirst(5)):f.noDocument?J.fromSegments(f.noDocument.path):f.unknownDocument?J.fromSegments(f.unknownDocument.path):re()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>k.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=aP(this.serializer),s=new _g(Eg.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:me();oo(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),k.forEach(a,(c,u)=>{let d=new Ct(u),f=fg.lt(this.serializer,d),g=s.getIndexManager(d),m=yg.lt(d,this.serializer,g,s.referenceDelegate);return new wg(i,m,f,g).recalculateAndSaveOverlaysForDocumentKeys(new Bu(t,Un.oe),c).next()})})}};function $N(n){n.createObjectStore("targetDocuments",{keyPath:lG}).createIndex("documentTargetsIndex",uG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cG,{unique:!0}),n.createObjectStore("targetGlobal")}var L0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ZE=class n{constructor(e,t,r,i,s,o,a,c,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!n.D())throw new $(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LE(this,i),this.Ai=t+"main",this.serializer=new dg(c),this.Ri=new us(this.Ai,this.hi,new YE(this.serializer)),this.$r=new CE,this.Ur=new PE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aP(this.serializer),this.Gr=new DE,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&pt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,L0);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Un(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>b(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>b(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>b(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(_s(e))return q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ru(e).get("owner").next(t=>k.resolve(this.vi(t)))}Ci(e){return zp(e).delete(this.clientId)}Fi(){return b(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=Pt(t,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return k.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?k.resolve(!0):Ru(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new $(O.FAILED_PRECONDITION,L0);return!1}}return!(!this.networkEnabled||!this.inForeground)||zp(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&q("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return b(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Bu(e,Un.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>zp(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return yg.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return fg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",s=function(c){return c===17?EG:c===16?_G:c===15?qI:c===14?p1:c===13?f1:c===12?wG:c===11?h1:void re()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new Bu(a,this.Qr?this.Qr.next():Un.oe),t==="readwrite-primary"?this.wi(o).next(c=>!!c||this.Si(o)).next(c=>{if(!c)throw pt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new $(O.FAILED_PRECONDITION,c1);return r(o)}).next(c=>this.Di(o).next(()=>c)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Ru(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $(O.FAILED_PRECONDITION,L0)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ru(e).put("owner",t)}static D(){return us.D()}bi(e){let t=Ru(e);return t.get("owner").next(r=>this.vi(r)?(q("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):k.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(pt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;Hm()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){pt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Ru(n){return Pt(n,"owner")}function zp(n){return Pt(n,"clientMetadata")}function XI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var JE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=me(),i=me();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var XE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ig=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Hm()?8:l1(ol())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new XE;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ic()<=yr.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",sc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(ic()<=yr.DEBUG&&q("QueryEngine","Query:",sc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ic()<=yr.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",sc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(t))):k.resolve())}Yi(e,t){if(gN(t))return k.resolve(null);let r=fn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ag(t,null,"F"),r=fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,ag(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return gN(t)||i.isEqual(le.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?k.resolve(null):(ic()<=yr.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sc(t)),this.rs(e,o,t,o1(i,-1)).next(a=>a))})}ts(e,t){let r=new Qe(A1(e));return t.forEach((i,s)=>{ld(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ic()<=yr.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",sc(t)),this.Ji.getDocumentsMatchingQuery(e,t,Jn.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var eI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new tt(pe),this._s=new Fr(s=>go(s),ad),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function cP(n,e,t,r){return new eI(n,e,t,r)}function lP(n,e){return b(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=me();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function e5(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),m=k.resolve();return g.forEach(w=>{m=m.next(()=>d.getEntry(c,w)).next(D=>{let C=u.docVersions.get(w);se(C!==null),D.version.compareTo(C)<0&&(f.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uP(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function t5(n,e){let t=Z(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,f)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(yt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(D,C,F){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(g,m,d)&&a.push(t.Ur.updateTargetData(s,m))});let c=Sn(),u=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(dP(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(le.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(f=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.os=i,s))}function dP(n,e,t){let r=me(),i=me();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Sn();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function n5(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ic(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new _c(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function bc(n,e,t){return b(this,null,function*(){let r=Z(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!_s(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function bg(n,e,t){let r=Z(n),i=le.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=Z(c),g=f._s.get(d);return g!==void 0?k.resolve(f.os.get(g)):f.Ur.getTargetData(u,d)}(r,o,fn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:le.min(),t?s:me())).next(a=>(pP(r,S1(e),a),{documents:a,Ts:s})))}function hP(n,e){let t=Z(n),r=Z(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function fP(n,e){let t=Z(n),r=t.us.get(e)||le.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,o1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(pP(t,e,i),i))}function pP(n,e,t){let r=n.us.get(e)||le.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}function r5(n,e,t,r){return b(this,null,function*(){let i=Z(n),s=me(),o=Sn();for(let u of t){let d=e.Es(u.metadata.name);u.document&&(s=s.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),o=o.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),c=yield Ic(i,function(d){return fn(Rc(ke.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>dP(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Ur.addMatchingKeys(u,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function i5(r,i){return b(this,arguments,function*(n,e,t=me()){let s=yield Ic(n,fn(ZI(e.bundledQuery))),o=Z(n);return o.persistence.runTransaction("Save named query","readwrite",a=>{let c=mt(e.readTime);if(s.snapshotVersion.compareTo(c)>=0)return o.Gr.saveNamedQuery(a,e);let u=s.withResumeToken(yt.EMPTY_BYTE_STRING,c);return o.os=o.os.insert(u.targetId,u),o.Ur.updateTargetData(a,u).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,t,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function zN(n,e){return`firestore_clients_${n}_${e}`}function qN(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function j0(n,e){return`firestore_targets_${n}_${e}`}var Dg=class n{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new n(e,t,i.state,s):(pt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Vu=class n{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){let r=JSON.parse(t),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new n(e,r.state,i):(pt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Cg=class n{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=KI();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=u1(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new n(e,s):(pt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},tI=class n{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n(t.clientId,t.onlineState):(pt("SharedClientState",`Failed to parse online state: ${e}`),null)}},ed=class{constructor(){this.activeTargetIds=KI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Lu=class{constructor(e,t,r,i,s){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new tt(pe),this.started=!1,this.bs=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=zN(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new ed),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return b(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(zN(this.persistenceKey,r));if(i){let s=Cg.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let t=this.storage.getItem(this.xs);if(t){let r=this.Ls(t);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(j0(this.persistenceKey,e));if(i){let s=Vu.Rs(e,i);s&&(r=s.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(j0(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return q("SharedClientState","READ",e,t),t}setItem(e,t){q("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let t=e;if(t.storageArea===this.storage){if(q("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void pt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>b(this,null,function*(){if(this.started){if(t.key!==null){if(this.Cs.test(t.key)){if(t.newValue==null){let r=this.Gs(t.key);return this.zs(r,null)}{let r=this.js(t.key,t.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(t.key)){if(t.newValue!==null){let r=this.Hs(t.key,t.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(t.key)){if(t.newValue!==null){let r=this.Ys(t.key,t.newValue);if(r)return this.Zs(r)}}else if(t.key===this.xs){if(t.newValue!==null){let r=this.Ls(t.newValue);if(r)return this.Bs(r)}}else if(t.key===this.vs){let r=function(s){let o=Un.oe;if(s!=null)try{let a=JSON.parse(s);se(typeof a=="number"),o=a}catch(a){pt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(t.newValue);r!==Un.oe&&this.sequenceNumberHandler(r)}else if(t.key===this.Os){let r=this.Xs(t.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){let i=new Dg(this.currentUser,e,t,r),s=qN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){let t=qN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){let t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,r){let i=j0(this.persistenceKey,e),s=new Vu(e,t,r);this.setItem(i,s.Vs())}Ws(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){let t=this.Cs.exec(e);return t?t[1]:null}js(e,t){let r=this.Gs(e);return Cg.Rs(r,t)}Hs(e,t){let r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Dg.Rs(new Ct(s),i,t)}Ys(e,t){let r=this.Ms.exec(e),i=Number(r[1]);return Vu.Rs(i,t)}Ls(e){return tI.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return b(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){let r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=KI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},Tg=class{constructor(){this.so=new ed,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ed,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nI=class{_o(e){}shutdown(){}};var Sg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qp=null;function U0(){return qp===null?qp=function(){return 268435456+Math.round(2147483648*Math.random())}():qp++,"0x"+qp.toString(16)}var s5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var rI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var en="WebChannelConnection",iI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=U0(),c=this.xo(t,r.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,i).then(d=>(q("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw dr("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=s5[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=U0();return new Promise((o,a)=>{let c=new k0;c.setWithCredentials(!0),c.listenOnce(N0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Su.NO_ERROR:let d=c.getResponseJson();q(en,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Su.TIMEOUT:q(en,`RPC '${e}' ${s} timed out`),a(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:let f=c.getStatus();if(q(en,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let m=g?.error;if(m&&m.status&&m.message){let w=function(C){let F=C.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(F)>=0?F:O.UNKNOWN}(m.status);a(new $(w,m.message))}else a(new $(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new $(O.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{q(en,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);q(en,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=U0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=F0(),a=O0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=s.join("");q(en,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),g=!1,m=!1,w=new rI({Io:C=>{m?q(en,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(g||(q(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),q(en,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},To:()=>f.close()}),D=(C,F,L)=>{C.listen(F,j=>{try{L(j)}catch(H){setTimeout(()=>{throw H},0)}})};return D(f,Xa.EventType.OPEN,()=>{m||(q(en,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),D(f,Xa.EventType.CLOSE,()=>{m||(m=!0,q(en,`RPC '${e}' stream ${i} transport closed`),w.So())}),D(f,Xa.EventType.ERROR,C=>{m||(m=!0,dr(en,`RPC '${e}' stream ${i} transport errored:`,C),w.So(new $(O.UNAVAILABLE,"The operation could not be completed")))}),D(f,Xa.EventType.MESSAGE,C=>{var F;if(!m){let L=C.data[0];se(!!L);let j=L,H=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(H){q(en,`RPC '${e}' stream ${i} received error:`,H);let ee=H.status,Q=function(_){let T=bt[_];if(T!==void 0)return B1(T)}(ee),I=H.message;Q===void 0&&(Q=O.INTERNAL,I="Unknown error status: "+ee+" with message "+H.message),m=!0,w.So(new $(Q,I)),f.close()}else q(en,`RPC '${e}' stream ${i} received:`,L),w.bo(L)}}),D(a,P0.STAT_EVENT,C=>{C.stat===Up.PROXY?q(en,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Up.NOPROXY&&q(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function gP(){return typeof window<"u"?window:null}function Qp(){return typeof document<"u"?document:null}function ud(n){return new wE(n,!0)}var td=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ag=class{constructor(e,t,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new td(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return b(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return b(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return b(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(pt(t.toString()),pt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>b(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sI=class extends Ag{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=zG(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?mt(o.readTime):le.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=IE(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=sg(c)?{documents:Q1(s,c)}:{query:Y1(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=z1(s,o.resumeToken);let u=_E(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=wc(s,o.snapshotVersion.toTimestamp());let u=_E(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=HG(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=IE(this.serializer),t.removeTarget=e,this.a_(t)}},oI=class extends Ag{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return se(!!e.streamToken),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=qG(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=IE(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Zu(this.serializer,r))};this.a_(t)}};var aI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,EE(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,EE(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},cI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pt(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var lI=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>b(this,null,function*(){Es(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(c){return b(this,null,function*(){let u=Z(c);u.L_.add(4),yield kc(u),u.q_.set("Unknown"),u.L_.delete(4),yield dd(u)})}(this))}))}),this.q_=new cI(r,i)}};function dd(n){return b(this,null,function*(){if(Es(n))for(let e of n.B_)yield e(!0)})}function kc(n){return b(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Qg(n,e){let t=Z(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nb(t)?tb(t):Pc(t).r_()&&eb(t,e))}function Dc(n,e){let t=Z(n),r=Pc(t);t.N_.delete(e),r.r_()&&mP(t,e),t.N_.size===0&&(r.r_()?r.o_():Es(t)&&t.q_.set("Unknown"))}function eb(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pc(n).A_(e)}function mP(n,e){n.Q_.xe(e),Pc(n).R_(e)}function tb(n){n.Q_=new vE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Pc(n).start(),n.q_.v_()}function nb(n){return Es(n)&&!Pc(n).n_()&&n.N_.size>0}function Es(n){return Z(n).L_.size===0}function yP(n){n.Q_=void 0}function o5(n){return b(this,null,function*(){n.q_.set("Online")})}function a5(n){return b(this,null,function*(){n.N_.forEach((e,t)=>{eb(n,e)})})}function c5(n,e){return b(this,null,function*(){yP(n),nb(n)?(n.q_.M_(e),tb(n)):n.q_.set("Unknown")})}function l5(n,e,t){return b(this,null,function*(){if(n.q_.set("Online"),e instanceof lg&&e.state===2&&e.cause)try{yield function(i,s){return b(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xg(n,r)}else if(e instanceof hc?n.Q_.Ke(e):e instanceof cg?n.Q_.He(e):n.Q_.We(e),!t.isEqual(le.min()))try{let r=yield uP(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),mP(s,c);let f=new _c(d.target,c,u,d.sequenceNumber);eb(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield xg(n,r)}})}function xg(n,e,t){return b(this,null,function*(){if(!_s(e))throw e;n.L_.add(1),yield kc(n),n.q_.set("Offline"),t||(t=()=>uP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield dd(n)}))})}function vP(n,e){return e().catch(t=>xg(n,t,e))}function Nc(n){return b(this,null,function*(){let e=Z(n),t=vs(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;u5(e);)try{let i=yield n5(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,d5(e,i)}catch(i){yield xg(e,i)}wP(e)&&_P(e)})}function u5(n){return Es(n)&&n.O_.length<10}function d5(n,e){n.O_.push(e);let t=vs(n);t.r_()&&t.V_&&t.m_(e.mutations)}function wP(n){return Es(n)&&!vs(n).n_()&&n.O_.length>0}function _P(n){vs(n).start()}function h5(n){return b(this,null,function*(){vs(n).p_()})}function f5(n){return b(this,null,function*(){let e=vs(n);for(let t of n.O_)e.m_(t.mutations)})}function p5(n,e,t){return b(this,null,function*(){let r=n.O_.shift(),i=gE.from(r,e,t);yield vP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nc(n)})}function g5(n,e){return b(this,null,function*(){e&&vs(n).V_&&(yield function(r,i){return b(this,null,function*(){if(function(o){return U1(o)&&o!==O.ABORTED}(i.code)){let s=r.O_.shift();vs(r).s_(),yield vP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Nc(r)}})}(n,e)),wP(n)&&_P(n)})}function HN(n,e){return b(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Es(t);t.L_.add(3),yield kc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield dd(t)})}function uI(n,e){return b(this,null,function*(){let t=Z(n);e?(t.L_.delete(2),yield dd(t)):e||(t.L_.add(2),yield kc(t),t.q_.set("Unknown"))})}function Pc(n){return n.K_||(n.K_=function(t,r,i){let s=Z(t);return s.w_(),new sI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:o5.bind(null,n),Ro:a5.bind(null,n),mo:c5.bind(null,n),d_:l5.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.K_.s_(),nb(n)?tb(n):n.q_.set("Unknown")):(yield n.K_.stop(),yP(n))}))),n.K_}function vs(n){return n.U_||(n.U_=function(t,r,i){let s=Z(t);return s.w_(),new oI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h5.bind(null,n),mo:g5.bind(null,n),f_:f5.bind(null,n),g_:p5.bind(null,n)}),n.B_.push(e=>b(this,null,function*(){e?(n.U_.s_(),yield Nc(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var dI=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Oc(n,e){if(pt("AsyncQueue",`${e}: ${n}`),_s(n))return new $(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Mg=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=ku(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Rg=class{constructor(){this.W_=new tt(J.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):re():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Cc=class n{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Mg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var hI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},fI=class{constructor(){this.queries=GN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Z(t),s=i.queries;i.queries=GN(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}};function GN(){return new Fr(n=>T1(n),cd)}function rb(n,e){return b(this,null,function*(){let t=Z(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new hI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=Oc(o,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&sb(t)})}function ib(n,e){return b(this,null,function*(){let t=Z(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function m5(n,e){let t=Z(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sb(t)}function y5(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function sb(n){n.Y_.forEach(e=>{e.next()})}var pI,WN;(WN=pI||(pI={})).ea="default",WN.Cache="cache";var nd=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pI.Cache}};var gI=class{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}};var kg=class{constructor(e){this.serializer=e}Es(e){return kr(this.serializer,e)}ds(e){return e.metadata.exists?K1(this.serializer,e.document,!1):Tt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return mt(e)}},mI=class{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=EP(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;let r=ke.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){let t=new Map,r=new kg(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.Es(i.metadata.name);for(let o of i.metadata.queries){let a=(t.get(o)||me()).add(s);t.set(o,a)}}return t}complete(){return b(this,null,function*(){let e=yield r5(this.localStore,new kg(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(let r of this.queries)yield i5(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function EP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var Ng=class{constructor(e){this.key=e}},Pg=class{constructor(e){this.key=e}},Og=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=A1(e),this.Ra=new Mg(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Rg,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),m=ld(this.query,f)?f:null,w=!!g&&this.mutatedKeys.has(g.key),D=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),C=!1;g&&m?g.data.isEqual(m.data)?w!==D&&(r.track({type:3,doc:m}),C=!0):this.ga(g,m)||(r.track({type:2,doc:m}),C=!0,(c&&this.Aa(m,c)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),C=!0):g&&!m&&(r.track({type:1,doc:g}),C=!0,(c||u)&&(a=!0)),C&&(m?(o=o.add(m),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(m,w){let D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return D(m)-D(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Cc(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Pg(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Ng(r))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},yI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},vI=class{constructor(e){this.key=e,this.va=!1}},wI=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Fr(a=>T1(a),cd),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(J.comparator),this.Na=new Map,this.La=new Xu,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function v5(n,e,t=!0){return b(this,null,function*(){let r=Yg(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield IP(r,e,t,!0),i})}function w5(n,e){return b(this,null,function*(){let t=Yg(n);yield IP(t,e,!0,!1)})}function IP(n,e,t,r){return b(this,null,function*(){let i=yield Ic(n.localStore,fn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield ob(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Qg(n.remoteStore,i),a})}function ob(n,e,t,r,i){return b(this,null,function*(){n.Ka=(f,g,m)=>function(D,C,F,L){return b(this,null,function*(){let j=C.view.ma(F);j.ns&&(j=yield bg(D.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,j)));let H=L&&L.targetChanges.get(C.targetId),ee=L&&L.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(j,D.isPrimaryClient,H,ee);return _I(D,C.targetId,Q.wa),Q.snapshot})}(n,f,g,m);let s=yield bg(n.localStore,e,!0),o=new Og(e,s.Ts),a=o.ma(s.documents),c=Qu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);_I(n,t,u.wa);let d=new yI(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function _5(n,e,t){return b(this,null,function*(){let r=Z(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!cd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield bc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Dc(r.remoteStore,i.targetId),Tc(r,i.targetId)}).catch(ws))):(Tc(r,i.targetId),yield bc(r.localStore,i.targetId,!0))})}function E5(n,e){return b(this,null,function*(){let t=Z(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Dc(t.remoteStore,r.targetId))})}function I5(n,e,t){return b(this,null,function*(){let r=ub(n);try{let i=yield function(o,a){let c=Z(o),u=st.now(),d=a.reduce((m,w)=>m.add(w.key),me()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=Sn(),D=me();return c.cs.getEntries(m,d).next(C=>{w=C,w.forEach((F,L)=>{L.isValidDocument()||(D=D.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(C=>{f=C;let F=[];for(let L of a){let j=FG(L,f.get(L.key).overlayedDocument);j!=null&&F.push(new fr(L.key,j,w1(j.value.mapValue),dt.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,F,a)}).next(C=>{g=C;let F=C.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(m,C.batchId,F)})}).then(()=>({batchId:g.batchId,changes:M1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new tt(pe)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,t),yield wi(r,i.changes),yield Nc(r.remoteStore)}catch(i){let s=Oc(i,"Failed to persist write");t.reject(s)}})}function bP(n,e){return b(this,null,function*(){let t=Z(n);try{let r=yield t5(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?se(o.va):i.removedDocuments.size>0&&(se(o.va),o.va=!1))}),yield wi(t,r,e)}catch(r){yield ws(r)}})}function KN(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Z(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.j_)g.Z_(a)&&(u=!0)}),u&&sb(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function b5(n,e,t){return b(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(J.comparator);o=o.insert(s,Tt.newNoDocument(s,le.min()));let a=me().add(s),c=new Ku(le.min(),new Map,new tt(pe),o,a);yield bP(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),lb(r)}else yield bc(r.localStore,e,!1).then(()=>Tc(r,e,t)).catch(ws)})}function D5(n,e){return b(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield e5(t.localStore,e);cb(t,r,null),ab(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wi(t,i)}catch(i){yield ws(i)}})}function C5(n,e,t){return b(this,null,function*(){let r=Z(n);try{let i=yield function(o,a){let c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(se(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);cb(r,e,t),ab(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wi(r,i)}catch(i){yield ws(i)}})}function T5(n,e){return b(this,null,function*(){let t=Z(n);Es(t.remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=Z(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(r===-1)return void e.resolve();let i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){let i=Oc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function ab(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function cb(n,e,t){let r=Z(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Tc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||DP(n,r)})}function DP(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Dc(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),lb(n))}function _I(n,e,t){for(let r of t)r instanceof Ng?(n.La.addReference(r.key,e),S5(n,r)):r instanceof Pg?(q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||DP(n,r.key)):re()}function S5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(r),lb(n))}function lb(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new J(ke.fromString(e)),r=n.qa.next();n.Na.set(r,new vI(t)),n.Oa=n.Oa.insert(t,r),Qg(n.remoteStore,new _c(fn(Rc(t.path)),r,"TargetPurposeLimboResolution",Un.oe))}}function wi(n,e,t){return b(this,null,function*(){let r=Z(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let f=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);let f=JE.Wi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,u){return b(this,null,function*(){let d=Z(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>k.forEach(u,g=>k.forEach(g.$i,m=>d.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>k.forEach(g.Ui,m=>d.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!_s(f))throw f;q("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let m=d.os.get(g),w=m.snapshotVersion,D=m.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(g,D)}}})}(r.localStore,s))})}function A5(n,e){return b(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield lP(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new $(O.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wi(t,r.hs)}})}function x5(n,e){let t=Z(n),r=t.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function M5(n,e){return b(this,null,function*(){let t=Z(n),r=yield bg(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&_I(t,e.targetId,i.wa),i})}function R5(n,e){return b(this,null,function*(){let t=Z(n);return fP(t.localStore,e).then(r=>wi(t,r))})}function k5(n,e,t,r){return b(this,null,function*(){let i=Z(n),s=yield function(a,c){let u=Z(a),d=Z(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,c).next(g=>g?u.localDocuments.getDocuments(f,g):k.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?yield Nc(i.remoteStore):t==="acknowledged"||t==="rejected"?(cb(i,e,r||null),ab(i,e),function(a,c){Z(Z(a).mutationQueue).On(c)}(i.localStore,e)):re(),yield wi(i,s)):q("SyncEngine","Cannot apply mutation batch with id: "+e)})}function N5(n,e){return b(this,null,function*(){let t=Z(n);if(Yg(t),ub(t),e===!0&&t.Qa!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=yield QN(t,r.toArray());t.Qa=!0,yield uI(t.remoteStore,!0);for(let s of i)Qg(t.remoteStore,s)}else if(e===!1&&t.Qa!==!1){let r=[],i=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Tc(t,o),bc(t.localStore,o,!0))),Dc(t.remoteStore,o)}),yield i,yield QN(t,r),function(o){let a=Z(o);a.Na.forEach((c,u)=>{Dc(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new tt(J.comparator)}(t),t.Qa=!1,yield uI(t.remoteStore,!1)}})}function QN(n,e,t){return b(this,null,function*(){let r=Z(n),i=[],s=[];for(let o of e){let a,c=r.Ma.get(o);if(c&&c.length!==0){a=yield Ic(r.localStore,fn(c[0]));for(let u of c){let d=r.Fa.get(u),f=yield M5(r,d);f.snapshot&&s.push(f.snapshot)}}else{let u=yield hP(r.localStore,o);a=yield Ic(r.localStore,u),yield ob(r,CP(u),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})}function CP(n){return C1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function P5(n){return function(t){return Z(Z(t).persistence).Qi()}(Z(n).localStore)}function O5(n,e,t,r){return b(this,null,function*(){let i=Z(n);if(i.Qa)return void q("SyncEngine","Ignoring unexpected query state notification.");let s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=yield fP(i.localStore,S1(s[0])),a=Ku.createSynthesizedRemoteEventForCurrentChange(e,t==="current",yt.EMPTY_BYTE_STRING);yield wi(i,o,a);break}case"rejected":yield bc(i.localStore,e,!0),Tc(i,e,r);break;default:re()}})}function F5(n,e,t){return b(this,null,function*(){let r=Yg(n);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){q("SyncEngine","Adding an already active target "+i);continue}let s=yield hP(r.localStore,i),o=yield Ic(r.localStore,s);yield ob(r,CP(s),o.targetId,!1,o.resumeToken),Qg(r.remoteStore,o)}for(let i of t)r.Ma.has(i)&&(yield bc(r.localStore,i,!1).then(()=>{Dc(r.remoteStore,i),Tc(r,i)}).catch(ws))}})}function Yg(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b5.bind(null,e),e.Ca.d_=m5.bind(null,e.eventManager),e.Ca.$a=y5.bind(null,e.eventManager),e}function ub(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C5.bind(null,e),e}function V5(n,e,t){let r=Z(n);(function(s,o,a){return b(this,null,function*(){try{let c=yield o.getMetadata();if(yield function(m,w){let D=Z(m),C=mt(w.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",F=>D.Gr.getBundleMetadata(F,w.id)).then(F=>!!F&&F.createTime.compareTo(C)>=0)}(s.localStore,c))return yield o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(EP(c));let u=new mI(c,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let g=yield u.la(d);g&&a._updateProgress(g),d=yield o.Ua()}let f=yield u.complete();return yield wi(s,f.Ia,void 0),yield function(m,w){let D=Z(m);return D.persistence.runTransaction("Save bundle","readwrite",C=>D.Gr.saveBundleMetadata(C,w))}(s.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return dr("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var EI=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return cP(this.persistence,new Ig,t.initialUser,this.serializer)}Ga(t){return new _g(Eg.Zr,this.serializer)}Wa(t){return new Tg}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Fg=class n extends EI{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return b(this,null,function*(){yield zm(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield ub(this.Ja.syncEngine),yield Nc(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return cP(this.persistence,new Ig,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new FE(r,e.asyncQueue,t)}Ha(e,t){let r=new X0(t,this.persistence);return new J0(e.asyncQueue,r)}Ga(e){let t=XI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new ZE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gP(),Qp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new Tg}},II=class n extends Fg{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){return b(this,null,function*(){yield zm(n.prototype,this,"initialize").call(this,e);let t=this.Ja.syncEngine;this.sharedClientState instanceof Lu&&(this.sharedClientState.syncEngine={no:k5.bind(null,t),ro:O5.bind(null,t),io:F5.bind(null,t),Qi:P5.bind(null,t),eo:R5.bind(null,t)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>b(this,null,function*(){yield N5(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}Wa(e){let t=gP();if(!Lu.D(t))throw new $(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=XI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lu(t,e.asyncQueue,r,e.clientId,e.initialUser)}},db=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=A5.bind(null,this.syncEngine),yield uI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new fI}()}createDatastore(t){let r=ud(t.databaseInfo.databaseId),i=function(o){return new iI(o)}(t.databaseInfo);return function(o,a,c,u){return new aI(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new lI(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>KN(this.syncEngine,r,0),function(){return Sg.D()?new Sg:new nI}())}createSyncEngine(t,r){return function(s,o,a,c,u,d,f){let g=new wI(s,o,a,c,u,d);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(s){return b(this,null,function*(){let o=Z(s);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield kc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();function YN(n,e=10240){let t=0;return{read(){return b(this,null,function*(){if(t<n.byteLength){let i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})},cancel(){return b(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Sc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var bI=class{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Nt,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}getMetadata(){return b(this,null,function*(){return this.metadata.promise})}Ua(){return b(this,null,function*(){return yield this.getMetadata(),this.tu()})}tu(){return b(this,null,function*(){let e=yield this.nu();if(e===null)return null;let t=this.eu.decode(e),r=Number(t);isNaN(r)&&this.ru(`length string (${t}) is not valid number`);let i=yield this.iu(r);return new gI(JSON.parse(i),e.length+r)})}su(){return this.buffer.findIndex(e=>e===123)}nu(){return b(this,null,function*(){for(;this.su()<0&&!(yield this.ou()););if(this.buffer.length===0)return null;let e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t})}iu(e){return b(this,null,function*(){for(;this.buffer.length<e;)(yield this.ou())&&this.ru("Reached the end of bundle when more is expected.");let t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t})}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){return b(this,null,function*(){let e=yield this.Xa.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done})}};var DI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return b(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=yield function(i,s){return b(this,null,function*(){let o=Z(i),a={documents:s.map(f=>Yu(o.serializer,f))},c=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,ke.emptyPath(),a,s.length),u=new Map;c.forEach(f=>{let g=$G(o.serializer,f);u.set(g.key.toString(),g)});let d=[];return s.forEach(f=>{let g=u.get(f.toString());se(!!g),d.push(g)}),d})}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t})}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ys(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return b(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=J.fromPath(r);this.mutations.push(new Hu(i,this.precondition(i)))}),yield function(r,i){return b(this,null,function*(){let s=Z(r),o={writes:i.map(a=>Zu(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,ke.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw re();t=le.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new $(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(le.min())?dt.exists(!1):dt.updateTime(t):dt.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(le.min()))throw new $(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(t)}return dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var CI=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new td(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(()=>b(this,null,function*(){let e=new DI(this.datastore),t=this.cu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})}))}cu(e){try{let t=this.updateFunction(e);return!od(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!U1(t)}return!1}};var TI=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>b(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Oc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function B0(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(this,null,function*(){r.isEqual(i)||(yield lP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function ZN(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield hb(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>HN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>HN(e.remoteStore,i)),n._onlineComponents=e})}function hb(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield B0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;dr("Error using user provided cache. Falling back to memory cache: "+t),yield B0(n,new EI)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield B0(n,new EI);return n._offlineComponents})}function Zg(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZN(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield ZN(n,new db))),n._onlineComponents})}function TP(n){return hb(n).then(e=>e.persistence)}function fb(n){return hb(n).then(e=>e.localStore)}function SP(n){return Zg(n).then(e=>e.remoteStore)}function pb(n){return Zg(n).then(e=>e.syncEngine)}function L5(n){return Zg(n).then(e=>e.datastore)}function Ac(n){return b(this,null,function*(){let e=yield Zg(n),t=e.eventManager;return t.onListen=v5.bind(null,e.syncEngine),t.onUnlisten=_5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E5.bind(null,e.syncEngine),t})}function j5(n){return n.asyncQueue.enqueue(()=>b(this,null,function*(){let e=yield TP(n),t=yield SP(n);return e.setNetworkEnabled(!0),function(i){let s=Z(i);return s.L_.delete(0),dd(s)}(t)}))}function U5(n){return n.asyncQueue.enqueue(()=>b(this,null,function*(){let e=yield TP(n),t=yield SP(n);return e.setNetworkEnabled(!1),function(i){return b(this,null,function*(){let s=Z(i);s.L_.add(0),yield kc(s),s.q_.set("Offline")})}(t)}))}function B5(n,e){let t=new Nt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(i,s,o){return b(this,null,function*(){try{let a=yield function(u,d){let f=Z(u);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Oc(a,`Failed to get document '${s} from cache`);o.reject(c)}})}(yield fb(n),e,t)})),t.promise}function AP(n,e,t={}){let r=new Nt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(s,o,a,c,u){let d=new Sc({next:g=>{d.Za(),o.enqueueAndForget(()=>ib(s,f));let m=g.docs.has(a);!m&&g.fromCache?u.reject(new $(O.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new nd(Rc(a.path),d,{includeMetadataChanges:!0,_a:!0});return rb(s,f)}(yield Ac(n),n.asyncQueue,e,t,r)})),r.promise}function $5(n,e){let t=new Nt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(i,s,o){return b(this,null,function*(){try{let a=yield bg(i,s,!0),c=new Og(s,a.Ts),u=c.ma(a.documents),d=c.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){let c=Oc(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield fb(n),e,t)})),t.promise}function xP(n,e,t={}){let r=new Nt;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(s,o,a,c,u){let d=new Sc({next:g=>{d.Za(),o.enqueueAndForget(()=>ib(s,f)),g.fromCache&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new nd(a,d,{includeMetadataChanges:!0,_a:!0});return rb(s,f)}(yield Ac(n),n.asyncQueue,e,t,r)})),r.promise}function z5(n,e){let t=new Sc(e);return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(i,s){Z(i).Y_.add(s),s.next()}(yield Ac(n),t)})),()=>{t.Za(),n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(i,s){Z(i).Y_.delete(s)}(yield Ac(n),t)}))}}function q5(n,e,t,r){let i=function(o,a){let c;return c=typeof o=="string"?$1().encode(o):o,function(d,f){return new bI(d,f)}(function(d,f){if(d instanceof Uint8Array)return YN(d,f);if(d instanceof ArrayBuffer)return YN(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(t,ud(e));n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){V5(yield pb(n),i,r)}))}function H5(n,e){return n.asyncQueue.enqueue(()=>b(this,null,function*(){return function(r,i){let s=Z(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield fb(n),e)}))}function MP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var JN=new Map;function gb(n,e,t){if(!t)throw new $(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mb(n,e,t,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XN(n){if(!J.isDocumentKey(n))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e1(n){if(J.isDocumentKey(n))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":re()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Jg(n);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RP(n,e){if(e<=0)throw new $(O.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var Vg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},wo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $0;switch(r.type){case"firstParty":return new G0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=JN.get(t);r&&(q("ComponentProvider","Removing Datastore"),JN.delete(t),r.terminate())}(this),Promise.resolve()}};function kP(n,e,t,r={}){var i;let s=(n=Pe(n,wo))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ct.MOCK_USER;else{a=aC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ct(u)}n._authCredentials=new z0(new Yp(a,c))}}var $t=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ze=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Nr=class n extends $t{constructor(e,t,r){super(e,t,Rc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function yb(n,e,...t){if(n=rt(n),gb("collection","path",e),n instanceof wo){let r=ke.fromString(e,...t);return e1(r),new Nr(n,null,r)}{if(!(n instanceof Ze||n instanceof Nr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return e1(r),new Nr(n.firestore,null,r)}}function NP(n,e){if(n=Pe(n,wo),gb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $t(n,null,function(r){return new hr(ke.emptyPath(),r)}(e))}function hd(n,e,...t){if(n=rt(n),arguments.length===1&&(e=Zp.newId()),gb("doc","path",e),n instanceof wo){let r=ke.fromString(e,...t);return XN(r),new Ze(n,null,new J(r))}{if(!(n instanceof Ze||n instanceof Nr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return XN(r),new Ze(n.firestore,n instanceof Nr?n.converter:null,new J(r))}}function vb(n,e){return n=rt(n),e=rt(e),(n instanceof Ze||n instanceof Nr)&&(e instanceof Ze||e instanceof Nr)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wb(n,e){return n=rt(n),e=rt(e),n instanceof $t&&e instanceof $t&&n.firestore===e.firestore&&cd(n._query,e._query)&&n.converter===e.converter}var Lg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new td(this,"async_queue_retry"),this.Vu=()=>{let r=Qp();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Qp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Qp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Nt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return b(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_s(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=dI.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}wu(){return b(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function SI(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var AI=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var PP=-1,ot=class extends wo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lg(e),this._firestoreClient=void 0,yield e}})}};function zt(n){if(n._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||OP(n),n._firestoreClient}function OP(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,u,d){return new eE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MP(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new TI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function FP(n,e){dr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return LP(n,db.provider,{build:r=>new Fg(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function VP(n){return b(this,null,function*(){dr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings();LP(n,db.provider,{build:t=>new II(t,e.cacheSizeBytes)})})}function LP(n,e,t){if((n=Pe(n,ot))._firestoreClient||n._terminated)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new $(O.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},OP(n)}function jP(n){if(n._initialized&&!n._terminated)throw new $(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Nt;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{yield function(r){return b(this,null,function*(){if(!us.D())return Promise.resolve();let i=r+"main";yield us.delete(i)})}(XI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function UP(n){return function(t){let r=new Nt;return t.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return T5(yield pb(t),r)})),r.promise}(zt(n=Pe(n,ot)))}function BP(n){return j5(zt(n=Pe(n,ot)))}function $P(n){return U5(zt(n=Pe(n,ot)))}function zP(n,e){let t=zt(n=Pe(n,ot)),r=new AI;return q5(t,n._databaseId,e,r),r}function qP(n,e){return H5(zt(n=Pe(n,ot)),e).then(t=>t?new $t(n,null,t.query):null)}var Vr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(t){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yi=class{constructor(e){this._methodName=e}};var _o=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var rd=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var G5=/^__.*__$/,xI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ms(e,this.data,t,this.fieldTransforms)}},jg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function HP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var Ug=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(HP(this.Cu)&&G5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},MI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ud(e)}Qu(e,t,r,i=!1){return new Ug({Cu:e,methodName:t,qu:r,path:gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Do(n){let e=n._freezeSettings(),t=ud(n._databaseId);return new MI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Xg(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);Ib("Data must be an object, but it was:",o,r);let a=KP(r,o),c,u;if(s.merge)c=new Bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=OI(e,f,t);if(!o.contains(g))throw new $(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);YP(d,g)||d.push(g)}c=new Bn(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new xI(new tn(a),c,u)}var id=class n extends yi{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function GP(n,e,t){return new Ug({Cu:3,qu:e.settings.qu,methodName:n._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var RI=class n extends yi{_toFieldTransform(e){return new mo(e.path,new ps)}isEqual(e){return e instanceof n}},kI=class n extends yi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=GP(this,e,!0),r=this.Ku.map(s=>Co(s,t)),i=new gi(r);return new mo(e.path,i)}isEqual(e){return e instanceof n&&Gm(this.Ku,e.Ku)}},NI=class n extends yi{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){let t=GP(this,e,!0),r=this.Ku.map(s=>Co(s,t)),i=new mi(r);return new mo(e.path,i)}isEqual(e){return e instanceof n&&Gm(this.Ku,e.Ku)}},PI=class n extends yi{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){let t=new gs(e.serializer,N1(e.serializer,this.$u));return new mo(e.path,t)}isEqual(e){return e instanceof n&&this.$u===e.$u}};function _b(n,e,t,r){let i=n.Qu(1,e,t);Ib("Data must be an object, but it was:",i,r);let s=[],o=tn.empty();bo(r,(c,u)=>{let d=bb(e,c,t);u=rt(u);let f=i.Nu(d);if(u instanceof id)s.push(d);else{let g=Co(u,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new Bn(s);return new jg(o,a,i.fieldTransforms)}function Eb(n,e,t,r,i,s){let o=n.Qu(1,e,t),a=[OI(e,r,t)],c=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(OI(e,s[g])),c.push(s[g+1]);let u=[],d=tn.empty();for(let g=a.length-1;g>=0;--g)if(!YP(u,a[g])){let m=a[g],w=c[g];w=rt(w);let D=o.Nu(m);if(w instanceof id)u.push(m);else{let C=Co(w,D);C!=null&&(u.push(m),d.set(m,C))}}let f=new Bn(u);return new jg(d,f,o.fieldTransforms)}function WP(n,e,t,r=!1){return Co(t,n.Qu(r?4:3,e))}function Co(n,e){if(QP(n=rt(n)))return Ib("Unsupported field value:",e,n),KP(n,e);if(n instanceof yi)return function(r,i){if(!HP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Co(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=st.fromDate(r);return{timestampValue:wc(i.serializer,s)}}if(r instanceof st){let s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wc(i.serializer,s)}}if(r instanceof _o)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:z1(i.serializer,r._byteString)};if(r instanceof Ze){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return QI(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Jg(r)}`)}(n,e)}function KP(n,e){let t={};return g1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(n,(r,i)=>{let s=Co(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function QP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof _o||n instanceof Vr||n instanceof Ze||n instanceof yi||n instanceof rd)}function Ib(n,e,t){if(!QP(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Jg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function OI(n,e,t){if((e=rt(e))instanceof pr)return e._internalPath;if(typeof e=="string")return bb(n,e);throw Bg("Field path arguments must be of type string or ",n,!1,void 0,t)}var W5=new RegExp("[~\\*/\\[\\]]");function bb(n,e,t){if(e.search(W5)>=0)throw Bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pr(...e.split("."))._internalPath}catch{throw Bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bg(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(O.INVALID_ARGUMENT,a+n+c)}function YP(n,e){return n.some(t=>t.isEqual(e))}var Eo=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(em("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FI=class extends Eo{data(){return super.data()}};function em(n,e){return typeof e=="string"?bb(n,e):e instanceof pr?e._internalPath:e._delegate._internalPath}function ZP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sd=class{},Io=class extends sd{};function _i(n,e,...t){let r=[];e instanceof sd&&r.push(e),r=r.concat(t),function(s){let o=s.filter(c=>c instanceof VI).length,a=s.filter(c=>c instanceof $g).length;if(o>1||o>0&&a>0)throw new $(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var $g=class n extends Io{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return aO(e._query,t),new $t(e.firestore,e.converter,fE(e._query,t))}_parse(e){let t=Do(e.firestore);return function(s,o,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){n1(f,d);let m=[];for(let w of f)m.push(t1(c,s,w));g={arrayValue:{values:m}}}else g=t1(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||n1(f,d),g=WP(a,o,f,d==="in"||d==="not-in");return Te.create(u,d,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function JP(n,e,t){let r=e,i=em("where",n);return $g._create(i,r,t)}var VI=class n extends sd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$e.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)aO(o,c),o=fE(o,c)}(e._query,t),new $t(e.firestore,e.converter,fE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var LI=class n extends Io{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,s,o){if(i.startAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new po(s,o)}(e._query,this._field,this._direction);return new $t(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new hr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function XP(n,e="asc"){let t=e,r=em("orderBy",n);return LI._create(r,t)}var zg=class n extends Io{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new $t(e.firestore,e.converter,ag(e._query,this._limit,this._limitType))}};function eO(n){return RP("limit",n),zg._create("limit",n,"F")}function tO(n){return RP("limitToLast",n),zg._create("limitToLast",n,"L")}var qg=class n extends Io{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=oO(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,s){return new hr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}};function nO(...n){return qg._create("startAt",n,!0)}function rO(...n){return qg._create("startAfter",n,!1)}var Hg=class n extends Io{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=oO(e,this.type,this._docOrFields,this._inclusive);return new $t(e.firestore,e.converter,function(i,s){return new hr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}};function iO(...n){return Hg._create("endBefore",n,!1)}function sO(...n){return Hg._create("endAt",n,!0)}function oO(n,e,t,r){if(t[0]=rt(t[0]),t[0]instanceof Eo)return function(s,o,a,c,u){if(!c)throw new $(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of dc(s))if(f.field.isKeyField())d.push(fo(o,c.key));else{let g=c.data.field(f.field);if(Wg(g))throw new $(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let m=f.field.canonicalString();throw new $(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(g)}return new Or(d,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=Do(n.firestore);return function(o,a,c,u,d,f){let g=o.explicitOrderBy;if(d.length>g.length)throw new $(O.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let m=[];for(let w=0;w<d.length;w++){let D=d[w];if(g[w].field.isKeyField()){if(typeof D!="string")throw new $(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof D}`);if(!WI(o)&&D.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${D}' contains a slash.`);let C=o.path.child(ke.fromString(D));if(!J.isDocumentKey(C))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);let F=new J(C);m.push(fo(a,F))}else{let C=WP(c,u,D);m.push(C)}}return new Or(m,f)}(n._query,n.firestore._databaseId,i,e,t,r)}}function t1(n,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new $(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WI(e)&&t.indexOf("/")!==-1)throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ke.fromString(t));if(!J.isDocumentKey(r))throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fo(n,new J(r))}if(t instanceof Ze)return fo(n,t._key);throw new $(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(t)}.`)}function n1(n,e){if(!Array.isArray(n)||n.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aO(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var xc=class{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return bo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>nt(o.doubleValue));return new rd(s)}convertGeoPoint(e){return new _o(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=HI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){let t=pi(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);se(eP(r));let i=new hs(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(t)||pt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function tm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var jI=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,t)}};var fi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xn=class extends Eo{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},cs=class extends Xn{data(e={}){return super.data(e)}},gr=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cs(this._firestore,this._userDataWriter,r.key,r,new fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new cs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:K5(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function K5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function Db(n,e){return n instanceof Xn&&e instanceof Xn?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gr&&e instanceof gr&&n._firestore===e._firestore&&wb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function cO(n){n=Pe(n,Ze);let e=Pe(n.firestore,ot);return AP(zt(e),n._key).then(t=>Ab(e,n,t))}var vi=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,t)}};function lO(n){n=Pe(n,Ze);let e=Pe(n.firestore,ot),t=zt(e),r=new vi(e);return B5(t,n._key).then(i=>new Xn(e,r,n._key,i,new fi(i!==null&&i.hasLocalMutations,!0),n.converter))}function uO(n){n=Pe(n,Ze);let e=Pe(n.firestore,ot);return AP(zt(e),n._key,{source:"server"}).then(t=>Ab(e,n,t))}function dO(n){n=Pe(n,$t);let e=Pe(n.firestore,ot),t=zt(e),r=new vi(e);return ZP(n._query),xP(t,n._query).then(i=>new gr(e,r,n,i))}function hO(n){n=Pe(n,$t);let e=Pe(n.firestore,ot),t=zt(e),r=new vi(e);return $5(t,n._query).then(i=>new gr(e,r,n,i))}function fO(n){n=Pe(n,$t);let e=Pe(n.firestore,ot),t=zt(e),r=new vi(e);return xP(t,n._query,{source:"server"}).then(i=>new gr(e,r,n,i))}function Cb(n,e,t){n=Pe(n,Ze);let r=Pe(n.firestore,ot),i=tm(n.converter,e,t);return Fc(r,[Xg(Do(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,dt.none())])}function Tb(n,e,t,...r){n=Pe(n,Ze);let i=Pe(n.firestore,ot),s=Do(i),o;return o=typeof(e=rt(e))=="string"||e instanceof pr?Eb(s,"updateDoc",n._key,e,t,r):_b(s,"updateDoc",n._key,e),Fc(i,[o.toMutation(n._key,dt.exists(!0))])}function pO(n){return Fc(Pe(n.firestore,ot),[new ys(n._key,dt.none())])}function gO(n,e){let t=Pe(n.firestore,ot),r=hd(n),i=tm(n.converter,e);return Fc(t,[Xg(Do(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,dt.exists(!1))]).then(()=>r)}function Sb(n,...e){var t,r,i;n=rt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||SI(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(SI(e[o])){let f=e[o];e[o]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(n instanceof Ze)u=Pe(n.firestore,ot),d=Rc(n._key.path),c={next:f=>{e[o]&&e[o](Ab(u,n,f))},error:e[o+1],complete:e[o+2]};else{let f=Pe(n,$t);u=Pe(f.firestore,ot),d=f._query;let g=new vi(u);c={next:m=>{e[o]&&e[o](new gr(u,g,f,m))},error:e[o+1],complete:e[o+2]},ZP(n._query)}return function(g,m,w,D){let C=new Sc(D),F=new nd(m,C,w);return g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return rb(yield Ac(g),F)})),()=>{C.Za(),g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return ib(yield Ac(g),F)}))}}(zt(u),d,a,c)}function mO(n,e){return z5(zt(n=Pe(n,ot)),SI(e)?e:{next:e})}function Fc(n,e){return function(r,i){let s=new Nt;return r.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return I5(yield pb(r),i,s)})),s.promise}(zt(n),e)}function Ab(n,e,t){let r=t.docs.get(e._key),i=new vi(n);return new Xn(n,i,e._key,r,new fi(t.hasPendingWrites,t.fromCache),e.converter)}var Q5={maxAttempts:5};var Gg=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Do(e)}set(e,t,r){this._verifyNotCommitted();let i=os(e,this._firestore),s=tm(i.converter,t,r),o=Xg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,dt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let s=os(e,this._firestore),o;return o=typeof(t=rt(t))=="string"||t instanceof pr?Eb(this._dataReader,"WriteBatch.update",s._key,t,r,i):_b(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,dt.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=os(e,this._firestore);return this._mutations=this._mutations.concat(new ys(t._key,dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function os(n,e){if((n=rt(n)).firestore!==e)throw new $(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var UI=class extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Do(t)}get(t){let r=os(t,this._firestore),i=new jI(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return re();let o=s[0];if(o.isFoundDocument())return new Eo(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Eo(this._firestore,i,r._key,null,r.converter);throw re()})}set(t,r,i){let s=os(t,this._firestore),o=tm(s.converter,r,i),a=Xg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){let o=os(t,this._firestore),a;return a=typeof(r=rt(r))=="string"||r instanceof pr?Eb(this._dataReader,"Transaction.update",o._key,r,i,s):_b(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){let r=os(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=os(e,this._firestore),r=new vi(this._firestore);return super.get(e).then(i=>new Xn(this._firestore,r,t._key,i._document,new fi(!1,!1),t.converter))}};function yO(n,e,t){n=Pe(n,ot);let r=Object.assign(Object.assign({},Q5),t);return function(s){if(s.maxAttempts<1)throw new $(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let c=new Nt;return s.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){let u=yield L5(s);new CI(s.asyncQueue,u,a,o,c).au()})),c.promise}(zt(n),i=>e(new UI(n,i)),r)}function vO(){return new id("deleteField")}function wO(){return new RI("serverTimestamp")}function _O(...n){return new kI("arrayUnion",n)}function EO(...n){return new NI("arrayRemove",n)}function nm(n){return new PI("increment",n)}(function(e,t=!0){(function(i){Mc=i})(uC),al(new Ss("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ot(new q0(r.getProvider("auth-internal")),new K0(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ci(eN,"4.7.3",e),Ci(eN,"4.7.3","esm2017")})();var Y5="firebase",Z5="10.14.1";Ci(Y5,Z5,"app");var J5=(n,e)=>{let t=e?[e]:dC(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},To=class{constructor(){return J5(X5)}},X5="app-check";function xb(){}var rm=class{zone;delegate;constructor(e,t=uy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Mb=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xb,{},xb,xb)),t.pipe(wt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},im=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new rm(Zone.current)),this.insideAngular=t.run(()=>new rm(Zone.current,qo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(Ce))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e9(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function An(n){return t9(e9())(n)}function t9(n){return function(t){return t=t.lift(new Mb(n.ngZone)),t.pipe(nr(n.outsideAngular),$n(n.insideAngular))}}var n9=new Map,r9={activated:!1,tokenObservers:[]},i9={initialized:!1,enabled:!1};function mr(n){return n9.get(n)||Object.assign({},r9)}function SO(){return i9}var s9="https://content-firebaseappcheck.googleapis.com/v1";var o9="exchangeDebugToken",bO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Wne=24*60*60*1e3;var kb=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new qm,this.pending.promise.catch(t=>{}),yield a9(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qm,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function a9(n){return new Promise(e=>{setTimeout(e,n)})}var c9={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Is=new lC("appCheck","AppCheck",c9);function AO(n){if(!mr(n).activated)throw Is.create("use-before-activation",{appName:n.name})}function xO(r,i){return b(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(m){throw Is.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Is.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw Is.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Is.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function MO(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${s9}/projects/${t}/apps/${r}:${o9}?key=${i}`,body:{debug_token:e}}}var l9="firebase-app-check-database",u9=1,Nb="firebase-app-check-store";var sm=null;function d9(){return sm||(sm=new Promise((n,e)=>{try{let t=indexedDB.open(l9,u9);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Is.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Nb,{keyPath:"compositeKey"})}}}catch(t){e(Is.create("storage-open",{originalErrorMessage:t?.message}))}}),sm)}function h9(n,e){return f9(p9(n),e)}function f9(n,e){return b(this,null,function*(){let r=(yield d9()).transaction(Nb,"readwrite"),s=r.objectStore(Nb).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(Is.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function p9(n){return`${n.options.appId}-${n.name}`}var Pb=new Fd("@firebase/app-check");function Rb(n,e){return Od()?h9(n,e).catch(t=>{Pb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function RO(){return SO().enabled}function kO(){return b(this,null,function*(){let n=SO();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var g9={error:"UNKNOWN_ERROR"};function m9(n){return oC.encodeString(JSON.stringify(n),!1)}function Ob(n,e=!1){return b(this,null,function*(){let t=n.app;AO(t);let r=mr(t),i=r.token,s;if(i&&!fd(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(fd(c)?i=c:yield Rb(t,void 0))}if(!e&&i&&fd(i))return{token:i.token};let o=!1;if(RO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xO(MO(t,yield kO()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let c=yield r.exchangeTokenPromise;return yield Rb(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield mr(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Pb.warn(c.message):Pb.error(c),s=c}let a;return i?s?fd(i)?a={token:i.token,internalError:s}:a=CO(s):(a={token:i.token},r.token=i,yield Rb(t,i)):a=CO(s),o&&_9(t,a),a})}function y9(n){return b(this,null,function*(){let e=n.app;AO(e);let{provider:t}=mr(e);if(RO()){let r=yield kO(),{token:i}=yield xO(MO(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function v9(n,e,t,r){let{app:i}=n,s=mr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&fd(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),DO(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>DO(n))}function NO(n,e){let t=mr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DO(n){let{app:e}=n,t=mr(e),r=t.tokenRefresher;r||(r=w9(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function w9(n){let{app:e}=n;return new kb(()=>b(this,null,function*(){let t=mr(e),r;if(t.token?r=yield Ob(n,!0):r=yield Ob(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},bO.RETRIAL_MIN_WAIT,bO.RETRIAL_MAX_WAIT)}function _9(n,e){let t=mr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fd(n){return n.expireTimeMillis-Date.now()>0}function CO(n){return{token:m9(g9),error:n}}var Fb=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=mr(this.app);for(let t of e)NO(this.app,t.next);return Promise.resolve()}};function E9(n,e){return new Fb(n,e)}function I9(n){return{getToken:e=>Ob(n,e),getLimitedUseToken:()=>y9(n),addTokenListener:e=>v9(n,"INTERNAL",e),removeTokenListener:e=>NO(n.app,e)}}var b9="@firebase/app-check",D9="0.8.8";var C9="app-check",TO="app-check-internal";function T9(){al(new Ss(C9,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return E9(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TO).initialize()})),al(new Ss(TO,n=>{let e=n.getProvider("app-check").getImmediate();return I9(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ci(b9,D9)}T9();var S9=["localhost","0.0.0.0","127.0.0.1"],sre=typeof window<"u"&&S9.includes(window.location.hostname);var A9="firebase",x9="10.14.1";vr.registerVersion(A9,x9,"app-compat");var M9=["ngOnDestroy"],FO=(n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(M9.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let c=a?.[s];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,u)=>o.then(d=>{let f=d?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,f),f})})})});var Vb=class{constructor(e){return e}},Vc=new W("angularfire2.app.options"),om=new W("angularfire2.app.name");function am(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",i=typeof t=="object"&&t||{};i.name=i.name||r;let o=vr.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>vr.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){let a=!!module.hot;R9("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Vb(o)}var R9=(n,...e)=>{Ow()&&typeof console<"u"&&console[n](...e)};function cm(n,e,t,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return k9(i,o)||(OO("error",`${e} was already initialized on the ${t} Firebase App with different settings.${N9?" You may need to reload as Firebase is not HMR aware.":""}`),OO("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}function k9(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var N9=typeof module<"u"&&!!module.hot,OO=(n,...e)=>{Ow()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Lb=new W("angularfire2.auth.use-emulator"),jb=new W("angularfire2.auth.settings"),Ub=new W("angularfire2.auth.tenant-id"),Bb=new W("angularfire2.auth.langugage-code"),$b=new W("angularfire2.auth.use-device-language"),zb=new W("angularfire.auth.persistence"),qb=(n,e,t,r,i,s,o,a)=>cm(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(let[u,d]of Object.entries(o))c.settings[u]=d;return a&&c.setPersistence(a),c},[t,r,i,s,o,a]),VO=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,c,u,d,f,g,m){let w=new Ue,D=ae(void 0).pipe($n(o.outsideAngular),Ye(()=>s.runOutsideAngular(()=>import("./chunk-GA2XKJLQ.js"))),oe(()=>am(t,s,r)),oe(C=>qb(C,s,a,u,d,f,c,g)),Ko({bufferSize:1,refCount:!1}));if(Ki(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ae(null);else{D.pipe(Mn()).subscribe();let C=D.pipe(Ye(j=>j.getRedirectResult().then(H=>H,()=>null)),An,Ko({bufferSize:1,refCount:!1})),F=D.pipe(Ye(j=>new ge(H=>({unsubscribe:s.runOutsideAngular(()=>j.onAuthStateChanged(ee=>H.next(ee),ee=>H.error(ee),()=>H.complete()))})))),L=D.pipe(Ye(j=>new ge(H=>({unsubscribe:s.runOutsideAngular(()=>j.onIdTokenChanged(ee=>H.next(ee),ee=>H.error(ee),()=>H.complete()))}))));this.authState=C.pipe(gh(F),nr(o.outsideAngular),$n(o.insideAngular)),this.user=C.pipe(gh(L),nr(o.outsideAngular),$n(o.insideAngular)),this.idToken=this.user.pipe(Ye(j=>j?Se(j.getIdToken()):ae(null))),this.idTokenResult=this.user.pipe(Ye(j=>j?Se(j.getIdTokenResult()):ae(null))),this.credential=pl(C,w,this.authState.pipe(At(j=>!j))).pipe(oe(j=>j?.user?j:null),nr(o.outsideAngular),$n(o.insideAngular))}return FO(this,D,s,{spy:{apply:(C,F,L)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&L.then(j=>w.next(j))}}})}static \u0275fac=function(r){return new(r||n)(B(Vc),B(om,8),B(jt),B(Ce),B(im),B(Lb,8),B(jb,8),B(Ub,8),B(Bb,8),B($b,8),B(zb,8),B(To,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var F9="@firebase/firestore-compat",V9="0.3.38";function Yb(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function LO(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function jO(){if(!m1())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}var lm=class n{constructor(e){this._delegate=e}static fromBase64String(e){return jO(),new n(Vr.fromBase64String(e))}static fromUint8Array(e){return LO(),new n(Vr.fromUint8Array(e))}toBase64(){return jO(),this._delegate.toBase64()}toUint8Array(){return LO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function Hb(n){return L9(n,["next","error","complete"])}function L9(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var Gb=class{enableIndexedDbPersistence(e,t){return FP(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return VP(e._delegate)}clearIndexedDbPersistence(e){return jP(e._delegate)}},um=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof hs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){kP(this._delegate,e,t,r)}enableNetwork(){return BP(this._delegate)}disableNetwork(){return $P(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mb("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return UP(this._delegate)}onSnapshotsInSync(e){return mO(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Uc(this,yb(this._delegate,e))}catch(t){throw pn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Lr(this,hd(this._delegate,e))}catch(t){throw pn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mo(this,NP(this._delegate,e))}catch(t){throw pn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return yO(this._delegate,t=>e(new dm(this,t)))}batch(){return zt(this._delegate),new hm(new Gg(this._delegate,e=>Fc(this._delegate,e)))}loadBundle(e){return zP(this._delegate,e)}namedQuery(e){return qP(this._delegate,e).then(t=>t?new Mo(this,t):null)}},Lc=class extends xc{constructor(e){super(),this.firestore=e}convertBytes(e){return new lm(new Vr(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Lr.forKey(t,this.firestore,null)}};function j9(n){r1(n)}var dm=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lc(e)}get(e){let t=So(e);return this._delegate.get(t).then(r=>new Ao(this._firestore,new Xn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=So(e);return r?(Yb("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=So(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=So(e);return this._delegate.delete(t),this}},hm=class{constructor(e){this._delegate=e}set(e,t,r){let i=So(e);return r?(Yb("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=So(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=So(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},jc=class n{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new cs(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xo(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=n.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new n(e,new Lc(e),t),i.set(t,s)),s}};jc.INSTANCES=new WeakMap;var Lr=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lc(e)}static forPath(e,t,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(t,new Ze(t._delegate,r,new J(e)))}static forKey(e,t,r){return new n(t,new Ze(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Uc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Uc(this.firestore,yb(this._delegate,e))}catch(t){throw pn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=rt(e),e instanceof Ze?vb(this._delegate,e):!1}set(e,t){t=Yb("DocumentReference.set",t);try{return t?Cb(this._delegate,e,t):Cb(this._delegate,e)}catch(r){throw pn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Tb(this._delegate,e):Tb(this._delegate,e,t,...r)}catch(i){throw pn(i,"updateDoc()","DocumentReference.update()")}}delete(){return pO(this._delegate)}onSnapshot(...e){let t=UO(e),r=BO(e,i=>new Ao(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Sb(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=lO(this._delegate):e?.source==="server"?t=uO(this._delegate):t=cO(this._delegate),t.then(r=>new Ao(this.firestore,new Xn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(jc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function pn(n,e,t){return n.message=n.message.replace(e,t),n}function UO(n){for(let e of n)if(typeof e=="object"&&!Hb(e))return e;return{}}function BO(n,e){var t,r;let i;return Hb(n[0])?i=n[0]:Hb(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Ao=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Lr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Db(this._delegate,e._delegate)}},xo=class extends Ao{data(e){let t=this._delegate.data(e);return this._delegate._converter||i1(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},Mo=class n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lc(e)}where(e,t,r){try{return new n(this.firestore,_i(this._delegate,JP(e,t,r)))}catch(i){throw pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new n(this.firestore,_i(this._delegate,XP(e,t)))}catch(r){throw pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,_i(this._delegate,eO(e)))}catch(t){throw pn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,_i(this._delegate,tO(e)))}catch(t){throw pn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,_i(this._delegate,nO(...e)))}catch(t){throw pn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,_i(this._delegate,rO(...e)))}catch(t){throw pn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,_i(this._delegate,iO(...e)))}catch(t){throw pn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,_i(this._delegate,sO(...e)))}catch(t){throw pn(t,"endAt()","Query.endAt()")}}isEqual(e){return wb(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=hO(this._delegate):e?.source==="server"?t=fO(this._delegate):t=dO(this._delegate),t.then(r=>new pd(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=UO(e),r=BO(e,i=>new pd(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Sb(this._delegate,t,r)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(jc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Wb=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xo(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},pd=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xo(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Wb(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xo(this._firestore,r))})}isEqual(e){return Db(this._delegate,e._delegate)}},Uc=class n extends Mo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Lr(this.firestore,e):null}doc(e){try{return e===void 0?new Lr(this.firestore,hd(this._delegate)):new Lr(this.firestore,hd(this._delegate,e))}catch(t){throw pn(t,"doc()","CollectionReference.doc()")}}add(e){return gO(this._delegate,e).then(t=>new Lr(this.firestore,t))}isEqual(e){return vb(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(jc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function So(n){return Pe(n,Ze)}var Kb=class n{constructor(...e){this._delegate=new pr(...e)}static documentId(){return new n(gt.keyField().canonicalString())}isEqual(e){return e=rt(e),e instanceof pr?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Qb=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=wO();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=vO();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let t=_O(...e);return t._methodName="FieldValue.arrayUnion",new n(t)}static arrayRemove(...e){let t=EO(...e);return t._methodName="FieldValue.arrayRemove",new n(t)}static increment(e){let t=nm(e);return t._methodName="FieldValue.increment",new n(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var U9={Firestore:um,GeoPoint:_o,Timestamp:st,Blob:lm,Transaction:dm,WriteBatch:hm,DocumentReference:Lr,DocumentSnapshot:Ao,Query:Mo,QueryDocumentSnapshot:xo,QuerySnapshot:pd,CollectionReference:Uc,FieldPath:Kb,FieldValue:Qb,setLogLevel:j9,CACHE_SIZE_UNLIMITED:PP};function B9(n,e){n.INTERNAL.registerComponent(new Ss("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},U9)))}function $9(n){B9(n,(e,t)=>new um(e,t,new Gb)),n.registerVersion(F9,V9)}$9(vr);function z9(n,e=qo){return new ge(t=>{let r;return e!=null?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}function $O(n,e){return z9(n,e)}function q9(n,e){return $O(n,e).pipe(Wr(void 0),yl(),oe(t=>{let[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function Xb(n,e){return $O(n,e).pipe(oe(t=>({payload:t,type:"query"})))}var fm=class{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){let r=this.ref.collection(e),{ref:i,query:s}=HO(r,t);return new gm(i,s,this.afs)}snapshotChanges(){return q9(this.ref,this.afs.schedulers.outsideAngular).pipe(An)}valueChanges(e={}){return this.snapshotChanges().pipe(oe(({payload:t})=>e.idField?te(M({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Se(this.ref.get(e)).pipe(An)}};function pm(n,e){return Xb(n,e).pipe(Wr(void 0),yl(),oe(t=>{let[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{let u=s.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function zO(n,e,t){return pm(n,t).pipe(ks((r,i)=>H9(r,i.map(s=>s.payload),e),[]),ml(),oe(r=>r.map(i=>({type:i.type,payload:i}))))}function H9(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=G9(n,r))}),n}function Zb(n,e,t,...r){let i=n.slice();return i.splice(e,t,...r),i}function G9(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Zb(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}else return Zb(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zb(n,e.oldIndex,1);break}return n}function qO(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var gm=class{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=pm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(oe(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Wr(void 0),yl(),At(([r,i])=>i.length>0||!r),oe(([,r])=>r),An)}auditTrail(e){return this.stateChanges(e).pipe(ks((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=qO(e);return zO(this.query,t,this.afs.schedulers.outsideAngular).pipe(An)}valueChanges(e={}){return Xb(this.query,this.afs.schedulers.outsideAngular).pipe(oe(t=>t.payload.docs.map(r=>e.idField?te(M({},r.data()),{[e.idField]:r.id}):r.data())),An)}get(e){return Se(this.query.get(e)).pipe(An)}add(e){return this.ref.add(e)}doc(e){return new fm(this.ref.doc(e),this.afs)}},Jb=class{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return!e||e.length===0?pm(this.query,this.afs.schedulers.outsideAngular).pipe(An):pm(this.query,this.afs.schedulers.outsideAngular).pipe(oe(t=>t.filter(r=>e.indexOf(r.type)>-1)),At(t=>t.length>0),An)}auditTrail(e){return this.stateChanges(e).pipe(ks((t,r)=>[...t,...r],[]))}snapshotChanges(e){let t=qO(e);return zO(this.query,t,this.afs.schedulers.outsideAngular).pipe(An)}valueChanges(e={}){return Xb(this.query,this.afs.schedulers.outsideAngular).pipe(oe(r=>r.payload.docs.map(i=>e.idField?M({[e.idField]:i.id},i.data()):i.data())),An)}get(e){return Se(this.query.get(e)).pipe(An)}},W9=new W("angularfire2.enableFirestorePersistence"),K9=new W("angularfire2.firestore.persistenceSettings"),Q9=new W("angularfire2.firestore.settings"),Y9=new W("angularfire2.firestore.use-emulator");function HO(n,e=t=>t){return{query:e(n),ref:n}}var GO=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,c,u,d,f,g,m,w,D,C,F,L){this.schedulers=c;let j=am(t,a,r),H=d;f&&qb(j,a,g,w,D,C,m,F),[this.firestore,this.persistenceEnabled$]=cm(`${j.name}.firestore`,"AngularFirestore",j.name,()=>{let ee=a.runOutsideAngular(()=>j.firestore());if(s&&ee.settings(s),H&&ee.useEmulator(...H),i&&!Ki(o)){let Q=()=>{try{return Se(ee.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(I){return typeof console<"u"&&console.warn(I),ae(!1)}};return[ee,a.runOutsideAngular(Q)]}else return[ee,ae(!1)]},[s,H,i])}collection(t,r){let i;typeof t=="string"?i=this.firestore.collection(t):i=t;let{ref:s,query:o}=HO(i,r),a=this.schedulers.ngZone.run(()=>s);return new gm(a,o,this)}collectionGroup(t,r){let i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Jb(i(s),this)}doc(t){let r;typeof t=="string"?r=this.firestore.doc(t):r=t;let i=this.schedulers.ngZone.run(()=>r);return new fm(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(B(Vc),B(om,8),B(W9,8),B(Q9,8),B(jt),B(Ce),B(im),B(K9,8),B(Y9,8),B(VO,8),B(Lb,8),B(jb,8),B(Ub,8),B(Bb,8),B($b,8),B(zb,8),B(To,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var WO=(()=>{let e=class e{constructor(r){this.store=r,this.TABLE_NAME="user_speech",this.uuid=M0()}setRecordUid(r){r&&(this.uuid=r)}getRecordUid(){return this.uuid}getRecord(r){return this.store.collection(this.TABLE_NAME).doc(r).valueChanges()}incrementHits(r="Navi"){return b(this,null,function*(){this.store.doc(`${r}/config`).set({numberOfHits:nm(1)},{merge:!0}).catch(i=>console.error("Error incrementing hit counter : ",i))})}saveAppScore(r,i="Navi"){return b(this,null,function*(){r.updated_at=new Date,this.store.doc(`${i}/config`).set(r,{merge:!0}).catch(s=>(console.error("Error upserting : ",s),s))})}getAppdata(r="Navi"){return this.store.doc(`${r}/config`).valueChanges()}saveSpeech(r){return b(this,null,function*(){return r.id=this.uuid,r.updated_at=new Date,this.store.collection(this.TABLE_NAME).doc(this.uuid).set(r,{merge:!0}).then(()=>this.uuid).catch(i=>(console.error("Error upserting : ",i),i.status)),this.uuid})}};e.\u0275fac=function(i){return new(i||e)(B(GO))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var X9=(n,e)=>({"btn-success pulse-animation":n,"btn-danger":e});function e8(n,e){if(n&1){let t=bn();R(0,"p"),U(1,"Try saying \u{1F5E3}\uFE0F "),R(2,"span",18),U(3),P(),U(4," or "),R(5,"span",14),U(6),P(),U(7,". Say "),R(8,"span",18),U(9),P(),U(10," to clean the board. "),R(11,"button",19),Me("click",function(){We(t);let i=ue();return Ke(i.toggleListening())}),ce(12,"i",20),P(),U(13,"\xA0 "),R(14,"a",21),Me("click",function(){We(t);let i=ue();return Ke(i.copyVoiceSmithLink())}),R(15,"i",22),Me("click",function(){We(t);let i=ue();return Ke(i.copyVoiceSmithLink())}),P(),U(16,"\xA0 "),R(17,"span",23),U(18),P()(),U(19,"\xA0 "),R(20,"a",24),ce(21,"i",25),P(),R(22,"span",26),U(23,"Desktop-only / "),R(24,"span",27),U(25,"Mobile-limited"),P()()()}if(n&2){let t=ue();V(3),Ve(t.START_COMMAND),V(3),Ve(t.STOP_COMMAND),V(3),Ve(t.CLEAR_COMMAND),V(2),X("ngClass",kf(7,X9,t.listening,!t.listening)),V(),X("ngClass",t.listening?"fa-microphone":"fa-microphone-slash"),V(3),X("ngClass",t.copied?"fa-solid":"fa-regular"),V(3),Ve(t.getRecordUid())}}function t8(n,e){n&1&&(R(0,"span",29),U(1,"Listening"),P())}function n8(n,e){n&1&&(R(0,"span",29),U(1,"Stopped"),P())}function r8(n,e){if(n&1&&(R(0,"p"),U(1,"Transcript will appear in the space below as your host speaks. "),Ie(2,t8,2,0,"span",28)(3,n8,2,0,"span",28),P()),n&2){let t=ue();V(2),X("ngIf",t.listening),V(),X("ngIf",!t.listening)}}function i8(n,e){if(n&1&&(R(0,"span",30),U(1),R(2,"span",13),U(3),P()()),n&2){let t=e.$implicit,r=ue();X("ngClass",r.isLeader(t.key)?"badge badge-border-success":"badge badge-border-danger"),V(),ft("",t.key,"\xA0"),V(2),Ve(t.value)}}var mm=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.zone=r,this.witaiService=i,this.messaging=s,this.database=o,this.route=a,this.router=c,this.START_COMMAND="start listening",this.STOP_COMMAND="stop listening",this.CLEAR_COMMAND="clear",this.MAX_SPEECH_TIME=5,this.test_command="start listening",this.fillerWords=["oh","ok","okay","um","uh","it's like","like","you know","basically","actually","so","right","I mean","well","just","er","anyway","now","let me think","haha","bla","really","and","well"],this.probableFillers=["fine","good","awesome"],this.unwantedVerbs=["am","is","are","were","do","did","done","doing","go","going","worked","work","working"],this.listening=!1,this.speaking=!1,this.fullTranscript=`Hi there! \u{1F44B} I am nA'vI
I would love to hear your story.
\u{1F3A4} Tell me something about yourself ..

Say "${this.START_COMMAND}" to begin \u{1F680}`,this.interimTranscript="",this.currentTerm="",this.verbsMap=new Map,this.leaderwordsMap=new Map,this.fillerWordsMap=new Map,this.goodbadwordsMap=new Map,this.sentenseClarity={good:0,bad:0},this.previousTime=0,this.totalWords=0,this.prevSentense="",this.isMobile=!1,this.minutes=this.MAX_SPEECH_TIME,this.seconds=0,this.speechTime="",this.voiceMode=!1,this.copied=!1,this.totalScore=0,this.appData={numberOfHits:0,highestScore:0},this.leadershipWords=["lead","vision","empower","collaborate","adapt","communicate","integrate","mentore","mentor","account","innovate","innovation","resilient","resilience","delegate","resolve","include","strategic","motivate","empower","encourage","impact","growth","deliver","delivering","collaboration"],this.createTimer=()=>{this.timerInterval=setInterval(()=>{this.updateTime()},1e3),this.speechTime=""},this.updateTime=()=>{this.seconds>0?this.seconds--:this.minutes>0?(this.minutes--,this.seconds=59):(console.debug("Time's up!"),this.stopListening()),this.speechTime=`${this.minutes}m ${this.seconds}s`},this.clearTimer=()=>{this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),this.minutes=this.MAX_SPEECH_TIME,this.seconds=0},this.myTask=()=>{let d=performance.now(),f=d-this.previousTime;f!=d&&f>5,requestAnimationFrame(this.myTask)},this.isMobile=Le.isMobileBrowser();let u=Le.getQueryParam(a,"vid");o.setRecordUid(u),this.initCompromiseNLP(),u?(this.voiceMode=!1,this.fullTranscript="",this.database.getRecord(u).subscribe(d=>{if(d){let f=d.message;this.updateFullText(f)}})):(this.voiceMode=!0,this.initAnnyang())}setStartCommand(r){this.START_COMMAND=r}setStopCommand(r){this.STOP_COMMAND=r}setClearCommand(r){this.CLEAR_COMMAND=r}getRecordUid(){return this.database.getRecordUid().split("-")[0]}getVoiceSmithLink(){return`${he.host}/voicesmith?vid=${this.database.getRecordUid()}`}copyVoiceSmithLink(){return b(this,null,function*(){try{yield navigator.clipboard.writeText(this.getVoiceSmithLink()),this.copied=!0}catch{console.error("Failed to copy the link")}})}isLeader(r){return this.leaderwordsMap.get(r)!=null}analyseClarity(r){return b(this,null,function*(){if(r){let i=r.trim().split(" ").length;i>=5&&i<=20?(this.sentenseClarity.good++,this.totalScore++):this.sentenseClarity.bad++,this.totalWords+=i}})}analyseVerbs(r){return b(this,null,function*(){let i=r.match("#Verb").out("array");return i.forEach(s=>{let o=s.toLowerCase();this.unwantedVerbs.includes(o)||(this.verbsMap.has(o)?this.verbsMap.set(o,this.verbsMap.get(o)+1):this.verbsMap.set(o,1),this.totalScore++)}),i.length})}analyseFillers(r){return b(this,null,function*(){let i=r.lookup(this.fillerWords).out("array");return i.forEach(s=>{let o=s.toLowerCase();this.fillerWordsMap.has(o)?this.fillerWordsMap.set(o,this.fillerWordsMap.get(o)+1):this.fillerWordsMap.set(o,1),this.totalScore=this.totalScore-2,this.goodbadwordsMap.set(o,this.fillerWordsMap.get(o))}),i.length>0})}analyseLeaedershipQualities(r){return b(this,null,function*(){let i=r.compute("root").lookup(this.leadershipWords,{form:"root"}).out("array");return i.forEach(s=>{let o=s.toLowerCase();this.leaderwordsMap.has(o)?this.leaderwordsMap.set(o,this.leaderwordsMap.get(o)+1):this.leaderwordsMap.set(o,1),this.totalScore=this.totalScore+3,this.goodbadwordsMap.set(o,this.leaderwordsMap.get(o))}),i.length})}ngOnInit(){this.messaging.event$.subscribe(r=>{let i=r;switch(i.cmd){case"SpeechToText":this.analyseClarity(i.payload);let s=this.nlp(i.payload);this.analyseFillers(s),this.analyseVerbs(s),this.analyseLeaedershipQualities(s),this.voiceMode&&(this.witaiService.getIntent(i.payload).then(o=>{}),this.database.saveSpeech({message:i.payload}));break;default:break}}),this.database.getAppdata().subscribe(r=>{this.appData=r})}initCompromiseNLP(){this.loadExternalScript("https://unpkg.com/compromise").then(()=>{this.nlp=window.nlp,this.nlp&&this.nlp.compile(this.leadershipWords)})}initAnnyang(){this.loadExternalScript("assets/annyang.js").then(()=>{this.initializeSpeechRecognition()})}stopListening(){this.listening&&this.voiceMode&&this.database.saveSpeech({message:this.STOP_COMMAND}),this.listening=!1,this.interimTranscript="",this.clearTimer(),this.totalScore>this.appData.highestScore&&this.database.saveAppScore({highestScore:this.totalScore})}startListening(){this.listening||this.database.incrementHits(),this.fullTranscript="",this.listening=!0,this.clearMaps(),this.createTimer(),this.totalScore=0}clearCommand(){this.fullTranscript="",this.interimTranscript="",this.clearMaps(),this.totalScore=0}toggleListening(){this.listening=!this.listening,this.listening?this.startListening():this.stopListening()}clearMaps(){this.leaderwordsMap.clear(),this.verbsMap.clear(),this.fillerWordsMap.clear(),this.goodbadwordsMap.clear(),this.previousTime=0,this.totalWords=0,this.sentenseClarity={good:0,bad:0},this.timerInterval&&(clearInterval(this.timerInterval),this.speechTime="")}initializeSpeechRecognition(){if(this.annyang=window.annyang,this.annyang){let r={"Stop listening":()=>{this.zone.run(()=>{this.stopListening()})},"Start listening":()=>{this.zone.run(()=>{this.startListening()})},Clear:()=>{this.zone.run(()=>{this.clearCommand()})}};this.annyang.addCallback("result",(i,s,o)=>{if(this.listening){let a=this.previousTime?o-this.previousTime>=300:!1;this.previousTime=o,this.zone.run(()=>{if(this.interimTranscript="",s&&i[0]){if(this.isMobile){let u=i[0].trim();if(this.prevSentense==u)return;this.prevSentense=u}let c=i[0]+(a?". ":" ");this.updateFullText(c)}else this.interimTranscript+=i})}}),this.annyang.addCallback("soundstart",()=>{console.debug("sound detected"),this.zone.run(()=>{this.speaking=!0})}),this.annyang.addCommands(r),this.recognition=this.annyang.getSpeechRecognizer(),this.recognition?(this.recognition.interimResults=!this.isMobile,this.annyang.start({autoRestart:!0,continuous:!0}),console.debug("Speech recognition started")):console.error("Voice is not supported in this browser.")}else console.error("Voice is not supported in this browser.")}loadExternalScript(r){return new Promise((i,s)=>{let o=document.createElement("script");o.src=r,o.type="application/javascript",o.onload=()=>{i()},o.onerror=()=>{s("Script load error")},document.body.appendChild(o)})}updateFullText(r){this.voiceMode?r.includes(this.START_COMMAND)||(this.messaging.send({cmd:"SpeechToText",payload:r}),this.fullTranscript+=r):r.includes(this.CLEAR_COMMAND)?this.clearCommand():r.includes(this.STOP_COMMAND)?this.stopListening():(this.messaging.send({cmd:"SpeechToText",payload:r}),this.fullTranscript+=r,this.listening=!0)}};e.\u0275fac=function(i){return new(i||e)(z(Ce),z(Yk),z(Jt),z(WO),z(Tn),z(jn))},e.\u0275cmp=Ae({type:e,selectors:[["app-voice-smith"]],decls:45,vars:16,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-8"],[4,"ngIf"],["id","voice-output"],[1,"float-end"],[1,"fa-regular","fa-clock"],[1,"col-md-4"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"small"],[1,"badge","badge-border-info"],[1,"badge","text-bg-light"],[1,"badge","badge-border-danger"],[1,"badge","badge-border-primary"],[1,"card-text"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"badge","badge-border-success"],[1,"btn","rounded-circle","justify-content-center","align-items-center",3,"click","ngClass"],[1,"fas",3,"ngClass"],["target","_blank",1,"text-decoration-none",3,"click"],[1,"fa-clipboard",3,"click","ngClass"],[1,"badge","rounded-pill","text-bg-primary"],["href","https://www.merriam-webster.com/word-of-the-day","target","_blank",1,""],[1,"fa-solid","fa-lightbulb",2,"color","#efbc06"],[1,"d-sm-none","badge","badge-border-success"],[1,"text-strike-black"],["class","badge text-bg-primary",4,"ngIf"],[1,"badge","text-bg-primary"],[3,"ngClass"]],template:function(i,s){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1),Ie(4,e8,26,10,"p",3)(5,r8,4,2,"p",3),P(),R(6,"div",4),U(7),R(8,"em"),U(9),P()(),R(10,"div",5),U(11),R(12,"span"),U(13),P(),U(14,"\xA0"),ce(15,"i",6),U(16,"\xA0"),R(17,"span"),U(18),P()()(),R(19,"div",7)(20,"div",8)(21,"div",9)(22,"h5",10),U(23,"Strength Board : "),R(24,"span",11),U(25),P()(),R(26,"p")(27,"span",12),U(28,"Actions\xA0"),R(29,"span",13),U(30),P()(),U(31," | "),R(32,"span",14),U(33,"Fillers\xA0"),R(34,"span",13),U(35),P()(),U(36," | "),R(37,"span",15),U(38,"Clarity\xA0"),R(39,"span",13),U(40),P()()(),ce(41,"hr"),R(42,"div",16),Ie(43,i8,4,3,"span",17),Ut(44,"keyvalue"),P()()()()()()),i&2&&(V(4),X("ngIf",s.voiceMode),V(),X("ngIf",!s.voiceMode),V(2),ft("",s.fullTranscript," "),V(2),Ve(s.interimTranscript),V(2),Mf("Highest : ",s.appData.highestScore," | Tried : ",s.appData.numberOfHits," | "),V(2),ft("Words : ",s.totalWords,""),V(5),Ve(s.speechTime),V(7),Ve(s.totalScore),V(5),Ve(s.verbsMap.size),V(5),Ve(s.fillerWordsMap.size),V(5),Mf("",s.sentenseClarity.good,"/",s.sentenseClarity.bad,""),V(3),X("ngForOf",On(44,14,s.goodbadwordsMap)))},dependencies:[Aa,Qt,Yt,Gi],styles:["#voice-output[_ngcontent-%COMP%]{font-size:1.4em;line-height:1.6;border:1px solid #ccc;padding:20px;min-height:200px;background-color:#f9f9f9;margin-top:10px;white-space:pre-wrap}.typing-cursor[_ngcontent-%COMP%]{border-right:2px solid black;animation:_ngcontent-%COMP%_blink 1s steps(1) infinite}@keyframes _ngcontent-%COMP%_blink{50%{border-color:transparent}}button[_ngcontent-%COMP%]:hover{box-shadow:0 0 15px #007bffb3}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);box-shadow:0 0 #007bffb3}50%{transform:scale(1.1);box-shadow:0 0 10px #00ff7bb3}to{transform:scale(1);box-shadow:0 0 #007bffb3}}.pulse-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.badge-border-success[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--bs-success);color:var(--bs-success)!important}.badge-border-primary[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--bs-primary);color:var(--bs-primary)!important}.badge-border-danger[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--bs-danger);color:var(--bs-danger)!important}.badge-border-info[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--bs-info);color:var(--bs-info)!important}.text-strike-black[_ngcontent-%COMP%]{text-decoration:line-through;text-decoration-color:#000}"]});let n=e;return n})();var eD=(()=>{let e=class e extends Yn{constructor(r,i,s,o){super(i),this.markdownService=r,this.githubService=i,this.titleService=s,this.viewContainer=o,this.homePageContent="Loading..",this.imgLayout="LayoutMix",this.firstHeading=!1,this.firstPara=!1,this.loadNewWidget=!1,this.usersFileAlreadyLoaded=!1,this.messaging.event$.subscribe(a=>{switch(a.cmd){case"UserContext":this.titleService.setTitle(ne.ghUser.name),this.usersFileAlreadyLoaded||(ne.YOUR_READ_ME?this.homePageContent=ne.YOUR_READ_ME:this.githubService.getInstalledAccessToken()?this.githubService.getInstalledContent(ne.ghUserLoaded).then(u=>{this.homePageContent=u}):this.githubService.getReadMeContent(ne.ghUserLoaded).then(u=>{this.homePageContent=u}).catch(u=>{console.log(ne.ghUserLoaded+" not available")}));break;case"UserDirectory":break;default:break}})}ngAfterViewInit(){}ngOnInit(){if(ne.INTERNAL_FOLDERS.includes(this.basePath)){this.router.navigate(["/i"+Le.getUrl(this.router)]);return}this.routerFileUrl&&this.githubService.getMdFileContent(this.basePath,this.routerFileUrl).then(r=>{this.homePageContent=r,this.usersFileAlreadyLoaded=!0}).catch(r=>this.homePageContent=r),this.titleService.setTitle("John Doe"),this.markdownService.renderer.html=r=>(Le.getFirstLine(r).includes("Widget")&&(this.loadNewWidget=!0),this.imgLayout=="<!-- Theme:Classic, ImgAlign:Left Widget:NAVI-->"||this.imgLayout,r),this.markdownService.renderer.heading=(r,i,s)=>i==1&&!this.firstHeading?(this.firstHeading=!0,`<h1 class="first-heading">${s}</h1>`):it.prototype.heading.call(this.markdownService.renderer,r,i,s),this.markdownService.renderer.paragraph=r=>r.startsWith("<a")&&r.endsWith("</a>")?r:this.firstHeading&&!this.firstPara?(this.firstPara=!0,`<p class="first-para">${r}<p>`):`<p>${r}<p>`,this.markdownService.renderer.link=(r,i,s)=>it.prototype.link.call(this.markdownService.renderer,r,i,s),this.markdownService.renderer.image=(r,i,s)=>`<img src="${r}" class="img-fluid mx-auto d-block" alt="${s}">`}onMarkdownReady(){if(this.applyLastHeadingStyle(),this.loadNewWidget){let r=document.querySelector("#phWidget");if(r){this.viewContainer.clear();let i=this.viewContainer.createComponent(mm);r.appendChild(i.location.nativeElement)}}}applyLastHeadingStyle(){let r=document.querySelectorAll("h1");if(r.length>1){let i=r[r.length-1];i.classList.add("cta");let s=i.nextElementSibling;for(;s;)s.classList.add("cta"),s=s.nextElementSibling}}};e.\u0275fac=function(i){return new(i||e)(z(Zt),z(Ft),z(Cn),z(In))},e.\u0275cmp=Ae({type:e,selectors:[["app-ghhome"]],features:[ut],decls:5,vars:1,consts:[["mdContent",""],[1,"container"],[1,"row","justify-content-center"],[1,"container",3,"ready","data"]],template:function(i,s){if(i&1){let o=bn();R(0,"div",1)(1,"div",2,0)(3,"markdown",3),Me("ready",function(){return We(o),Ke(s.onMarkdownReady())}),U(4,`
        `),P()()()}i&2&&(V(3),X("data",s.homePageContent))},dependencies:[Kn],styles:[".badge-border-success[_ngcontent-%COMP%]{background-color:transparent!important;border:1px solid var(--bs-success);color:var(--bs-success)!important}"]});let n=e;return n})();function s8(n,e){if(n&1&&(R(0,"div",6)(1,"div",7)(2,"a",8),ce(3,"img",9),P(),R(4,"div",10)(5,"a",11)(6,"h5",12),U(7),P()()()()()),n&2){let t=e.$implicit,r=ue();V(2),X("href",r.galaryLinks.get(t.key),ht),V(),Pn("alt",t.key),X("src",t.value,ht),V(2),X("href",r.galaryLinks.get(t.key),ht),V(2),Ve(t.key)}}var KO=(()=>{let e=class e extends Yn{constructor(r,i,s){super(i),this.markdownService=r,this.githubService=i,this.titleService=s,this.markdownContent="Loading..",this.galaryLinks=new Map,this.galaryImgs=new Map,this.messaging.event$.subscribe(o=>{switch(o.cmd){case"UserContext":this.titleService.setTitle(ne.ghUser.name),this.githubService.getReadMeContent(this.routerFileUrl).then(c=>this.markdownContent=c);break;default:break}})}ngOnInit(){this.markdownService.renderer.link=(r,i,s)=>(this.galaryLinks.set(s,r),it.prototype.link.call(this.markdownService.renderer,r,i,s)),this.markdownService.renderer.image=(r,i,s)=>(this.galaryImgs.set(s,r),s)}onMarkdownReady(){}};e.\u0275fac=function(i){return new(i||e)(z(Zt),z(Ft),z(Cn))},e.\u0275cmp=Ae({type:e,selectors:[["app-crazy-coupons"]],features:[ut],decls:8,vars:4,consts:[[1,"container","mt-5"],[1,"row"],["class","col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"container"],[1,"row","justify-content-center"],[3,"ready","data"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],["target","_blank","rel","noopener noreferrer",1,"text-decoration-none",3,"href"],[1,"card-title"]],template:function(i,s){i&1&&(R(0,"div",0)(1,"div",1),Ie(2,s8,8,5,"div",2),Ut(3,"keyvalue"),P()(),R(4,"div",3)(5,"div",4)(6,"markdown",5),Me("ready",function(){return s.onMarkdownReady()}),U(7,`
        `),P()()()),i&2&&(V(2),X("ngForOf",On(3,2,s.galaryImgs)),V(4),X("data",s.markdownContent))},dependencies:[Qt,Kn,Gi],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css";.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#333;margin-top:4px;text-align:left;line-height:1.2}.card-body[_ngcontent-%COMP%]{padding:8px}.card[_ngcontent-%COMP%]{border:none}']});let n=e;return n})();var ym=(()=>{let e=class e{constructor(r,i){this.renderer=r,this.el=i}ngOnInit(){let r=this.renderer.createElement("script");r.src="https://giscus.app/client.js",r.setAttribute("data-repo","publichomepage/discuss"),r.setAttribute("data-repo-id","R_kgDONHZY8A"),r.setAttribute("data-category","Announcements"),r.setAttribute("data-category-id","DIC_kwDONHZY8M4CjyZp"),r.setAttribute("data-mapping","pathname"),r.setAttribute("data-reactions-enabled","1"),r.setAttribute("data-emit-metadata","1"),r.setAttribute("data-theme","light"),r.setAttribute("data-lang","en"),r.setAttribute("crossorigin","anonymous"),r.async=!0;let i=this.el.nativeElement.querySelector("#discuss-pane");this.renderer.appendChild(i,r),window.addEventListener("message",this.handleMessage.bind(this))}ngOnDestroy(){window.removeEventListener("message",this.handleMessage.bind(this))}handleMessage(r){if(r.origin!=="https://giscus.app"||!(typeof r.data=="object"&&r.data.giscus))return;let i=r.data.giscus;console.log("GiscusData"+JSON.stringify(r.data))}};e.\u0275fac=function(i){return new(i||e)(z(En),z(It))},e.\u0275cmp=Ae({type:e,selectors:[["app-giscus-widget"]],decls:1,vars:0,consts:[["id","discuss-pane"]],template:function(i,s){i&1&&ce(0,"div",0)}});let n=e;return n})();var gd=(()=>{let e=class e{};e.NEW_USER_CHANNEL="https://discord.com/api/webhooks/1161881028474966077/1NlJyAYOMZbQTZmbVL_WAEm4S_whyKQ275RsOf3PHYqF7naHYmx9z9lFNW2kqzlLr0I-",e.WEB_ERROR_CHANNEL="https://discord.com/api/webhooks/1161880477750272000/I-DJecqOhonKLsy75jP6iVeGxpqxMuu8WZ8wgBd31o4rZzF49vXnjKo9Tv0p5S6HTm7j",e.PUBLISHING_HELP_CHANNEL="https://discord.com/api/webhooks/1161873930991190078/FHGUfffC-VfjGOrLv9OU0EAkmeqM0-3o6phOYtg3cGkjG1E57_CPSAhQ0_pJO6AYNLC7",e.INTERVIEW_ASSISTANCE_CHANNEL="https://discord.com/api/webhooks/1177388543023272059/Tqt3tk3Bm3tvd6aZksnQ9-crhr8qWTby6HEWguT3nb5DG-10Y7zV3vh84D7utAdTvL17",e.DEFAULT_PAGE_COUNT=777,e.DEFAULT_PAGE_LIKES=17,e.MAX_SIDE_PANEL_VIDEO_LINKS=5,e.MAX_QUESTION_TIMEOUT=2500,e.JUDGE_0_SUBMISSION_URL="https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=true&fields=*",e.DRAFT_HEADER="<!-- Draft -->",e.DRAFT_PAGE_LINK="/faqs/draft_content",e.CODING_QUESTIONS_CONTENT_HEADER="<!-- question -->",e.CODING_SOLUTIONS_CONTENT_HEADER="<!-- correct_solution -->",e.CODING_ONE_TEST_CASE_CONTENT_HEADER="<!-- runOneTestCaseHandler -->",e.CODING_ALL_TESTS_CONTENT_HEADER="<!-- runAllTestCases -->",e.SELECTIFY_ANSWER_CONTENT_HEADER="<!-- Answer[ ]?=(.*)-->",e.ASSESSMENT_FOLDER_HEADER="<!-- Assessment Folder : (?<name>\\S+) -->",e.ASSESSMENT_KNOWLEDGE_CHECK_HEADER=/<!-- Knowledge Check | (\w+) | (\S+) | (\w+) -->/g,e.ASSESSMENT_QUESTIONS_FILE_NAME_SYNTAX="(?<qId>\\d+)-(?<qName>\\S+).md",e.SELECT_OPTIONS_HEADER="<!-- Select options -->";let n=e;return n})();var YO=(()=>{let e=class e{constructor(r){this.sanitizer=r}transform(r){return this.sanitizer.bypassSecurityTrustResourceUrl(r)}};e.\u0275fac=function(i){return new(i||e)(z(Zs,16))},e.\u0275pipe=Gs({name:"safe",type:e,pure:!0});let n=e;return n})();var a8=(n,e)=>({"fa-play":n,"fa-pause":e});function c8(n,e){if(n&1&&(R(0,"li")(1,"a",21),U(2),P()()),n&2){let t=e.$implicit,r=ue(2);V(),xf("href","/i/",t,"",ht),V(),Ve(r.getFileName(t))}}function l8(n,e){if(n&1&&(R(0,"div",14)(1,"div",15),U(2),R(3,"a",16),ce(4,"i",17),P()(),R(5,"div",18)(6,"div",19)(7,"div",8)(8,"ul",20),Ie(9,c8,3,3,"li",10),P()()()()()),n&2){let t=ue();V(2),ft("",t.folderName," "),V(7),X("ngForOf",t.filesAvailable)}}function u8(n,e){if(n&1&&(R(0,"div",22)(1,"div",23)(2,"p"),U(3,"Try these challenge questions and get better on this topic."),P(),R(4,"a",24),ce(5,"i",25),U(6,"\xA0Knowledge Check"),P()()()),n&2){let t=ue();V(4),Pn("href",t.assementLink,ht)}}function d8(n,e){n&1&&(R(0,"div")(1,"b"),U(2,"Practice questions"),P()())}function h8(n,e){if(n&1&&(R(0,"li")(1,"a",26),U(2),P()()),n&2){let t=e.$implicit;V(),Pn("href",t,ht),V(),Ve(t.split("problems")[1])}}function f8(n,e){n&1&&(R(0,"div",27)(1,"b"),U(2,"Video reference"),P()())}function p8(n,e){if(n&1&&(R(0,"div",28),ce(1,"iframe",29),Ut(2,"safe"),P()),n&2){let t=e.$implicit;V(),X("src",On(2,1,t),Ef)}}function g8(n,e){if(n&1){let t=bn();R(0,"a",30),Me("click",function(){We(t);let i=ue();return Ke(i.speakText())}),ce(1,"i",31),P()}if(n&2){let t=ue();V(),X("ngClass",kf(1,a8,!t.isPaused,t.isPaused))}}var md=(()=>{let e=class e extends Yn{constructor(r,i,s){super(i),this.markdownService=r,this.githubService=i,this.titleService=s,this.viewContainer=G(In),this.filesAvailable=[],this.availableYoutubeLinks=new Set,this.leetcodeLinks=new Set,this.folderName="",this.readmeFileUrl="",this.assementLink="",this.speechContent=null,this.isPaused=!1,this.isSpeaking=!1,this.isDraftArticle=!1,this.loadPlugin=!1,this.firstLineProcessed=!1,this.hasSelectOptionsHeader=!1,this.messaging.event$.subscribe(o=>{switch(o.cmd){case"UserContext":this.folderName=this.articleFolderName;let c=Le.getRouterUrl(this.router,this.basePath+"/"+this.folderName);c.endsWith(".md")||(c=c+".md"),this.readmeFileUrl=Le.getGhUserFilePath(ne.ghUserLoaded,`${this.folderName}/${c}`,this.githubService.hasInstalledAccessToken());break;case"UserDirectory":this.githubService.getGhDirectoryContents(this.githubUser,!0,this.getFolderName()).then(u=>{this.filesAvailable=u.files.filter(d=>!d.includes("README.md"))});break;default:break}}),this.speechSir=window.speechSynthesis}getFolderName(){let r=this.routerFileUrl.substring(this.routerFileUrl.lastIndexOf("/")+1);return r.endsWith("md")?super.getFolderName():r}ngOnInit(){this.router.events.subscribe(r=>{r.type==15&&this.ngOnDestroy()}),this.markdownService.renderer.html=r=>{if(this.processFirstLine(r),this.isDraftArticle)return"";let i=r.match(gd.ASSESSMENT_FOLDER_HEADER);if(i!=null&&i.groups&&i.groups.name){let s=i.groups.name;return this.assementLink=s.includes("http")?s:`/assessments/${s}`,""}return this.hasSelectOptionsHeader=r.includes(gd.SELECT_OPTIONS_HEADER),r},this.markdownService.renderer.list=(r,i,s)=>{if(this.hasSelectOptionsHeader){let o=r.split(`
`).map(a=>`<option>${a.trim()}</option>`).join("");return this.hasSelectOptionsHeader=!1,`<select class="form-select form-select-lg mb-3">${o}</select>`}return it.prototype.list.call(this.markdownService.renderer,r,i,s)}}processFirstLine(r){if(this.firstLineProcessed)return;let i=Le.parseHtmlLine(r);switch(i.PageType){case gd.DRAFT_HEADER:{this.isDraftArticle=!0;break}case"Assessment":break;default:break}i.Widget=="NAVI"&&(this.loadPlugin=!0),this.firstLineProcessed=!0}speakText(){this.isPaused?this.resumeSpeech():this.isSpeaking?this.pauseSpeech():this.startSpeech()}startSpeech(){!this.isSpeaking&&this.speechContent!=null&&(this.speechSir.speak(this.speechContent),this.isSpeaking=!0)}pauseSpeech(){!this.isPaused&&this.isSpeaking&&(this.speechSir.pause(),this.isPaused=!0)}resumeSpeech(){this.isPaused&&this.isSpeaking&&(this.speechSir.resume(),this.isPaused=!1)}onMarkdownReady(){if(this.availableYoutubeLinks=ne.userContext.youtube_links,this.leetcodeLinks=ne.userContext.leetcode_links,this.isDraftArticle)this.router.navigate([gd.DRAFT_PAGE_LINK]);else if(this.router.navigate([this.router.url]),this.loadPlugin){let r=document.querySelector("#phWidget");if(r){this.viewContainer.clear();let i=this.viewContainer.createComponent(mm);r.appendChild(i.location.nativeElement)}}}speechReady(r){this.isDraftArticle||(this.speechContent=r?new SpeechSynthesisUtterance(r):null,this.speechContent!=null&&(this.speechContent.pitch=1,this.speechContent.rate=1,this.speechContent.volume=1,this.speechContent.lang="en-US"))}ngOnDestroy(){this.speechSir&&this.speechContent!=null&&this.speechSir.cancel()}getFileName(r){return this.folderName=="faqs"?Le.getFileNameWithoutCurrentFolder(r,this.folderName):Le.getFileName(r)}};e.\u0275fac=function(i){return new(i||e)(z(Zt),z(Ft),z(Cn))},e.\u0275cmp=Ae({type:e,selectors:[["app-internal-articles"]],features:[ut],decls:16,vars:8,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"container",3,"ready","load","src"],[1,"col-lg-4"],["class","card mb-4 my-3",4,"ngIf"],["class","card my-3 text-center border-success",4,"ngIf"],[4,"ngIf"],[1,"text-truncate"],[1,"list-unstyled","mb-0"],[4,"ngFor","ngForOf"],["class","text-capitalize my-2",4,"ngIf"],["class","card mb-4",4,"ngFor","ngForOf"],["class","float",3,"click",4,"ngIf"],[1,"card","mb-4","my-3"],[1,"card-header","text-capitalize"],["href","/articles"],[1,"fa-solid","fa-magnifying-glass","float-right",2,"color","darkorange"],[1,"card-body","scrollable-card"],[1,"row"],[1,"list-unstyled","mb-0","text-capitalize"],[3,"href"],[1,"card","my-3","text-center","border-success"],[1,"card-body"],[1,"btn","btn-warning",3,"href"],[1,"fa-regular","fa-lightbulb"],["target","_blank",3,"href"],[1,"text-capitalize","my-2"],[1,"card","mb-4"],["width","100%","height","200","allowfullscreen","",1,"rounded-2",3,"src"],[1,"float",3,"click"],[1,"fa","my-float",3,"ngClass"]],template:function(i,s){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"markdown",3),Me("ready",function(){return s.onMarkdownReady()})("load",function(a){return s.speechReady(a)}),U(4,`
            `),P()(),R(5,"div",4),Ie(6,l8,10,2,"div",5)(7,u8,7,1,"div",6)(8,d8,3,0,"div",7),R(9,"div",8)(10,"ul",9),Ie(11,h8,3,2,"li",10),P()(),Ie(12,f8,3,0,"div",11)(13,p8,3,3,"div",12),ce(14,"app-giscus-widget"),P()()(),Ie(15,g8,2,4,"a",13)),i&2&&(V(3),X("src",s.readmeFileUrl),V(3),X("ngIf",s.folderName),V(),X("ngIf",s.assementLink),V(),X("ngIf",s.leetcodeLinks.size>0),V(3),X("ngForOf",s.leetcodeLinks),V(),X("ngIf",s.availableYoutubeLinks.size>0),V(),X("ngForOf",s.availableYoutubeLinks),V(2),X("ngIf",s.speechContent))},dependencies:[Aa,Qt,Yt,Kn,ym,YO],styles:[".scrollable-card[_ngcontent-%COMP%]{max-height:350px;overflow-y:auto}"]});let n=e;return n})();var ZO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-roadmap"]],decls:35,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-4"],[1,"my-3"],[1,"step","step-active"],[1,"circle"],[1,"fa","fa-check"],[1,"title"],[1,"caption"],[1,"step"],[1,"circle",2,"background-color","green"],[1,"fab","fa-youtube","fa-xl",2,"color","#ed302f"],[1,"circle",2,"background-color","yellowgreen"],["href","https://interviewdose.com/roadmap","target","_blank"]],template:function(i,s){i&1&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),U(4,"Roadmap"),P(),U(5," '"),R(6,"div",4)(7,"div")(8,"div",5),ce(9,"i",6),P()(),R(10,"div")(11,"div",7),U(12,"What's Next ?"),P(),R(13,"div",8),U(14,"Comming soon..."),P()()(),R(15,"div",9)(16,"div")(17,"div",10),U(18,"1"),P()(),R(19,"div")(20,"div",7),ce(21,"i",11),U(22,"\xA0interviewdose channel created"),P(),ce(23,"div",8),P()(),R(24,"div",9)(25,"div")(26,"div",12),U(27,"1"),P()(),R(28,"div")(29,"div",7),U(30,"Menifesting the World's simplest AI Page"),P(),R(31,"div",8),U(32,"This is THE simplest developer friendly webpage builder on earth today: Forked from "),R(33,"a",13),U(34,"https://interviewdose.com"),P()()()()()()())},styles:['.step[_ngcontent-%COMP%]{position:relative;min-height:1em;color:gray}.title[_ngcontent-%COMP%]{line-height:1.5em;font-weight:700}.caption[_ngcontent-%COMP%]{font-size:.8em}.step[_ngcontent-%COMP%] + .step[_ngcontent-%COMP%]{margin-top:1.5em}.step[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:static;height:0}.step[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){margin-left:1.5em;padding-left:1em}.circle[_ngcontent-%COMP%]{background:gray;position:relative;width:1.5em;height:1.5em;line-height:1.5em;border-radius:100%;color:#fff;text-align:center;box-shadow:0 0 0 3px #fff}.circle[_ngcontent-%COMP%]:after{content:" ";position:absolute;display:block;inset:1px 50%;height:100%;width:1px;transform:scaleY(2);transform-origin:50% -100%;background-color:#00000040;z-index:-1}.step[_ngcontent-%COMP%]:last-child   .circle[_ngcontent-%COMP%]:after{display:none}.step.step-active[_ngcontent-%COMP%]{color:#4285f4}.step.step-active[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{background-color:#4285f4}']});let n=e;return n})();var JO=(()=>{let e=class e{constructor(r){this.messaging=r,this.recognition=new webkitSpeechRecognition,this.isStoppedSpeechRecog=!1,this.text="",this.tempWords=""}init(){this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.addEventListener("result",r=>{var i=r.results[0][0].transcript;if(this.tempWords=i,i){let s={cmd:"speech",payload:i};this.messaging.send(s)}})}start(){this.isStoppedSpeechRecog=!1,this.recognition.start(),console.log("Speech recognition started"),this.recognition.addEventListener("end",()=>{this.isStoppedSpeechRecog?(this.recognition.stop(),console.log("End speech recognition")):(this.wordConcat(),this.recognition.start())})}stop(){this.isStoppedSpeechRecog=!0,this.wordConcat(),this.recognition.stop(),console.log("End speech recognition")}wordConcat(){this.text=this.text+" "+this.tempWords+".",this.tempWords=""}};e.\u0275fac=function(i){return new(i||e)(B(Jt))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var y8=["searchInput"],v8=n=>({transform:n});function w8(n,e){n&1&&(R(0,"div",12),U(1,"Listening... "),R(2,"div",13)(3,"span",14),U(4,"Loading..."),P()()())}function _8(n,e){n&1&&(R(0,"div",12),U(1,"Listening "),ce(2,"i",15),P())}function E8(n,e){if(n&1&&(R(0,"div",16),ce(1,"i",17),U(2),P()),n&2){let t=ue();V(2),ft("\xA0",t.lastSpeechText,"")}}function I8(n,e){if(n&1&&(R(0,"h6",25),U(1),P()),n&2){let t=ue().ngIf;V(),ft(" ~ ",t.Category,"")}}function b8(n,e){if(n&1&&(Tw(0),R(1,"h2",22),U(2),P(),R(3,"i"),Ie(4,I8,2,1,"h6",23),P(),ce(5,"a",24),Sw()),n&2){let t=e.ngIf,r=ue().$implicit,i=ue();V(2),Ve(t.File),V(2),X("ngIf",t.Category),V(),Pn("href",i.createClickableLink(r),ht)}}function D8(n,e){if(n&1){let t=bn();R(0,"div",18)(1,"div",19),Me("mouseenter",function(){let i=We(t).$implicit,s=ue();return Ke(s.onCardHover(!0,i))})("mouseleave",function(){let i=We(t).$implicit,s=ue();return Ke(s.onCardHover(!1,i))}),R(2,"div",20),Ie(3,b8,6,3,"ng-container",21),P()()()}if(n&2){let t=e.$implicit,r=ue();V(),Pn("id",t),X("ngStyle",Rf(3,v8,r.getRandomRotation(t))),V(2),X("ngIf",r.getFileNameWithCategory(t))}}var tD=(()=>{let e=class e extends md{constructor(r,i,s,o,a){super(i,r,s),this.filterText="",this.lastSpeechText="",this.articleFound=!1,this.filteredFiles=[],this.cachedRotations={},this.userTyping=!1,this.ghuserName="",a.event$.subscribe(c=>{let u=c;switch(u.cmd){case"speech":this.articleFound=!1,this.filterText=u.payload?u.payload:"",this.lastSpeechText=this.filterText.substring(0,25),this.searchKey(),this.articleFound||(this.filterText="",this.filteredFiles=this.filesAvailable);break;case"UserDirectory":setTimeout(()=>{this.filteredFiles=this.filesAvailable},1e3);break;default:break}}),o.init(),o.start()}ngOnInit(){this.ghuserName=ne.ghUserLoaded}onUserInput(){this.userTyping=!0}clickArticle(r){this.router.navigate(["/i"+r])}searchKey(){let r=this.filterText.trim().split(/\s+/).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),i=new RegExp(r.join("|"),"i");this.filteredFiles=this.filterText===""?this.filesAvailable:this.filesAvailable.filter(s=>i.test(s)?(this.articleFound=!0,this.userTyping||this.searchInput.nativeElement.select(),!0):!1)}getRandomRotation(r){if(!this.cachedRotations[r]){let o=Math.random()*4+-2;this.cachedRotations[r]=`rotate(${o}deg)`}return this.cachedRotations[r]}onCardHover(r,i){let s=document.getElementById(i);s&&(r?s.style.transform="":s.style.transform=this.cachedRotations[i])}getFileNameWithCategory(r,i=!1){return Le.getFileNameWithCategory(r,i)}createClickableLink(r){let i=r.lastIndexOf(".md");return i!=-1&&(r=r.substring(0,i)),this.isHomePageGHUser?`/i/${r}`:`/${this.githubUser}/${r}`}};e.\u0275fac=function(i){return new(i||e)(z(Ft),z(Zt),z(Cn),z(JO),z(Jt))},e.\u0275cmp=Ae({type:e,selectors:[["app-search-articles"]],viewQuery:function(i,s){if(i&1&&Pl(y8,7),i&2){let o;_a(o=Ea())&&(s.searchInput=o.first)}},features:[ut],decls:15,vars:5,consts:[["searchInput",""],[1,"container","px-5"],[1,"row","mx-auto","mb-4","rounded-3","align-items-center","justify-content-center"],[1,"container-fluid","py-3","text-center"],[1,"display-4","fw-bold"],[1,"col-lg-6"],["class","fs-6 text-muted float-end",4,"ngIf"],[1,"input-group","input-group-lg"],["type","text","placeholder","Type or Speak to search ...",1,"form-control","border","border-success",3,"ngModelChange","input","ngModel"],["class","fs-6 text-muted text-center",4,"ngIf"],[1,"row"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"fs-6","text-muted","float-end"],["role","status",1,"spinner-border","spinner-border-sm","text-secondary"],[1,"sr-only"],[1,"fa-solid","fa-check",2,"color","#63E6BE"],[1,"fs-6","text-muted","text-center"],[1,"fa-brands","fa-searchengin"],[1,"col-md-3"],[1,"card","mb-4","border-primary","card-hover",3,"mouseenter","mouseleave","id","ngStyle"],[1,"card-body","text-success"],[4,"ngIf"],[1,"card-title","text-capitalize"],["class","card-subtitle text-muted text-end",4,"ngIf"],[1,"stretched-link",3,"href"],[1,"card-subtitle","text-muted","text-end"]],template:function(i,s){if(i&1){let o=bn();R(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),U(4,"Search Articles"),P()(),R(5,"div",5),Ie(6,w8,5,0,"div",6)(7,_8,3,0,"div",6),R(8,"div",7)(9,"input",8,0),qi("ngModelChange",function(c){return We(o),Qs(s.filterText,c)||(s.filterText=c),Ke(c)}),Me("ngModelChange",function(){return We(o),Ke(s.searchKey())})("input",function(){return We(o),Ke(s.onUserInput())}),P()(),Ie(11,E8,3,1,"div",9),P()(),R(12,"div",10),Ie(13,D8,4,5,"div",11),P(),ce(14,"app-giscus-widget"),P()}i&2&&(V(6),X("ngIf",!s.articleFound),V(),X("ngIf",s.articleFound),V(2),zi("ngModel",s.filterText),V(2),X("ngIf",!s.articleFound),V(2),X("ngForOf",s.filteredFiles))},dependencies:[Qt,Yt,Ux,Va,ap,ru,ym],styles:[".card-hover[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease,background-color .3s ease}.card-hover[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #0000004d;background-color:silver}"]});let n=e;return n})();var C8=["scrollPanel"],T8=["iframeRef"];function S8(n,e){n&1&&(R(0,"h4",27),U(1,"Deep Search in your page"),P())}function A8(n,e){if(n&1){let t=bn();R(0,"iframe",28,2),Me("load",function(){We(t);let i=ue();return Ke(i.captureTextContent())}),P()}if(n&2){let t=ue();X("src",t.safeUrl,Ef)}}function x8(n,e){if(n&1&&(R(0,"div",29),U(1),P()),n&2){let t=ue();V(),Ve(t.iFramePlaceholder)}}function M8(n,e){if(n&1){let t=bn();R(0,"div")(1,"b"),U(2,"Follow-up :\xA0"),P(),U(3),R(4,"i",36),Me("click",function(i){We(t);let s=ue(2).$implicit,o=ue();return Ke(o.setNewQuestion(s.followUp?s.followUp:"",i))}),P()()}if(n&2){let t=ue(2).$implicit;V(3),Ve(t.followUp)}}function R8(n,e){if(n&1){let t=bn();R(0,"div")(1,"button",33),Me("click",function(){We(t);let i=ue(2);return Ke(i.aiUserLiked("like"))}),ce(2,"i",34),P(),R(3,"button",33),Me("click",function(){We(t);let i=ue(2);return Ke(i.aiUserLiked("clipped"))}),ce(4,"i",35),P(),Ie(5,M8,5,1,"div",32),P()}if(n&2){let t=ue().$implicit;V(5),X("ngIf",t.followUp)}}function k8(n,e){if(n&1&&(R(0,"div",30),ce(1,"markdown",31),Ie(2,R8,6,1,"div",32),P()),n&2){let t=e.$implicit;V(),X("data",t.content),V(),X("ngIf",t.from!="You")}}function N8(n,e){if(n&1&&(R(0,"div",37)(1,"div",38)(2,"div",39),ce(3,"div",40),P(),R(4,"div",41),ce(5,"div",40),P()()()),n&2){let t=ue();V(3),Cw(t.firstStyle),V(2),Cw(t.secondStyle)}}function P8(n,e){if(n&1&&(R(0,"option",42),U(1),P()),n&2){let t=e.$implicit;X("value",t.value),V(),ft(" ",t.label," ")}}function O8(n,e){if(n&1&&(R(0,"option",42),U(1),P()),n&2){let t=e.$implicit;X("value",t.value),V(),ft(" ",t.label," ")}}var XO=(()=>{let e=class e{captureTextContent(){setTimeout(()=>{let r=this.iframeRef?.nativeElement;try{if(r&&r.contentWindow&&r.contentWindow.document)try{console.log("Inside iframe content window");let i=r.contentWindow.document.body.innerText;if(i&&this.contextLoaded==!1){this.contextLoaded=!0;let s=Date.now();this.addDeepContext(i).subscribe(o=>{this.requestTimer=(Date.now()-s)/1e3,console.log("Added the page content to search"),setTimeout(()=>{this.newQuestion.trim()==""&&(this.newQuestion="Who is John Doe ?",this.enableSend=!0,this.sendIsDisabled=!1,this.contextLoaded=!1)},4e3)},o=>{this.iFramePlaceholder="Error ! No response from response from Deep API : "+o,console.error(this.iFramePlaceholder),alert("Check Deep API, Could not add to context ! Refresh the page and try again later.")})}}catch{console.error("Unable to access iframe content due to CORS restrictions."),this.iFramePlaceholder="CORS restriction prevents accessing iframe content",alert("CORS restriction ! Pages from publichome are allowed.")}else alert("CORS restriction ! Pages from publichome are allowed.")}catch{this.iFramePlaceholder="CORS restriction prevents accessing iframe content",alert("CORS restriction ! Pages from publichome are allowed.")}},2e3)}setStyles(){this.firstStyle=`width: ${this.firstProgress}%`,this.secondStyle=`width: ${this.secondProgress}%`}constructor(r,i,s,o,a,c,u){this.ghService=r,this.httpClient=i,this.messaging=s,this.renderer=o,this.el=a,this.markdownService=c,this.sanitizer=u,this.db_options=[{value:"C",label:"Chroma"},{value:"R",label:"Redis"}],this.selectedDBOption=this.db_options[0].value,this.ef_options=[{value:"L",label:"ST"},{value:"O",label:"OA"}],this.selectedEFOption=this.ef_options[0].value,this.requestTimer=0,this.messages=[],this.newQuestion="",this.currentQuestion="",this.aiAnswer="",this.max_context_size=6,this.enableSend=!1,this.firstTimeOpen=!0,this.liked=!1,this.requestStarted=!1,this.firstProgress=25,this.secondProgress=10,this.firstStyle="width: 25%",this.secondStyle="width: 10%",this.activeIndex=0,this.iFramePlaceholder="Enter a publichome.page URL to deep search...",this.url="https://publichome.page/simpleresume",this.loadedUrl="",this.contextLoaded=!1,this.sendIsDisabled=!0,this.initialConversation=[{role:"system",content:"You are in a job interview."}],this.messaging.send({cmd:"host",file:"IaComponent"})}ngOnInit(){this.markdownService.renderer.text=r=>{let i=r;return r}}loadUrl(){this.url.trim()&&(this.loadedUrl=this.url,this.safeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.url))}setNewQuestion(r,i=null){this.newQuestion=r,i!=null?(i.currentTarget.hidden=!0,this.sendMessage()):this.sendMessage()}sendMessage(){if(this.enableSend&&this.newQuestion.trim()!==""){this.enableSend=!1,this.startTimer(),this.messages.push({from:"You",content:`<b>You: </b>${this.newQuestion}`});let r=Date.now();this.queryDeepApi(this.newQuestion).subscribe(i=>{this.requestTimer=(Date.now()-r)/1e3,this.parseDeepResponse(i.answer)},i=>{console.error("Error ! No response from response from Deep API : ",i),alert("DeepPage API is down !!"),this.resetMembers()}),this.currentQuestion=this.newQuestion,this.newQuestion=""}}parseDeepResponse(r){localStorage.setItem(this.currentQuestion,r),this.aiAnswer=r;let i="";this.aiAnswer&&(this.aiAnswer=this.aiAnswer.trim());let s=`<i class="fa-solid fa-robot" style="color:#19C37D">:</i> ${this.aiAnswer}`;this.messages.push({from:"DP",content:s,followUp:i}),this.resetMembers(),this.scrollToBottom()}aiUserLiked(r){this.liked=!0}onScroll(){}addDeepContext(r){let i="https://api.publichome.page/vector/data",s=new Dn({"Content-Type":"application/json"}),o={options:this.selectedDBOption+":"+this.selectedEFOption,web_link:this.loadedUrl,web_content:r};return this.httpClient.post(i,o,{headers:s})}queryDeepApi(r){let i="https://api.publichome.page/webpeek",s=new Dn({"Content-Type":"application/json"}),o={options:this.selectedDBOption+":"+this.selectedEFOption,web_link:this.loadedUrl,query:r};return this.httpClient.post(i,o,{headers:s})}scrollPageToBottom(){this.enableSend=!0,this.firstTimeOpen=!1;let r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=(window.scrollY||window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)+r;this.renderer.setProperty(document.documentElement,"scrollTop",s),this.renderer.setProperty(document.body,"scrollTop",s)}resetMembers(){this.stopTimer(),this.enableSend=!0,this.firstTimeOpen=!1,this.liked=!1,this.requestStarted=!1,this.timerInterval=null,this.firstProgress=25,this.secondProgress=10}scrollToBottom(){try{this.scrollPanel.nativeElement.scrollTop=this.scrollPanel.nativeElement.scrollHeight}catch{}}ngOnDestroy(){this.stopTimer()}random(r){return Math.floor(Math.random()*r+1)}startTimer(){this.requestStarted=!0,this.timerInterval=setInterval(()=>{this.firstProgress=this.firstProgress+this.random(40),this.secondProgress=this.secondProgress+this.random(20),this.firstProgress>100&&(this.firstProgress=0),this.secondProgress>100&&(this.secondProgress=0),this.setStyles(),this.scrollToBottom()},500)}stopTimer(){this.requestStarted=!1,this.timerInterval!=null&&clearInterval(this.timerInterval)}};e.\u0275fac=function(i){return new(i||e)(z(Ft),z(ri),z(Jt),z(En),z(It),z(Zt),z(Zs))},e.\u0275cmp=Ae({type:e,selectors:[["app-deep-page"]],viewQuery:function(i,s){if(i&1&&(Pl(C8,5),Pl(T8,5)),i&2){let o;_a(o=Ea())&&(s.scrollPanel=o.first),_a(o=Ea())&&(s.iframeRef=o.first)}},decls:45,vars:13,consts:[["scrollPanel",""],["placeholder",""],["iframeRef",""],[1,"scroll-panel",3,"scroll"],[1,"row","col-10","col-md-8","mx-auto"],[1,"text-center"],[1,"card-text","small","my-3"],[1,"fa-solid","fa-robot",2,"color","#19C37D"],[2,"color","green"],["class","card-text",4,"ngIf"],[1,"input-group"],["type","text","placeholder","Enter URL...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-right"],[1,"iframe-container","mt-3"],[3,"src","load",4,"ngIf","ngIfElse"],["class","justify-content-center",4,"ngFor","ngForOf"],["id","myCarousel","class","carousel slide","data-bs-ride","carousel",4,"ngIf"],[1,"row","fixed-bottom","justify-content-center",2,"background-color","#F7F7F7"],[1,"col-10","col-md-8"],[1,"input-group","input-group-lg"],["type","text","placeholder","Type your question ...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fa","fa-arrow-up"],[1,"text-center","text-small","my-3","small"],["id","selectOption",1,"form-select","form-select-sm","w-auto","d-inline-block",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"card-text"],[3,"load","src"],[1,"iframe-placeholder"],[1,"justify-content-center"],[1,"pb-0",3,"data"],[4,"ngIf"],["type","button",1,"btn","p-1",3,"click"],[1,"fa-regular","fa-thumbs-up"],[1,"fa-regular","fa-clipboard"],[1,"btn","fa-solid","fa-plus",2,"color","green",3,"click"],["id","myCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"my-3"],["role","progressbar","aria-label","Basic example","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress",2,"height","5px"],[1,"progress-bar"],["role","progressbar","aria-label","Basic example","aria-valuenow","10","aria-valuemin","0","aria-valuemax","100",1,"progress","my-2",2,"height","5px"],[3,"value"]],template:function(i,s){if(i&1){let o=bn();R(0,"div",3,0),Me("scroll",function(){return We(o),Ke(s.onScroll())}),R(2,"div",4)(3,"div",5)(4,"h6",6),ce(5,"i",7),R(6,"b",8),U(7,"D"),P(),U(8,"eep"),R(9,"b",8),U(10,"P"),P(),U(11,"eek"),P(),Ie(12,S8,2,0,"h4",9),R(13,"div",10)(14,"input",11),qi("ngModelChange",function(c){return We(o),Qs(s.url,c)||(s.url=c),Ke(c)}),P(),R(15,"button",12),Me("click",function(){return We(o),Ke(s.loadUrl())}),ce(16,"i",13),P()(),R(17,"div",14),Ie(18,A8,2,1,"iframe",15)(19,x8,2,1,"ng-template",null,1,Ca),P()(),Ie(21,k8,3,2,"div",16)(22,N8,6,4,"div",17),P(),ce(23,"br")(24,"br")(25,"br"),U(26,"\xA0"),ce(27,"br")(28,"br")(29,"br"),P(),R(30,"div",18)(31,"div",19)(32,"div",20)(33,"input",21),qi("ngModelChange",function(c){return We(o),Qs(s.newQuestion,c)||(s.newQuestion=c),Ke(c)}),Me("keyup.enter",function(){return We(o),Ke(s.sendMessage())}),P(),R(34,"button",22),Me("click",function(){return We(o),Ke(s.sendMessage())}),ce(35,"i",23),P()(),R(36,"div",24),ce(37,"i",7),U(38," \xA0using "),R(39,"select",25),qi("ngModelChange",function(c){return We(o),Qs(s.selectedDBOption,c)||(s.selectedDBOption=c),Ke(c)}),Ie(40,P8,2,2,"option",26),P(),U(41," \xA0with\xA0 "),R(42,"select",25),qi("ngModelChange",function(c){return We(o),Qs(s.selectedEFOption,c)||(s.selectedEFOption=c),Ke(c)}),Ie(43,O8,2,2,"option",26),P(),U(44),P()()()}if(i&2){let o=Ia(20);V(12),X("ngIf",s.firstTimeOpen&&!s.requestStarted),V(2),zi("ngModel",s.url),V(4),X("ngIf",s.loadedUrl)("ngIfElse",o),V(3),X("ngForOf",s.messages),V(),X("ngIf",s.requestStarted),V(11),zi("ngModel",s.newQuestion),V(),X("disabled",!s.enableSend),V(5),zi("ngModel",s.selectedDBOption),V(),X("ngForOf",s.db_options),V(2),zi("ngModel",s.selectedEFOption),V(),X("ngForOf",s.ef_options),V(),ft(" \xA0",s.requestTimer>0?s.requestTimer+"s":""," ")}},dependencies:[Qt,Yt,eR,nR,Va,lp,ap,ru,Kn],styles:[".iframe-container[_ngcontent-%COMP%]{width:100%;height:300px;border:2px solid #ccc;border-radius:5px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center}.iframe-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.iframe-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#aaa;font-style:italic;font-size:16px;background:#f8f9fa}"]});let n=e;return n})();var F8={scrollPositionRestoration:"enabled",anchorScrolling:"enabled",enableTracing:!he.production},V8=[{path:"i/:folder/:id",component:md,children:[{path:"**",component:md}]},{path:"chat",component:XO},{path:"roadmap",component:ZO},{path:":ghUser/articles",component:tD},{path:"articles",component:tD},{path:"crazycoupons",component:KO},{path:"contacts",component:S0},{path:":ghUser/contacts",component:S0},{path:"",component:Kk},{path:":ghUser",component:eD,children:[{path:"**",component:eD}]}],eF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e}),e.\u0275inj=Mt({imports:[Ma,u0.forRoot(V8,F8),u0]});let n=e;return n})();var tF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Rt({type:e,bootstrap:[ne]}),e.\u0275inj=Mt({providers:[eM(),{provide:Vc,useValue:he.firebaseConfig}],imports:[lM,rR,eF,xM.forRoot({loader:ri,markedOptions:{provide:v_,useValue:{gfm:!0,breaks:!1,pedantic:!1}},sanitize:_n.NONE})]});let n=e;return n})();mx(ne,function(){return[Yt,i0,iR,Qk]},[]);cM().bootstrapModule(tF).catch(n=>console.error(n));
